<?xml version="1.0" encoding="UTF-8"?>
<library xmlns="urn:hl7-org:elm:r1" xmlns:t="urn:hl7-org:elm-types:r1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:fhir="http://hl7.org/fhir" xmlns:qdm43="urn:healthit-gov:qdm:v4_3" xmlns:qdm53="urn:healthit-gov:qdm:v5_3" xmlns:a="urn:hl7-org:cql-annotations:r1">
   <annotation startLine="152" startChar="5" endLine="152" endChar="61" message="Could not resolve code path code for the type of the retrieve FHIR.DeviceUseStatement." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
   <annotation startLine="152" startChar="5" endLine="152" endChar="61" message="Could not resolve membership operator for terminology target of the retrieve." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
   <annotation startLine="153" startChar="11" endLine="153" endChar="92" message="Could not resolve code path code for the type of the retrieve FHIR.DeviceUseStatement." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
   <annotation startLine="153" startChar="11" endLine="153" endChar="92" message="Could not resolve membership operator for terminology target of the retrieve." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
   <annotation startLine="154" startChar="11" endLine="154" endChar="81" message="Could not resolve code path code for the type of the retrieve FHIR.DeviceUseStatement." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
   <annotation startLine="154" startChar="11" endLine="154" endChar="81" message="Could not resolve membership operator for terminology target of the retrieve." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
   <annotation startLine="336" startChar="5" endLine="336" endChar="86" message="Could not resolve code path code for the type of the retrieve FHIR.DeviceUseStatement." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
   <annotation startLine="336" startChar="5" endLine="336" endChar="86" message="Could not resolve membership operator for terminology target of the retrieve." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
   <annotation startLine="337" startChar="11" endLine="337" endChar="67" message="Could not resolve code path code for the type of the retrieve FHIR.DeviceUseStatement." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
   <annotation startLine="337" startChar="11" endLine="337" endChar="67" message="Could not resolve membership operator for terminology target of the retrieve." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
   <annotation startLine="338" startChar="11" endLine="338" endChar="81" message="Could not resolve code path code for the type of the retrieve FHIR.DeviceUseStatement." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
   <annotation startLine="338" startChar="11" endLine="338" endChar="81" message="Could not resolve membership operator for terminology target of the retrieve." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
   <annotation startLine="522" startChar="4" endLine="522" endChar="53" message="Could not resolve membership operator for terminology target of the retrieve." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
   <identifier id="EXM108_FHIR3" version="7.4.000"/>
   <schemaIdentifier id="urn:hl7-org:elm" version="r1"/>
   <usings>
      <def localIdentifier="System" uri="urn:hl7-org:elm-types:r1"/>
      <def localId="1" locator="67:1-67:26" localIdentifier="FHIR" uri="http://hl7.org/fhir" version="3.0.0"/>
   </usings>
   <includes>
      <def localId="2" locator="69:1-69:54" localIdentifier="FHIRHelpers" path="FHIRHelpers" version="3.0.0"/>
      <def localId="3" locator="70:1-70:70" localIdentifier="Global" path="MATGlobalCommonFunctions_FHIR3" version="2.0.000"/>
      <def localId="4" locator="71:1-71:52" localIdentifier="VTEICU" path="VTEICU_FHIR3" version="2.4.000"/>
      <def localId="5" locator="72:1-72:65" localIdentifier="SDE" path="SupplementalDataElements_FHIR3" version="1.0.0"/>
   </includes>
   <codeSystems>
      <def localId="6" locator="74:1-74:60" name="SNOMEDCT" id="http://snomed.info/sct/731000124108" accessLevel="Public"/>
      <def localId="7" locator="75:1-75:38" name="LOINC" id="http://loinc.org" accessLevel="Public"/>
      <def localId="8" locator="76:1-76:64" name="RequestIntent" id="http://hl7.org/fhir/request-intent" accessLevel="Public"/>
   </codeSystems>
   <valueSets>
      <def localId="9" locator="78:1-78:98" name="ONC Administrative Sex" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1" accessLevel="Public"/>
      <def localId="10" locator="79:1-79:83" name="Race" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.114222.4.11.836" accessLevel="Public"/>
      <def localId="11" locator="80:1-80:88" name="Ethnicity" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.114222.4.11.837" accessLevel="Public"/>
      <def localId="12" locator="81:1-81:85" name="Payer" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.114222.4.11.3591" accessLevel="Public"/>
      <def localId="13" locator="82:1-82:113" name="Atrial Fibrillation/Flutter" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.202" accessLevel="Public"/>
      <def localId="14" locator="83:1-83:95" name="Comfort Measures" id="https://cts.nlm.nih.gov/fhir/ValueSet/1.3.6.1.4.1.33895.1.3.0.45" accessLevel="Public"/>
      <def localId="15" locator="84:1-84:111" name="Direct Thrombin Inhibitor" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.205" accessLevel="Public"/>
      <def localId="16" locator="85:1-85:112" name="Emergency Department Visit" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.292" accessLevel="Public"/>
      <def localId="17" locator="86:1-86:114" name="General or Neuraxial Anesthesia" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.666.5.1743" accessLevel="Public"/>
      <def localId="18" locator="87:1-87:101" name="General Surgery" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.255" accessLevel="Public"/>
      <def localId="19" locator="88:1-88:114" name="Glycoprotein IIb/IIIa Inhibitors" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.41" accessLevel="Public"/>
      <def localId="20" locator="89:1-89:123" name="Graduated compression stockings (GCS)" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.256" accessLevel="Public"/>
      <def localId="21" locator="90:1-90:107" name="Gynecological Surgery" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.257" accessLevel="Public"/>
      <def localId="22" locator="91:1-91:104" name="Hemorrhagic Stroke" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.212" accessLevel="Public"/>
      <def localId="23" locator="92:1-92:106" name="Hip Fracture Surgery" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.258" accessLevel="Public"/>
      <def localId="24" locator="93:1-93:109" name="Hip Replacement Surgery" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.259" accessLevel="Public"/>
      <def localId="25" locator="94:1-94:136" name="Injectable Factor Xa Inhibitor for VTE Prophylaxis" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.211" accessLevel="Public"/>
      <def localId="26" locator="95:1-95:89" name="INR" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.213" accessLevel="Public"/>
      <def localId="27" locator="96:1-96:134" name="Intermittent pneumatic compression devices (IPC)" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.214" accessLevel="Public"/>
      <def localId="28" locator="97:1-97:111" name="Intracranial Neurosurgery" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.260" accessLevel="Public"/>
      <def localId="29" locator="98:1-98:103" name="Intravenous route" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.222" accessLevel="Public"/>
      <def localId="30" locator="99:1-99:101" name="Ischemic Stroke" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.247" accessLevel="Public"/>
      <def localId="31" locator="100:1-100:110" name="Knee Replacement Surgery" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.261" accessLevel="Public"/>
      <def localId="32" locator="101:1-101:133" name="Low Dose Unfractionated Heparin for VTE Prophylaxis" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.39" accessLevel="Public"/>
      <def localId="33" locator="102:1-102:134" name="Low Molecular Weight Heparin for VTE Prophylaxis" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.219" accessLevel="Public"/>
      <def localId="34" locator="103:1-103:94" name="Low Risk" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.400" accessLevel="Public"/>
      <def localId="35" locator="104:1-104:100" name="Medical Reason" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.473" accessLevel="Public"/>
      <def localId="36" locator="105:1-105:116" name="Mental Health Diagnoses" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.105.12.1004" accessLevel="Public"/>
      <def localId="37" locator="106:1-106:96" name="Obstetrics" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.263" accessLevel="Public"/>
      <def localId="38" locator="107:1-107:100" name="Obstetrics VTE" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.264" accessLevel="Public"/>
      <def localId="39" locator="108:1-108:147" name="Oral Factor Xa Inhibitor for VTE Prophylaxis or VTE Treatment" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.134" accessLevel="Public"/>
      <def localId="40" locator="109:1-109:100" name="Patient Refusal" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.93" accessLevel="Public"/>
      <def localId="41" locator="111:1-111:104" name="Subcutaneous route" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.223" accessLevel="Public"/>
      <def localId="42" locator="112:1-112:108" name="Unfractionated Heparin" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.218" accessLevel="Public"/>
      <def localId="43" locator="113:1-113:104" name="Urological Surgery" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.272" accessLevel="Public"/>
      <def localId="44" locator="114:1-114:109" name="Venous foot pumps (VFP)" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.230" accessLevel="Public"/>
      <def localId="45" locator="115:1-115:108" name="Venous Thromboembolism" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.279" accessLevel="Public"/>
      <def localId="46" locator="116:1-116:94" name="Warfarin" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.232" accessLevel="Public"/>
      <def localId="47" locator="117:1-117:101" name="Intensive Care Unit" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.23" accessLevel="Public"/>
   </valueSets>
   <codes>
      <def localId="49" locator="119:1-119:104" name="Risk for venous thromboembolism" id="72136-5" display="Risk for venous thromboembolism" accessLevel="Public">
         <codeSystem localId="48" locator="119:56-119:62" name="LOINC"/>
      </def>
      <def localId="51" locator="120:1-120:82" name="Principal" id="63161005" display="Principal (qualifier value)" accessLevel="Public">
         <codeSystem localId="50" locator="120:35-120:44" name="SNOMEDCT"/>
      </def>
      <def localId="53" locator="121:1-121:58" name="Order" id="order" display="Order" accessLevel="Public">
         <codeSystem localId="52" locator="121:28-121:42" name="RequestIntent"/>
      </def>
   </codes>
   <statements>
      <def locator="123:1-123:15" name="Patient" context="Patient">
         <expression xsi:type="SingletonFrom">
            <operand locator="123:1-123:15" dataType="fhir:Patient" xsi:type="Retrieve"/>
         </expression>
      </def>
      <def localId="56" locator="125:1-126:21" name="SDE Ethnicity" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="56">
               <a:s>define &quot;SDE Ethnicity&quot;:&#xd;
  </a:s>
               <a:s r="55">
                  <a:s r="54">
                     <a:s>SDE</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="55">
                     <a:s>&quot;SDE Ethnicity&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="55" locator="126:3-126:21" name="SDE Ethnicity" libraryName="SDE" xsi:type="ExpressionRef"/>
      </def>
      <def localId="59" locator="128:1-129:16" name="SDE Payer" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="59">
               <a:s>define &quot;SDE Payer&quot;:&#xd;
	</a:s>
               <a:s r="58">
                  <a:s r="57">
                     <a:s>SDE</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="58">
                     <a:s>&quot;SDE Payer&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="58" locator="129:2-129:16" name="SDE Payer" libraryName="SDE" xsi:type="ExpressionRef"/>
      </def>
      <def localId="62" locator="131:1-132:16" name="SDE Race" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="62">
               <a:s>define &quot;SDE Race&quot;:&#xd;
  </a:s>
               <a:s r="61">
                  <a:s r="60">
                     <a:s>SDE</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="61">
                     <a:s>&quot;SDE Race&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="61" locator="132:3-132:16" name="SDE Race" libraryName="SDE" xsi:type="ExpressionRef"/>
      </def>
      <def localId="65" locator="134:1-135:14" name="SDE Sex" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="65">
               <a:s>define &quot;SDE Sex&quot;:&#xd;
	</a:s>
               <a:s r="64">
                  <a:s r="63">
                     <a:s>SDE</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="64">
                     <a:s>&quot;SDE Sex&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="64" locator="135:2-135:14" name="SDE Sex" libraryName="SDE" xsi:type="ExpressionRef"/>
      </def>
      <def localId="137" locator="253:1-267:7" name="Admission Without VTE or Obstetrical Conditions" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="137">
               <a:s>define &quot;Admission Without VTE or Obstetrical Conditions&quot;:&#xd;
		</a:s>
               <a:s r="136">
                  <a:s r="107">
                     <a:s>(</a:s>
                     <a:s r="107">
                        <a:s>
                           <a:s r="85">
                              <a:s r="84">
                                 <a:s>
                                    <a:s>Global.&quot;Inpatient Encounter&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> InpatientEncounter</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
		</a:s>
                        <a:s r="106">
                           <a:s>where </a:s>
                           <a:s r="106">
                              <a:s>not </a:s>
                              <a:s r="105">
                                 <a:s>(</a:s>
                                 <a:s r="105">
                                    <a:s r="98">
                                       <a:s r="91">
                                          <a:s r="89">
                                             <a:s r="88">
                                                <a:s r="86">
                                                   <a:s>Global</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="88">
                                                   <a:s>EncounterDiagnosis(</a:s>
                                                   <a:s r="87">
                                                      <a:s>InpatientEncounter</a:s>
                                                   </a:s>
                                                   <a:s>)</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="89">
                                                <a:s>code</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="90">
                                             <a:s>&quot;Obstetrics&quot;</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>&#xd;
								or </a:s>
                                       <a:s r="97">
                                          <a:s r="95">
                                             <a:s r="94">
                                                <a:s r="92">
                                                   <a:s>Global</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="94">
                                                   <a:s>EncounterDiagnosis(</a:s>
                                                   <a:s r="93">
                                                      <a:s>InpatientEncounter</a:s>
                                                   </a:s>
                                                   <a:s>)</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="95">
                                                <a:s>code</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="96">
                                             <a:s>&quot;Venous Thromboembolism&quot;</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>&#xd;
								or </a:s>
                                    <a:s r="104">
                                       <a:s r="102">
                                          <a:s r="101">
                                             <a:s r="99">
                                                <a:s>Global</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="101">
                                                <a:s>EncounterDiagnosis(</a:s>
                                                <a:s r="100">
                                                   <a:s>InpatientEncounter</a:s>
                                                </a:s>
                                                <a:s>)</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="102">
                                             <a:s>code</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> in </a:s>
                                       <a:s r="103">
                                          <a:s>&quot;Obstetrics VTE&quot;</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
							)</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
    )</a:s>
                  </a:s>
                  <a:s>&#xd;
		intersect </a:s>
                  <a:s r="135">
                     <a:s>(</a:s>
                     <a:s r="135">
                        <a:s>
                           <a:s r="109">
                              <a:s r="108">
                                 <a:s>
                                    <a:s>Global.&quot;Inpatient Encounter&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> InpatientEncounter</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
				</a:s>
                        <a:s r="134">
                           <a:s>without </a:s>
                           <a:s r="115">
                              <a:s r="114">
                                 <a:s>( </a:s>
                                 <a:s r="114">
                                    <a:s r="112">
                                       <a:s r="110">
                                          <a:s>[&quot;Condition&quot;: code in </a:s>
                                          <a:s>
                                             <a:s>&quot;Obstetrics&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                       <a:s>&#xd;
									union </a:s>
                                       <a:s r="111">
                                          <a:s>[&quot;Condition&quot;: code in </a:s>
                                          <a:s>
                                             <a:s>&quot;Venous Thromboembolism&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>&#xd;
									union </a:s>
                                    <a:s r="113">
                                       <a:s>[&quot;Condition&quot;: code in </a:s>
                                       <a:s>
                                          <a:s>&quot;Obstetrics VTE&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>	Diagnosis</a:s>
                           </a:s>
                           <a:s>&#xd;
				such that </a:s>
                           <a:s r="133">
                              <a:s r="124">
                                 <a:s r="119">
                                    <a:s r="117">
                                       <a:s r="116">
                                          <a:s>Diagnosis</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="117">
                                          <a:s>clinicalStatus</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="118">
                                       <a:s>'active'</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
        		and </a:s>
                                 <a:s r="123">
                                    <a:s r="121">
                                       <a:s r="120">
                                          <a:s>Diagnosis</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="121">
                                          <a:s>verificationStatus</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="122">
                                       <a:s>'confirmed'</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>&#xd;
						and </a:s>
                              <a:s r="132">
                                 <a:s r="128">
                                    <a:s r="125">
                                       <a:s>Global</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="128">
                                       <a:s>&quot;Normalize Onset&quot;(</a:s>
                                       <a:s r="127">
                                          <a:s r="126">
                                             <a:s>Diagnosis</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="127">
                                             <a:s>onset</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s r="132"> during </a:s>
                                 <a:s r="131">
                                    <a:s r="129">
                                       <a:s>Global</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="131">
                                       <a:s>&quot;Hospitalization&quot;(</a:s>
                                       <a:s r="130">
                                          <a:s>InpatientEncounter</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
						)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="136" locator="254:3-267:7" xsi:type="Intersect">
            <operand localId="107" locator="254:3-259:5" xsi:type="Query">
               <source localId="85" locator="254:4-254:50" alias="InpatientEncounter">
                  <expression localId="84" locator="254:4-254:31" name="Inpatient Encounter" libraryName="Global" xsi:type="ExpressionRef"/>
               </source>
               <where localId="106" locator="255:3-258:8" xsi:type="Not">
                  <operand localId="105" locator="255:13-258:8" xsi:type="Or">
                     <operand localId="98" locator="255:14-256:89" xsi:type="Or">
                        <operand localId="91" locator="255:14-255:79" xsi:type="AnyInValueSet">
                           <codes xsi:type="Query">
                              <source alias="X">
                                 <expression localId="89" locator="255:14-255:63" xsi:type="Query">
                                    <source alias="$this">
                                       <expression localId="88" locator="255:14-255:58" name="EncounterDiagnosis" libraryName="Global" xsi:type="FunctionRef">
                                          <operand localId="87" locator="255:40-255:57" name="InpatientEncounter" xsi:type="AliasRef"/>
                                       </expression>
                                    </source>
                                    <where xsi:type="Not">
                                       <operand xsi:type="IsNull">
                                          <operand path="code" xsi:type="Property">
                                             <source name="$this" xsi:type="AliasRef"/>
                                          </operand>
                                       </operand>
                                    </where>
                                    <return>
                                       <expression path="code" xsi:type="Property">
                                          <source name="$this" xsi:type="AliasRef"/>
                                       </expression>
                                    </return>
                                 </expression>
                              </source>
                              <return distinct="false">
                                 <expression name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand name="X" xsi:type="AliasRef"/>
                                 </expression>
                              </return>
                           </codes>
                           <valueset localId="90" locator="255:68-255:79" name="Obstetrics"/>
                        </operand>
                        <operand localId="97" locator="256:12-256:89" xsi:type="AnyInValueSet">
                           <codes xsi:type="Query">
                              <source alias="X">
                                 <expression localId="95" locator="256:12-256:61" xsi:type="Query">
                                    <source alias="$this">
                                       <expression localId="94" locator="256:12-256:56" name="EncounterDiagnosis" libraryName="Global" xsi:type="FunctionRef">
                                          <operand localId="93" locator="256:38-256:55" name="InpatientEncounter" xsi:type="AliasRef"/>
                                       </expression>
                                    </source>
                                    <where xsi:type="Not">
                                       <operand xsi:type="IsNull">
                                          <operand path="code" xsi:type="Property">
                                             <source name="$this" xsi:type="AliasRef"/>
                                          </operand>
                                       </operand>
                                    </where>
                                    <return>
                                       <expression path="code" xsi:type="Property">
                                          <source name="$this" xsi:type="AliasRef"/>
                                       </expression>
                                    </return>
                                 </expression>
                              </source>
                              <return distinct="false">
                                 <expression name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand name="X" xsi:type="AliasRef"/>
                                 </expression>
                              </return>
                           </codes>
                           <valueset localId="96" locator="256:66-256:89" name="Venous Thromboembolism"/>
                        </operand>
                     </operand>
                     <operand localId="104" locator="257:12-257:81" xsi:type="AnyInValueSet">
                        <codes xsi:type="Query">
                           <source alias="X">
                              <expression localId="102" locator="257:12-257:61" xsi:type="Query">
                                 <source alias="$this">
                                    <expression localId="101" locator="257:12-257:56" name="EncounterDiagnosis" libraryName="Global" xsi:type="FunctionRef">
                                       <operand localId="100" locator="257:38-257:55" name="InpatientEncounter" xsi:type="AliasRef"/>
                                    </expression>
                                 </source>
                                 <where xsi:type="Not">
                                    <operand xsi:type="IsNull">
                                       <operand path="code" xsi:type="Property">
                                          <source name="$this" xsi:type="AliasRef"/>
                                       </operand>
                                    </operand>
                                 </where>
                                 <return>
                                    <expression path="code" xsi:type="Property">
                                       <source name="$this" xsi:type="AliasRef"/>
                                    </expression>
                                 </return>
                              </expression>
                           </source>
                           <return distinct="false">
                              <expression name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand name="X" xsi:type="AliasRef"/>
                              </expression>
                           </return>
                        </codes>
                        <valueset localId="103" locator="257:66-257:81" name="Obstetrics VTE"/>
                     </operand>
                  </operand>
               </where>
            </operand>
            <operand localId="135" locator="260:13-267:7" xsi:type="Query">
               <source localId="109" locator="260:14-260:60" alias="InpatientEncounter">
                  <expression localId="108" locator="260:14-260:41" name="Inpatient Encounter" libraryName="Global" xsi:type="ExpressionRef"/>
               </source>
               <relationship localId="134" locator="261:5-266:103" alias="Diagnosis" xsi:type="Without">
                  <expression localId="114" locator="261:13-263:55" xsi:type="Union">
                     <operand localId="112" locator="261:15-262:62" xsi:type="Union">
                        <operand localId="110" locator="261:15-261:49" dataType="fhir:Condition" codeProperty="code" xsi:type="Retrieve">
                           <codes locator="261:37-261:48" name="Obstetrics" xsi:type="ValueSetRef"/>
                        </operand>
                        <operand localId="111" locator="262:16-262:62" dataType="fhir:Condition" codeProperty="code" xsi:type="Retrieve">
                           <codes locator="262:38-262:61" name="Venous Thromboembolism" xsi:type="ValueSetRef"/>
                        </operand>
                     </operand>
                     <operand localId="113" locator="263:16-263:54" dataType="fhir:Condition" codeProperty="code" xsi:type="Retrieve">
                        <codes locator="263:38-263:53" name="Obstetrics VTE" xsi:type="ValueSetRef"/>
                     </operand>
                  </expression>
                  <suchThat localId="133" locator="264:15-266:103" xsi:type="And">
                     <operand localId="124" locator="264:15-265:56" xsi:type="And">
                        <operand localId="119" locator="264:15-264:49" xsi:type="Equal">
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="117" locator="264:15-264:38" path="clinicalStatus" scope="Diagnosis" xsi:type="Property"/>
                           </operand>
                           <operand localId="118" locator="264:42-264:49" valueType="t:String" value="active" xsi:type="Literal"/>
                        </operand>
                        <operand localId="123" locator="265:15-265:56" xsi:type="Equal">
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="121" locator="265:15-265:42" path="verificationStatus" scope="Diagnosis" xsi:type="Property"/>
                           </operand>
                           <operand localId="122" locator="265:46-265:56" valueType="t:String" value="confirmed" xsi:type="Literal"/>
                        </operand>
                     </operand>
                     <operand localId="132" locator="266:11-266:103" xsi:type="IncludedIn">
                        <operand localId="128" locator="266:11-266:51" name="Normalize Onset" libraryName="Global" xsi:type="FunctionRef">
                           <operand localId="127" locator="266:36-266:50" path="onset" scope="Diagnosis" xsi:type="Property"/>
                        </operand>
                        <operand xsi:type="Interval">
                           <low xsi:type="As">
                              <operand path="low" xsi:type="Property">
                                 <source localId="131" locator="266:60-266:103" name="Hospitalization" libraryName="Global" xsi:type="FunctionRef">
                                    <operand localId="130" locator="266:85-266:102" name="InpatientEncounter" xsi:type="AliasRef"/>
                                 </source>
                              </operand>
                              <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                 <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 <choice name="fhir:decimal" xsi:type="NamedTypeSpecifier"/>
                                 <choice name="t:String" xsi:type="NamedTypeSpecifier"/>
                              </asTypeSpecifier>
                           </low>
                           <lowClosedExpression path="lowClosed" xsi:type="Property">
                              <source localId="131" locator="266:60-266:103" name="Hospitalization" libraryName="Global" xsi:type="FunctionRef">
                                 <operand localId="130" locator="266:85-266:102" name="InpatientEncounter" xsi:type="AliasRef"/>
                              </source>
                           </lowClosedExpression>
                           <high xsi:type="As">
                              <operand path="high" xsi:type="Property">
                                 <source localId="131" locator="266:60-266:103" name="Hospitalization" libraryName="Global" xsi:type="FunctionRef">
                                    <operand localId="130" locator="266:85-266:102" name="InpatientEncounter" xsi:type="AliasRef"/>
                                 </source>
                              </operand>
                              <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                 <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 <choice name="fhir:decimal" xsi:type="NamedTypeSpecifier"/>
                                 <choice name="t:String" xsi:type="NamedTypeSpecifier"/>
                              </asTypeSpecifier>
                           </high>
                           <highClosedExpression path="highClosed" xsi:type="Property">
                              <source localId="131" locator="266:60-266:103" name="Hospitalization" libraryName="Global" xsi:type="FunctionRef">
                                 <operand localId="130" locator="266:85-266:102" name="InpatientEncounter" xsi:type="AliasRef"/>
                              </source>
                           </highClosedExpression>
                        </operand>
                     </operand>
                  </suchThat>
               </relationship>
            </operand>
         </expression>
      </def>
      <def localId="140" locator="433:1-438:61" name="Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="140">
               <a:s>define &quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot;:&#xd;
	</a:s>
               <a:s r="139">
                  <a:s r="83">
                     <a:s>( </a:s>
                     <a:s r="83">
                        <a:s>
                           <a:s r="67">
                              <a:s r="66">
                                 <a:s>
                                    <a:s>Global.&quot;Inpatient Encounter&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> InpatientEncounter</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
			</a:s>
                        <a:s r="82">
                           <a:s>with </a:s>
                           <a:s r="69">
                              <a:s r="68">
                                 <a:s r="68">
                                    <a:s>[&quot;Patient&quot;]</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> BirthDate</a:s>
                           </a:s>
                           <a:s>&#xd;
				such that </a:s>
                           <a:s r="81">
                              <a:s r="79">
                                 <a:s r="70">
                                    <a:s>Global</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="79">
                                    <a:s>&quot;CalendarAgeInYearsAt&quot;(</a:s>
                                    <a:s r="73">
                                       <a:s>ToDateTime(</a:s>
                                       <a:s r="72">
                                          <a:s r="71">
                                             <a:s>BirthDate</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="72">
                                             <a:s>birthDate</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s>, </a:s>
                                    <a:s r="78">
                                       <a:s>start of </a:s>
                                       <a:s r="77">
                                          <a:s r="74">
                                             <a:s>FHIRHelpers</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="77">
                                             <a:s>ToInterval(</a:s>
                                             <a:s r="76">
                                                <a:s r="75">
                                                   <a:s>InpatientEncounter</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="76">
                                                   <a:s>period</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                              </a:s>
                              <a:s r="80"> >= 18</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
	)</a:s>
                  </a:s>
                  <a:s>&#xd;
		intersect </a:s>
                  <a:s r="138">
                     <a:s>&quot;Admission Without VTE or Obstetrical Conditions&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="139" locator="434:2-438:61" xsi:type="Intersect">
            <operand localId="83" locator="434:2-437:2" xsi:type="Query">
               <source localId="67" locator="434:4-434:50" alias="InpatientEncounter">
                  <expression localId="66" locator="434:4-434:31" name="Inpatient Encounter" libraryName="Global" xsi:type="ExpressionRef"/>
               </source>
               <relationship localId="82" locator="435:4-436:142" alias="BirthDate" xsi:type="With">
                  <expression localId="68" locator="435:9-435:19" dataType="fhir:Patient" xsi:type="Retrieve"/>
                  <suchThat localId="81" locator="436:15-436:142" xsi:type="GreaterOrEqual">
                     <operand localId="79" locator="436:15-436:136" name="CalendarAgeInYearsAt" libraryName="Global" xsi:type="FunctionRef">
                        <operand localId="73" locator="436:45-436:75" xsi:type="ToDateTime">
                           <operand name="ToDate" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="72" locator="436:56-436:74" path="birthDate" scope="BirthDate" xsi:type="Property"/>
                           </operand>
                        </operand>
                        <operand localId="78" locator="436:78-436:135" xsi:type="Start">
                           <operand localId="77" locator="436:87-436:135" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="76" locator="436:110-436:134" path="period" scope="InpatientEncounter" xsi:type="Property"/>
                           </operand>
                        </operand>
                     </operand>
                     <operand localId="80" locator="436:141-436:142" valueType="t:Integer" value="18" xsi:type="Literal"/>
                  </suchThat>
               </relationship>
            </operand>
            <operand localId="138" locator="438:13-438:61" name="Admission Without VTE or Obstetrical Conditions" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="142" locator="144:1-145:79" name="Initial Population" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="142">
               <a:s>define &quot;Initial Population&quot;:&#xd;
	</a:s>
               <a:s r="141">
                  <a:s>&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot;</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="141" locator="145:2-145:79" name="Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions" xsi:type="ExpressionRef"/>
      </def>
      <def localId="144" locator="137:1-138:21" name="Denominator" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="144">
               <a:s>define &quot;Denominator&quot;:&#xd;
	</a:s>
               <a:s r="143">
                  <a:s>&quot;Initial Population&quot;</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="143" locator="138:2-138:21" name="Initial Population" xsi:type="ExpressionRef"/>
      </def>
      <def localId="152" locator="140:1-142:37" name="ED Visit" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="152">
               <a:s>define &quot;ED Visit&quot;:&#xd;
	</a:s>
               <a:s r="151">
                  <a:s>
                     <a:s r="146">
                        <a:s r="145">
                           <a:s r="145">
                              <a:s>[&quot;Encounter&quot;: type in </a:s>
                              <a:s>
                                 <a:s>&quot;Emergency Department Visit&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> EDVisit</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
    </a:s>
                  <a:s r="150">
                     <a:s>where </a:s>
                     <a:s r="150">
                        <a:s r="148">
                           <a:s r="147">
                              <a:s>EDVisit</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="148">
                              <a:s>status</a:s>
                           </a:s>
                        </a:s>
                        <a:s> = </a:s>
                        <a:s r="149">
                           <a:s>'finished'</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="151" locator="141:2-142:37" xsi:type="Query">
            <source localId="146" locator="141:2-141:60" alias="EDVisit">
               <expression localId="145" locator="141:2-141:52" dataType="fhir:Encounter" codeProperty="type" xsi:type="Retrieve">
                  <codes locator="141:24-141:51" name="Emergency Department Visit" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="150" locator="142:5-142:37" xsi:type="Equal">
               <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                  <operand localId="148" locator="142:11-142:24" path="status" scope="EDVisit" xsi:type="Property"/>
               </operand>
               <operand localId="149" locator="142:28-142:37" valueType="t:String" value="finished" xsi:type="Literal"/>
            </where>
         </expression>
      </def>
      <def localId="175" locator="169:1-170:58" name="GetExtension" context="Patient" accessLevel="Public" xsi:type="FunctionDef">
         <annotation xsi:type="a:Annotation">
            <a:s r="175">
               <a:s>define function GetExtension(Extensions </a:s>
               <a:s r="163">
                  <a:s>List&lt;</a:s>
                  <a:s r="162">
                     <a:s>Extension</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>, URL </a:s>
               <a:s r="164">
                  <a:s>String</a:s>
               </a:s>
               <a:s>):&#xd;
  </a:s>
               <a:s r="174">
                  <a:s r="174">
                     <a:s>singleton from </a:s>
                     <a:s r="173">
                        <a:s>(</a:s>
                        <a:s r="173">
                           <a:s>
                              <a:s r="166">
                                 <a:s r="165">
                                    <a:s>
                                       <a:s>Extensions</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> E</a:s>
                              </a:s>
                           </a:s>
                           <a:s> </a:s>
                           <a:s r="170">
                              <a:s>where </a:s>
                              <a:s r="170">
                                 <a:s r="168">
                                    <a:s r="167">
                                       <a:s>E</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="168">
                                       <a:s>url</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> = </a:s>
                                 <a:s r="169">
                                    <a:s>URL</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s> </a:s>
                           <a:s r="172">
                              <a:s>return </a:s>
                              <a:s r="171">
                                 <a:s>E</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>)</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="174" locator="170:3-170:58" xsi:type="SingletonFrom">
            <operand localId="173" locator="170:18-170:58" xsi:type="Query">
               <source localId="166" locator="170:19-170:30" alias="E">
                  <expression localId="165" locator="170:19-170:28" name="Extensions" xsi:type="OperandRef"/>
               </source>
               <where localId="170" locator="170:32-170:48" xsi:type="Equal">
                  <operand localId="168" locator="170:38-170:42" path="url" scope="E" xsi:type="Property"/>
                  <operand localId="169" locator="170:46-170:48" name="URL" xsi:type="OperandRef"/>
               </where>
               <return localId="172" locator="170:50-170:57">
                  <expression localId="171" locator="170:57" name="E" xsi:type="AliasRef"/>
               </return>
            </operand>
         </expression>
         <operand name="Extensions">
            <operandTypeSpecifier localId="163" locator="169:41-169:55" xsi:type="ListTypeSpecifier">
               <elementType localId="162" locator="169:46-169:54" name="fhir:Extension" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
         <operand name="URL">
            <operandTypeSpecifier localId="164" locator="169:62-169:67" name="t:String" xsi:type="NamedTypeSpecifier"/>
         </operand>
      </def>
      <def localId="200" locator="150:1-167:3" name="No VTE Prophylaxis Device Applied or Ordered" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="200">
               <a:s>define &quot;No VTE Prophylaxis Device Applied or Ordered&quot;:&#xd;
  // NOTE: Should be using device.code, but that requires CQL 1.4&#xd;
  </a:s>
               <a:s r="199">
                  <a:s r="179">
                     <a:s>(</a:s>
                     <a:s r="179">
                        <a:s>
                           <a:s r="158">
                              <a:s r="157">
                                 <a:s>(</a:s>
                                 <a:s r="157">
                                    <a:s r="155">
                                       <a:s r="153">
                                          <a:s>[&quot;DeviceUseStatement&quot;: code in </a:s>
                                          <a:s>
                                             <a:s>&quot;Venous foot pumps (VFP)&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                       <a:s>&#xd;
    union </a:s>
                                       <a:s r="154">
                                          <a:s>[&quot;DeviceUseStatement&quot;: code in </a:s>
                                          <a:s>
                                             <a:s>&quot;Intermittent pneumatic compression devices (IPC)&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>&#xd;
    union </a:s>
                                    <a:s r="156">
                                       <a:s>[&quot;DeviceUseStatement&quot;: code in </a:s>
                                       <a:s>
                                          <a:s>&quot;Graduated compression stockings (GCS)&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
  )</a:s>
                              </a:s>
                              <a:s> D</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
    </a:s>
                        <a:s r="178">
                           <a:s>where </a:s>
                           <a:s r="178">
                              <a:s r="177">
                                 <a:s r="176">
                                    <a:s>GetExtension(</a:s>
                                    <a:s r="160">
                                       <a:s r="159">
                                          <a:s>D</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="160">
                                          <a:s>extension</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>, </a:s>
                                    <a:s r="161">
                                       <a:s>'http://example.org/fhir/extensions/notDone'</a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="177">
                                    <a:s>value</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> is true</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
    //where D.notDone is true // Needs a QI-Core extension to support&#xd;
  )</a:s>
                  </a:s>
                  <a:s>&#xd;
  union </a:s>
                  <a:s r="198">
                     <a:s>(</a:s>
                     <a:s r="198">
                        <a:s>
                           <a:s r="185">
                              <a:s r="184">
                                 <a:s>(&#xd;
    </a:s>
                                 <a:s r="184">
                                    <a:s r="182">
                                       <a:s r="180">
                                          <a:s>[&quot;DeviceRequest&quot;: code in </a:s>
                                          <a:s>
                                             <a:s>&quot;Venous foot pumps (VFP)&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                       <a:s>&#xd;
      union </a:s>
                                       <a:s r="181">
                                          <a:s>[&quot;DeviceRequest&quot;: code in </a:s>
                                          <a:s>
                                             <a:s>&quot;Intermittent pneumatic compression devices (IPC)&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>&#xd;
      union </a:s>
                                    <a:s r="183">
                                       <a:s>[&quot;DeviceRequest&quot;: code in </a:s>
                                       <a:s>
                                          <a:s>&quot;Graduated compression stockings (GCS)&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
  )</a:s>
                              </a:s>
                              <a:s> D</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
    </a:s>
                        <a:s r="197">
                           <a:s>where </a:s>
                           <a:s r="197">
                              <a:s r="190">
                                 <a:s r="187">
                                    <a:s r="186">
                                       <a:s>D</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="187">
                                       <a:s>intent</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> ~ </a:s>
                                 <a:s r="189">
                                    <a:s>ToConcept(</a:s>
                                    <a:s r="188">
                                       <a:s>&quot;Order&quot;</a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>&#xd;
      and </a:s>
                              <a:s r="196">
                                 <a:s r="195">
                                    <a:s r="194">
                                       <a:s>GetExtension(</a:s>
                                       <a:s r="192">
                                          <a:s r="191">
                                             <a:s>D</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="192">
                                             <a:s>extension</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="193">
                                          <a:s>'http://example.org/fhir/extensions/doNotPerform'</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="195">
                                       <a:s>value</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> is true</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
    //where D.doNotPerform is true // Needs a QI-Core extension to support&#xd;
  )</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="199" locator="152:3-167:3" xsi:type="Union">
            <operand xsi:type="As">
               <operand localId="179" locator="152:3-158:3" xsi:type="Query">
                  <source localId="158" locator="152:4-155:5" alias="D">
                     <expression localId="157" locator="152:4-155:3" xsi:type="Union">
                        <operand localId="155" locator="152:5-153:92" xsi:type="Union">
                           <operand localId="153" locator="152:5-152:61" dataType="fhir:DeviceUseStatement" codeProperty="code" xsi:type="Retrieve">
                              <codes locator="152:36-152:60" name="Venous foot pumps (VFP)" xsi:type="ValueSetRef"/>
                           </operand>
                           <operand localId="154" locator="153:11-153:92" dataType="fhir:DeviceUseStatement" codeProperty="code" xsi:type="Retrieve">
                              <codes locator="153:42-153:91" name="Intermittent pneumatic compression devices (IPC)" xsi:type="ValueSetRef"/>
                           </operand>
                        </operand>
                        <operand localId="156" locator="154:11-154:81" dataType="fhir:DeviceUseStatement" codeProperty="code" xsi:type="Retrieve">
                           <codes locator="154:42-154:80" name="Graduated compression stockings (GCS)" xsi:type="ValueSetRef"/>
                        </operand>
                     </expression>
                  </source>
                  <where localId="178" locator="156:5-156:95" xsi:type="IsTrue">
                     <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand asType="fhir:boolean" xsi:type="As">
                           <operand localId="177" locator="156:11-156:87" path="value" xsi:type="Property">
                              <source localId="176" locator="156:11-156:81" name="GetExtension" xsi:type="FunctionRef">
                                 <operand localId="160" locator="156:24-156:34" path="extension" scope="D" xsi:type="Property"/>
                                 <operand localId="161" locator="156:37-156:80" valueType="t:String" value="http://example.org/fhir/extensions/notDone" xsi:type="Literal"/>
                              </source>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
               <asTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="ChoiceTypeSpecifier">
                     <choice name="fhir:DeviceRequest" xsi:type="NamedTypeSpecifier"/>
                     <choice name="fhir:DeviceUseStatement" xsi:type="NamedTypeSpecifier"/>
                  </elementType>
               </asTypeSpecifier>
            </operand>
            <operand xsi:type="As">
               <operand localId="198" locator="159:9-167:3" xsi:type="Query">
                  <source localId="185" locator="159:10-163:5" alias="D">
                     <expression localId="184" locator="159:10-163:3" xsi:type="Union">
                        <operand localId="182" locator="160:5-161:89" xsi:type="Union">
                           <operand localId="180" locator="160:5-160:56" dataType="fhir:DeviceRequest" codeProperty="code" xsi:type="Retrieve">
                              <codes locator="160:31-160:55" name="Venous foot pumps (VFP)" xsi:type="ValueSetRef"/>
                           </operand>
                           <operand localId="181" locator="161:13-161:89" dataType="fhir:DeviceRequest" codeProperty="code" xsi:type="Retrieve">
                              <codes locator="161:39-161:88" name="Intermittent pneumatic compression devices (IPC)" xsi:type="ValueSetRef"/>
                           </operand>
                        </operand>
                        <operand localId="183" locator="162:13-162:78" dataType="fhir:DeviceRequest" codeProperty="code" xsi:type="Retrieve">
                           <codes locator="162:39-162:77" name="Graduated compression stockings (GCS)" xsi:type="ValueSetRef"/>
                        </operand>
                     </expression>
                  </source>
                  <where localId="197" locator="164:5-165:100" xsi:type="And">
                     <operand localId="190" locator="164:11-164:39" xsi:type="Equivalent">
                        <operand name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="187" locator="164:11-164:18" path="intent" scope="D" xsi:type="Property"/>
                        </operand>
                        <operand localId="189" locator="164:22-164:39" xsi:type="ToConcept">
                           <operand localId="188" locator="164:32-164:38" name="Order" xsi:type="CodeRef"/>
                        </operand>
                     </operand>
                     <operand localId="196" locator="165:11-165:100" xsi:type="IsTrue">
                        <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:boolean" xsi:type="As">
                              <operand localId="195" locator="165:11-165:92" path="value" xsi:type="Property">
                                 <source localId="194" locator="165:11-165:86" name="GetExtension" xsi:type="FunctionRef">
                                    <operand localId="192" locator="165:24-165:34" path="extension" scope="D" xsi:type="Property"/>
                                    <operand localId="193" locator="165:37-165:85" valueType="t:String" value="http://example.org/fhir/extensions/doNotPerform" xsi:type="Literal"/>
                                 </source>
                              </operand>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
               <asTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="ChoiceTypeSpecifier">
                     <choice name="fhir:DeviceRequest" xsi:type="NamedTypeSpecifier"/>
                     <choice name="fhir:DeviceUseStatement" xsi:type="NamedTypeSpecifier"/>
                  </elementType>
               </asTypeSpecifier>
            </operand>
         </expression>
      </def>
      <def localId="240" locator="173:1-180:109" name="No VTE Prophylaxis Device Due to Medical Reason During ED Visit" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="240">
               <a:s>define &quot;No VTE Prophylaxis Device Due to Medical Reason During ED Visit&quot;:&#xd;
	</a:s>
               <a:s r="239">
                  <a:s>
                     <a:s>from&#xd;
		</a:s>
                     <a:s r="206">
                        <a:s r="205">
                           <a:s>
                              <a:s>&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> QualifyingEncounter</a:s>
                     </a:s>
                     <a:s>,&#xd;
		</a:s>
                     <a:s r="208">
                        <a:s r="207">
                           <a:s>
                              <a:s>&quot;ED Visit&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> EDVisit</a:s>
                     </a:s>
                     <a:s>,&#xd;
		</a:s>
                     <a:s r="210">
                        <a:s r="209">
                           <a:s>
                              <a:s>&quot;No VTE Prophylaxis Device Applied or Ordered&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> NoVTEDevice</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="238">
                     <a:s>where </a:s>
                     <a:s r="238">
                        <a:s r="227">
                           <a:s r="221">
                              <a:s r="214">
                                 <a:s r="211">
                                    <a:s>FHIRHelpers</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="214">
                                    <a:s>ToInterval(</a:s>
                                    <a:s r="213">
                                       <a:s r="212">
                                          <a:s>EDVisit</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="213">
                                          <a:s>period</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> </a:s>
                              <a:s r="221">
                                 <a:s>ends </a:s>
                                 <a:s r="220">
                                    <a:s>1 hour</a:s>
                                 </a:s>
                                 <a:s> or less on or before</a:s>
                              </a:s>
                              <a:s> </a:s>
                              <a:s r="219">
                                 <a:s>start of </a:s>
                                 <a:s r="218">
                                    <a:s r="215">
                                       <a:s>FHIRHelpers</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="218">
                                       <a:s>ToInterval(</a:s>
                                       <a:s r="217">
                                          <a:s r="216">
                                             <a:s>QualifyingEncounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="217">
                                             <a:s>period</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>&#xd;
			and </a:s>
                           <a:s r="226">
                              <a:s>(</a:s>
                              <a:s r="226">
                                 <a:s r="224">
                                    <a:s>singleton from </a:s>
                                    <a:s r="223">
                                       <a:s r="222">
                                          <a:s>NoVTEDevice</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="223">
                                          <a:s>reasonCode</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> in </a:s>
                                 <a:s r="225">
                                    <a:s>&quot;Medical Reason&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
			and </a:s>
                        <a:s r="237">
                           <a:s r="232">
                              <a:s>Coalesce(</a:s>
                              <a:s r="229">
                                 <a:s r="228">
                                    <a:s>NoVTEDevice</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="229">
                                    <a:s>authoredOn</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="231">
                                 <a:s r="230">
                                    <a:s>NoVTEDevice</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="231">
                                    <a:s>recordedOn</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s r="237"> during </a:s>
                           <a:s r="236">
                              <a:s r="233">
                                 <a:s>FHIRHelpers</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="236">
                                 <a:s>ToInterval(</a:s>
                                 <a:s r="235">
                                    <a:s r="234">
                                       <a:s>EDVisit</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="235">
                                       <a:s>period</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="239" locator="174:2-180:109" xsi:type="Query">
            <source localId="206" locator="175:3-175:100" alias="QualifyingEncounter">
               <expression localId="205" locator="175:3-175:80" name="Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions" xsi:type="ExpressionRef"/>
            </source>
            <source localId="208" locator="176:3-176:20" alias="EDVisit">
               <expression localId="207" locator="176:3-176:12" name="ED Visit" xsi:type="ExpressionRef"/>
            </source>
            <source localId="210" locator="177:3-177:60" alias="NoVTEDevice">
               <expression localId="209" locator="177:3-177:48" name="No VTE Prophylaxis Device Applied or Ordered" xsi:type="ExpressionRef"/>
            </source>
            <where localId="238" locator="178:3-180:109" xsi:type="And">
               <operand localId="227" locator="178:9-179:66" xsi:type="And">
                  <operand localId="221" locator="178:9-178:139" xsi:type="In">
                     <operand locator="178:48-178:51" xsi:type="End">
                        <operand localId="214" locator="178:9-178:46" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="213" locator="178:32-178:45" path="period" scope="EDVisit" xsi:type="Property"/>
                        </operand>
                     </operand>
                     <operand locator="178:53-178:66" lowClosed="true" highClosed="true" xsi:type="Interval">
                        <low locator="178:81-178:139" xsi:type="Subtract">
                           <operand localId="219" locator="178:81-178:139" xsi:type="Start">
                              <operand localId="218" locator="178:90-178:139" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="217" locator="178:113-178:138" path="period" scope="QualifyingEncounter" xsi:type="Property"/>
                              </operand>
                           </operand>
                           <operand localId="220" locator="178:53-178:58" value="1" unit="hour" xsi:type="Quantity"/>
                        </low>
                        <high localId="219" locator="178:81-178:139" xsi:type="Start">
                           <operand localId="218" locator="178:90-178:139" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="217" locator="178:113-178:138" path="period" scope="QualifyingEncounter" xsi:type="Property"/>
                           </operand>
                        </high>
                     </operand>
                  </operand>
                  <operand localId="226" locator="179:8-179:66" xsi:type="InValueSet">
                     <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="224" locator="179:9-179:45" xsi:type="SingletonFrom">
                           <operand localId="223" locator="179:24-179:45" path="reasonCode" scope="NoVTEDevice" xsi:type="Property"/>
                        </operand>
                     </code>
                     <valueset localId="225" locator="179:50-179:65" name="Medical Reason"/>
                  </operand>
               </operand>
               <operand localId="237" locator="180:8-180:109" xsi:type="In">
                  <operand name="ToDateTime" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="232" locator="180:8-180:63" xsi:type="Coalesce">
                        <operand localId="229" locator="180:17-180:38" path="authoredOn" scope="NoVTEDevice" xsi:type="Property"/>
                        <operand localId="231" locator="180:41-180:62" path="recordedOn" scope="NoVTEDevice" xsi:type="Property"/>
                     </operand>
                  </operand>
                  <operand localId="236" locator="180:72-180:109" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="235" locator="180:95-180:108" path="period" scope="EDVisit" xsi:type="Property"/>
                  </operand>
               </operand>
            </where>
            <return distinct="true">
               <expression xsi:type="Tuple">
                  <element name="QualifyingEncounter">
                     <value name="QualifyingEncounter" xsi:type="AliasRef"/>
                  </element>
                  <element name="EDVisit">
                     <value name="EDVisit" xsi:type="AliasRef"/>
                  </element>
                  <element name="NoVTEDevice">
                     <value name="NoVTEDevice" xsi:type="AliasRef"/>
                  </element>
               </expression>
            </return>
         </expression>
      </def>
      <def localId="265" locator="183:1-188:164" name="No VTE Prophylaxis Device Due to Medical Reason on Day of or Day After Admission" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="265">
               <a:s>define &quot;No VTE Prophylaxis Device Due to Medical Reason on Day of or Day After Admission&quot;:&#xd;
	</a:s>
               <a:s r="264">
                  <a:s>
                     <a:s>from&#xd;
		</a:s>
                     <a:s r="242">
                        <a:s r="241">
                           <a:s>
                              <a:s>&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> QualifyingEncounter</a:s>
                     </a:s>
                     <a:s>,&#xd;
		</a:s>
                     <a:s r="244">
                        <a:s r="243">
                           <a:s>
                              <a:s>&quot;No VTE Prophylaxis Device Applied or Ordered&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> NoVTEDevice</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="263">
                     <a:s>where </a:s>
                     <a:s r="263">
                        <a:s r="249">
                           <a:s>(</a:s>
                           <a:s r="249">
                              <a:s r="247">
                                 <a:s>singleton from </a:s>
                                 <a:s r="246">
                                    <a:s r="245">
                                       <a:s>NoVTEDevice</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="246">
                                       <a:s>reasonCode</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="248">
                                 <a:s>&quot;Medical Reason&quot;</a:s>
                              </a:s>
                           </a:s>
                           <a:s>)</a:s>
                        </a:s>
                        <a:s>&#xd;
			and </a:s>
                        <a:s r="262">
                           <a:s r="254">
                              <a:s>Coalesce(</a:s>
                              <a:s r="251">
                                 <a:s r="250">
                                    <a:s>NoVTEDevice</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="251">
                                    <a:s>authoredOn</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="253">
                                 <a:s r="252">
                                    <a:s>NoVTEDevice</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="253">
                                    <a:s>recordedOn</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s r="262"> during </a:s>
                           <a:s r="261">
                              <a:s r="255">
                                 <a:s>VTEICU</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="261">
                                 <a:s>&quot;CalendarDayOfOrDayAfter&quot;(</a:s>
                                 <a:s r="260">
                                    <a:s>start of </a:s>
                                    <a:s r="259">
                                       <a:s r="256">
                                          <a:s>FHIRHelpers</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="259">
                                          <a:s>ToInterval(</a:s>
                                          <a:s r="258">
                                             <a:s r="257">
                                                <a:s>QualifyingEncounter</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="258">
                                                <a:s>period</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="264" locator="184:2-188:164" xsi:type="Query">
            <source localId="242" locator="185:3-185:100" alias="QualifyingEncounter">
               <expression localId="241" locator="185:3-185:80" name="Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions" xsi:type="ExpressionRef"/>
            </source>
            <source localId="244" locator="186:3-186:60" alias="NoVTEDevice">
               <expression localId="243" locator="186:3-186:48" name="No VTE Prophylaxis Device Applied or Ordered" xsi:type="ExpressionRef"/>
            </source>
            <where localId="263" locator="187:3-188:164" xsi:type="And">
               <operand localId="249" locator="187:9-187:67" xsi:type="InValueSet">
                  <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="247" locator="187:10-187:46" xsi:type="SingletonFrom">
                        <operand localId="246" locator="187:25-187:46" path="reasonCode" scope="NoVTEDevice" xsi:type="Property"/>
                     </operand>
                  </code>
                  <valueset localId="248" locator="187:51-187:66" name="Medical Reason"/>
               </operand>
               <operand localId="262" locator="188:8-188:164" xsi:type="In">
                  <operand name="ToDateTime" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="254" locator="188:8-188:63" xsi:type="Coalesce">
                        <operand localId="251" locator="188:17-188:38" path="authoredOn" scope="NoVTEDevice" xsi:type="Property"/>
                        <operand localId="253" locator="188:41-188:62" path="recordedOn" scope="NoVTEDevice" xsi:type="Property"/>
                     </operand>
                  </operand>
                  <operand localId="261" locator="188:72-188:164" name="CalendarDayOfOrDayAfter" libraryName="VTEICU" xsi:type="FunctionRef">
                     <operand localId="260" locator="188:105-188:163" xsi:type="Start">
                        <operand localId="259" locator="188:114-188:163" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="258" locator="188:137-188:162" path="period" scope="QualifyingEncounter" xsi:type="Property"/>
                        </operand>
                     </operand>
                  </operand>
               </operand>
            </where>
            <return distinct="true">
               <expression xsi:type="Tuple">
                  <element name="QualifyingEncounter">
                     <value name="QualifyingEncounter" xsi:type="AliasRef"/>
                  </element>
                  <element name="NoVTEDevice">
                     <value name="NoVTEDevice" xsi:type="AliasRef"/>
                  </element>
               </expression>
            </return>
         </expression>
      </def>
      <def localId="299" locator="191:1-215:2" name="No VTE Prophylaxis Medication Administered or Ordered" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="299">
               <a:s>define &quot;No VTE Prophylaxis Medication Administered or Ordered&quot;:&#xd;
	</a:s>
               <a:s r="298">
                  <a:s r="277">
                     <a:s>(</a:s>
                     <a:s r="277">
                        <a:s>
                           <a:s r="273">
                              <a:s r="272">
                                 <a:s>(	</a:s>
                                 <a:s r="272">
                                    <a:s r="270">
                                       <a:s r="268">
                                          <a:s r="266">
                                             <a:s>[&quot;MedicationAdministration&quot;: medication in </a:s>
                                             <a:s>
                                                <a:s>&quot;Low Dose Unfractionated Heparin for VTE Prophylaxis&quot;</a:s>
                                             </a:s>
                                             <a:s>]</a:s>
                                          </a:s>
                                          <a:s>&#xd;
	union&#xd;
	</a:s>
                                          <a:s r="267">
                                             <a:s>[&quot;MedicationAdministration&quot;: medication in </a:s>
                                             <a:s>
                                                <a:s>&quot;Low Molecular Weight Heparin for VTE Prophylaxis&quot;</a:s>
                                             </a:s>
                                             <a:s>]</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>&#xd;
	union&#xd;
	</a:s>
                                       <a:s r="269">
                                          <a:s>[&quot;MedicationAdministration&quot;: medication in </a:s>
                                          <a:s>
                                             <a:s>&quot;Injectable Factor Xa Inhibitor for VTE Prophylaxis&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>&#xd;
	union&#xd;
	</a:s>
                                    <a:s r="271">
                                       <a:s>[&quot;MedicationAdministration&quot;: medication in </a:s>
                                       <a:s>
                                          <a:s>&quot;Warfarin&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
	)</a:s>
                              </a:s>
                              <a:s> MedicationAdm</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
		</a:s>
                        <a:s r="276">
                           <a:s>where </a:s>
                           <a:s r="276">
                              <a:s r="275">
                                 <a:s r="274">
                                    <a:s>MedicationAdm</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="275">
                                    <a:s>notGiven</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> is true</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
	)</a:s>
                  </a:s>
                  <a:s>&#xd;
	union&#xd;
	 // TODO: Tracker for QI-core to add doNotPerform extension for MedicationRequest and suggest to the base Resource&#xd;
	</a:s>
                  <a:s r="297">
                     <a:s>(</a:s>
                     <a:s r="297">
                        <a:s>
                           <a:s r="285">
                              <a:s r="284">
                                 <a:s>(	</a:s>
                                 <a:s r="284">
                                    <a:s r="282">
                                       <a:s r="280">
                                          <a:s r="278">
                                             <a:s>[&quot;MedicationRequest&quot;: medication in </a:s>
                                             <a:s>
                                                <a:s>&quot;Low Dose Unfractionated Heparin for VTE Prophylaxis&quot;</a:s>
                                             </a:s>
                                             <a:s>]</a:s>
                                          </a:s>
                                          <a:s>&#xd;
	union&#xd;
	</a:s>
                                          <a:s r="279">
                                             <a:s>[&quot;MedicationRequest&quot;: medication in </a:s>
                                             <a:s>
                                                <a:s>&quot;Low Molecular Weight Heparin for VTE Prophylaxis&quot;</a:s>
                                             </a:s>
                                             <a:s>]</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>&#xd;
	union&#xd;
	</a:s>
                                       <a:s r="281">
                                          <a:s>[&quot;MedicationRequest&quot;: medication in </a:s>
                                          <a:s>
                                             <a:s>&quot;Injectable Factor Xa Inhibitor for VTE Prophylaxis&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>&#xd;
	union&#xd;
	</a:s>
                                    <a:s r="283">
                                       <a:s>[&quot;MedicationRequest&quot;: medication in </a:s>
                                       <a:s>
                                          <a:s>&quot;Warfarin&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
	)</a:s>
                              </a:s>
                              <a:s> MedicationOrder</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
	</a:s>
                        <a:s r="296">
                           <a:s>where	</a:s>
                           <a:s r="296">
                              <a:s r="289">
                                 <a:s r="287">
                                    <a:s r="286">
                                       <a:s>MedicationOrder</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="287">
                                       <a:s>intent</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> = </a:s>
                                 <a:s r="288">
                                    <a:s>'order'</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>&#xd;
		and </a:s>
                              <a:s r="295">
                                 <a:s r="294">
                                    <a:s r="293">
                                       <a:s>GetExtension(</a:s>
                                       <a:s r="291">
                                          <a:s r="290">
                                             <a:s>MedicationOrder</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="291">
                                             <a:s>extension</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="292">
                                          <a:s>'http://example.org/fhir/extensions/doNotPerform'</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="294">
                                       <a:s>value</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> is true</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
		//MedicationOrder.doNotPerform is true // Needs a QI-Core extension to support&#xd;
	)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="298" locator="192:2-215:2" xsi:type="Union">
            <operand xsi:type="As">
               <operand localId="277" locator="192:2-201:2" xsi:type="Query">
                  <source localId="273" locator="192:3-199:16" alias="MedicationAdm">
                     <expression localId="272" locator="192:3-199:2" xsi:type="Union">
                        <operand localId="268" locator="192:5-194:95" xsi:type="Union">
                           <operand localId="266" locator="192:5-192:101" dataType="fhir:MedicationAdministration" codeProperty="medication" xsi:type="Retrieve">
                              <codes locator="192:48-192:100" name="Low Dose Unfractionated Heparin for VTE Prophylaxis" xsi:type="ValueSetRef"/>
                           </operand>
                           <operand localId="267" locator="194:2-194:95" dataType="fhir:MedicationAdministration" codeProperty="medication" xsi:type="Retrieve">
                              <codes locator="194:45-194:94" name="Low Molecular Weight Heparin for VTE Prophylaxis" xsi:type="ValueSetRef"/>
                           </operand>
                        </operand>
                        <operand xsi:type="Union">
                           <operand localId="269" locator="196:2-196:97" dataType="fhir:MedicationAdministration" codeProperty="medication" xsi:type="Retrieve">
                              <codes locator="196:45-196:96" name="Injectable Factor Xa Inhibitor for VTE Prophylaxis" xsi:type="ValueSetRef"/>
                           </operand>
                           <operand localId="271" locator="198:2-198:55" dataType="fhir:MedicationAdministration" codeProperty="medication" xsi:type="Retrieve">
                              <codes locator="198:45-198:54" name="Warfarin" xsi:type="ValueSetRef"/>
                           </operand>
                        </operand>
                     </expression>
                  </source>
                  <where localId="276" locator="200:3-200:38" xsi:type="IsTrue">
                     <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="275" locator="200:9-200:30" path="notGiven" scope="MedicationAdm" xsi:type="Property"/>
                     </operand>
                  </where>
               </operand>
               <asTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="ChoiceTypeSpecifier">
                     <choice name="fhir:MedicationRequest" xsi:type="NamedTypeSpecifier"/>
                     <choice name="fhir:MedicationAdministration" xsi:type="NamedTypeSpecifier"/>
                  </elementType>
               </asTypeSpecifier>
            </operand>
            <operand xsi:type="As">
               <operand localId="297" locator="204:2-215:2" xsi:type="Query">
                  <source localId="285" locator="204:3-211:18" alias="MedicationOrder">
                     <expression localId="284" locator="204:3-211:2" xsi:type="Union">
                        <operand localId="280" locator="204:5-206:88" xsi:type="Union">
                           <operand localId="278" locator="204:5-204:94" dataType="fhir:MedicationRequest" codeProperty="medication" xsi:type="Retrieve">
                              <codes locator="204:41-204:93" name="Low Dose Unfractionated Heparin for VTE Prophylaxis" xsi:type="ValueSetRef"/>
                           </operand>
                           <operand localId="279" locator="206:2-206:88" dataType="fhir:MedicationRequest" codeProperty="medication" xsi:type="Retrieve">
                              <codes locator="206:38-206:87" name="Low Molecular Weight Heparin for VTE Prophylaxis" xsi:type="ValueSetRef"/>
                           </operand>
                        </operand>
                        <operand xsi:type="Union">
                           <operand localId="281" locator="208:2-208:90" dataType="fhir:MedicationRequest" codeProperty="medication" xsi:type="Retrieve">
                              <codes locator="208:38-208:89" name="Injectable Factor Xa Inhibitor for VTE Prophylaxis" xsi:type="ValueSetRef"/>
                           </operand>
                           <operand localId="283" locator="210:2-210:48" dataType="fhir:MedicationRequest" codeProperty="medication" xsi:type="Retrieve">
                              <codes locator="210:38-210:47" name="Warfarin" xsi:type="ValueSetRef"/>
                           </operand>
                        </operand>
                     </expression>
                  </source>
                  <where localId="296" locator="212:2-213:110" xsi:type="And">
                     <operand localId="289" locator="212:8-212:39" xsi:type="Equal">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="287" locator="212:8-212:29" path="intent" scope="MedicationOrder" xsi:type="Property"/>
                        </operand>
                        <operand localId="288" locator="212:33-212:39" valueType="t:String" value="order" xsi:type="Literal"/>
                     </operand>
                     <operand localId="295" locator="213:7-213:110" xsi:type="IsTrue">
                        <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:boolean" xsi:type="As">
                              <operand localId="294" locator="213:7-213:102" path="value" xsi:type="Property">
                                 <source localId="293" locator="213:7-213:96" name="GetExtension" xsi:type="FunctionRef">
                                    <operand localId="291" locator="213:20-213:44" path="extension" scope="MedicationOrder" xsi:type="Property"/>
                                    <operand localId="292" locator="213:47-213:95" valueType="t:String" value="http://example.org/fhir/extensions/doNotPerform" xsi:type="Literal"/>
                                 </source>
                              </operand>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
               <asTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="ChoiceTypeSpecifier">
                     <choice name="fhir:MedicationRequest" xsi:type="NamedTypeSpecifier"/>
                     <choice name="fhir:MedicationAdministration" xsi:type="NamedTypeSpecifier"/>
                  </elementType>
               </asTypeSpecifier>
            </operand>
         </expression>
      </def>
      <def localId="338" locator="219:1-228:28" name="No VTE Prophylaxis Medication Due to Medical Reason During ED Visit" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="338">
               <a:s>define &quot;No VTE Prophylaxis Medication Due to Medical Reason During ED Visit&quot;:&#xd;
	</a:s>
               <a:s r="337">
                  <a:s>
                     <a:s>from&#xd;
		</a:s>
                     <a:s r="301">
                        <a:s r="300">
                           <a:s>
                              <a:s>&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> QualifyingEncounter</a:s>
                     </a:s>
                     <a:s>,&#xd;
		</a:s>
                     <a:s r="303">
                        <a:s r="302">
                           <a:s>
                              <a:s>&quot;ED Visit&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> EDVisit</a:s>
                     </a:s>
                     <a:s>,&#xd;
		</a:s>
                     <a:s r="305">
                        <a:s r="304">
                           <a:s>
                              <a:s>&quot;No VTE Prophylaxis Medication Administered or Ordered&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> NoVTEMedication</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="334">
                     <a:s>where </a:s>
                     <a:s r="334">
                        <a:s r="322">
                           <a:s r="316">
                              <a:s r="309">
                                 <a:s r="306">
                                    <a:s>FHIRHelpers</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="309">
                                    <a:s>ToInterval(</a:s>
                                    <a:s r="308">
                                       <a:s r="307">
                                          <a:s>EDVisit</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="308">
                                          <a:s>period</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> </a:s>
                              <a:s r="316">
                                 <a:s>ends </a:s>
                                 <a:s r="315">
                                    <a:s>1 hour</a:s>
                                 </a:s>
                                 <a:s> or less on or before</a:s>
                              </a:s>
                              <a:s> </a:s>
                              <a:s r="314">
                                 <a:s>start of </a:s>
                                 <a:s r="313">
                                    <a:s r="310">
                                       <a:s>FHIRHelpers</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="313">
                                       <a:s>ToInterval(</a:s>
                                       <a:s r="312">
                                          <a:s r="311">
                                             <a:s>QualifyingEncounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="312">
                                             <a:s>period</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>&#xd;
			and </a:s>
                           <a:s r="321">
                              <a:s>(</a:s>
                              <a:s r="321">
                                 <a:s r="319">
                                    <a:s>singleton from </a:s>
                                    <a:s r="318">
                                       <a:s r="317">
                                          <a:s>NoVTEMedication</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="318">
                                          <a:s>reasonCode</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> in </a:s>
                                 <a:s r="320">
                                    <a:s>&quot;Medical Reason&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
		// TODO: Profile of MedicationAdministration to ensure effective is a Period&#xd;
			and </a:s>
                        <a:s r="333">
                           <a:s r="328">
                              <a:s>Coalesce(</a:s>
                              <a:s r="324">
                                 <a:s r="323">
                                    <a:s>NoVTEMedication</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="324">
                                    <a:s>authoredOn</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="327">
                                 <a:s>start of </a:s>
                                 <a:s r="326">
                                    <a:s r="325">
                                       <a:s>NoVTEMedication</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="326">
                                       <a:s>effective</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s r="333"> during </a:s>
                           <a:s r="332">
                              <a:s r="329">
                                 <a:s>FHIRHelpers</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="332">
                                 <a:s>ToInterval(</a:s>
                                 <a:s r="331">
                                    <a:s r="330">
                                       <a:s>EDVisit</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="331">
                                       <a:s>period</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="336">
                     <a:s>return </a:s>
                     <a:s r="335">
                        <a:s>QualifyingEncounter</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="337" locator="220:2-228:28" xsi:type="Query">
            <source localId="301" locator="221:3-221:100" alias="QualifyingEncounter">
               <expression localId="300" locator="221:3-221:80" name="Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions" xsi:type="ExpressionRef"/>
            </source>
            <source localId="303" locator="222:3-222:20" alias="EDVisit">
               <expression localId="302" locator="222:3-222:12" name="ED Visit" xsi:type="ExpressionRef"/>
            </source>
            <source localId="305" locator="223:3-223:73" alias="NoVTEMedication">
               <expression localId="304" locator="223:3-223:57" name="No VTE Prophylaxis Medication Administered or Ordered" xsi:type="ExpressionRef"/>
            </source>
            <where localId="334" locator="224:3-227:125" xsi:type="And">
               <operand localId="322" locator="224:9-225:70" xsi:type="And">
                  <operand localId="316" locator="224:9-224:139" xsi:type="In">
                     <operand locator="224:48-224:51" xsi:type="End">
                        <operand localId="309" locator="224:9-224:46" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="308" locator="224:32-224:45" path="period" scope="EDVisit" xsi:type="Property"/>
                        </operand>
                     </operand>
                     <operand locator="224:53-224:66" lowClosed="true" highClosed="true" xsi:type="Interval">
                        <low locator="224:81-224:139" xsi:type="Subtract">
                           <operand localId="314" locator="224:81-224:139" xsi:type="Start">
                              <operand localId="313" locator="224:90-224:139" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="312" locator="224:113-224:138" path="period" scope="QualifyingEncounter" xsi:type="Property"/>
                              </operand>
                           </operand>
                           <operand localId="315" locator="224:53-224:58" value="1" unit="hour" xsi:type="Quantity"/>
                        </low>
                        <high localId="314" locator="224:81-224:139" xsi:type="Start">
                           <operand localId="313" locator="224:90-224:139" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="312" locator="224:113-224:138" path="period" scope="QualifyingEncounter" xsi:type="Property"/>
                           </operand>
                        </high>
                     </operand>
                  </operand>
                  <operand localId="321" locator="225:8-225:70" xsi:type="InValueSet">
                     <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="319" locator="225:9-225:49" xsi:type="SingletonFrom">
                           <operand localId="318" locator="225:24-225:49" path="reasonCode" scope="NoVTEMedication" xsi:type="Property"/>
                        </operand>
                     </code>
                     <valueset localId="320" locator="225:54-225:69" name="Medical Reason"/>
                  </operand>
               </operand>
               <operand localId="333" locator="227:8-227:125" xsi:type="In">
                  <operand localId="328" locator="227:8-227:79" xsi:type="Coalesce">
                     <operand name="ToDateTime" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="324" locator="227:17-227:42" path="authoredOn" scope="NoVTEMedication" xsi:type="Property"/>
                     </operand>
                     <operand localId="327" locator="227:45-227:78" xsi:type="Start">
                        <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:Period" xsi:type="As">
                              <operand localId="326" locator="227:54-227:78" path="effective" scope="NoVTEMedication" xsi:type="Property"/>
                           </operand>
                        </operand>
                     </operand>
                  </operand>
                  <operand localId="332" locator="227:88-227:125" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="331" locator="227:111-227:124" path="period" scope="EDVisit" xsi:type="Property"/>
                  </operand>
               </operand>
            </where>
            <return localId="336" locator="228:3-228:28">
               <expression localId="335" locator="228:10-228:28" name="QualifyingEncounter" xsi:type="AliasRef"/>
            </return>
         </expression>
      </def>
      <def localId="366" locator="231:1-237:28" name="No VTE Prophylaxis Medication Due to Medical Reason on Day of or Day After Admission" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="366">
               <a:s>define &quot;No VTE Prophylaxis Medication Due to Medical Reason on Day of or Day After Admission&quot;:&#xd;
	</a:s>
               <a:s r="365">
                  <a:s>
                     <a:s>from&#xd;
		</a:s>
                     <a:s r="340">
                        <a:s r="339">
                           <a:s>
                              <a:s>&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> QualifyingEncounter</a:s>
                     </a:s>
                     <a:s>,&#xd;
		</a:s>
                     <a:s r="342">
                        <a:s r="341">
                           <a:s>
                              <a:s>&quot;No VTE Prophylaxis Medication Administered or Ordered&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> NoVTEMedication</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="362">
                     <a:s>where </a:s>
                     <a:s r="362">
                        <a:s r="347">
                           <a:s>(</a:s>
                           <a:s r="347">
                              <a:s r="345">
                                 <a:s>singleton from </a:s>
                                 <a:s r="344">
                                    <a:s r="343">
                                       <a:s>NoVTEMedication</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="344">
                                       <a:s>reasonCode</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="346">
                                 <a:s>&quot;Medical Reason&quot;</a:s>
                              </a:s>
                           </a:s>
                           <a:s>)</a:s>
                        </a:s>
                        <a:s>&#xd;
			and </a:s>
                        <a:s r="361">
                           <a:s r="353">
                              <a:s>Coalesce(</a:s>
                              <a:s r="349">
                                 <a:s r="348">
                                    <a:s>NoVTEMedication</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="349">
                                    <a:s>authoredOn</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="352">
                                 <a:s>start of </a:s>
                                 <a:s r="351">
                                    <a:s r="350">
                                       <a:s>NoVTEMedication</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="351">
                                       <a:s>effective</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s r="361"> during </a:s>
                           <a:s r="360">
                              <a:s r="354">
                                 <a:s>VTEICU</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="360">
                                 <a:s>&quot;CalendarDayOfOrDayAfter&quot;(</a:s>
                                 <a:s r="359">
                                    <a:s>start of </a:s>
                                    <a:s r="358">
                                       <a:s r="355">
                                          <a:s>FHIRHelpers</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="358">
                                          <a:s>ToInterval(</a:s>
                                          <a:s r="357">
                                             <a:s r="356">
                                                <a:s>QualifyingEncounter</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="357">
                                                <a:s>period</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="364">
                     <a:s>return </a:s>
                     <a:s r="363">
                        <a:s>QualifyingEncounter</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="365" locator="232:2-237:28" xsi:type="Query">
            <source localId="340" locator="233:3-233:100" alias="QualifyingEncounter">
               <expression localId="339" locator="233:3-233:80" name="Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions" xsi:type="ExpressionRef"/>
            </source>
            <source localId="342" locator="234:3-234:73" alias="NoVTEMedication">
               <expression localId="341" locator="234:3-234:57" name="No VTE Prophylaxis Medication Administered or Ordered" xsi:type="ExpressionRef"/>
            </source>
            <where localId="362" locator="235:3-236:180" xsi:type="And">
               <operand localId="347" locator="235:9-235:71" xsi:type="InValueSet">
                  <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="345" locator="235:10-235:50" xsi:type="SingletonFrom">
                        <operand localId="344" locator="235:25-235:50" path="reasonCode" scope="NoVTEMedication" xsi:type="Property"/>
                     </operand>
                  </code>
                  <valueset localId="346" locator="235:55-235:70" name="Medical Reason"/>
               </operand>
               <operand localId="361" locator="236:8-236:180" xsi:type="In">
                  <operand localId="353" locator="236:8-236:79" xsi:type="Coalesce">
                     <operand name="ToDateTime" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="349" locator="236:17-236:42" path="authoredOn" scope="NoVTEMedication" xsi:type="Property"/>
                     </operand>
                     <operand localId="352" locator="236:45-236:78" xsi:type="Start">
                        <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:Period" xsi:type="As">
                              <operand localId="351" locator="236:54-236:78" path="effective" scope="NoVTEMedication" xsi:type="Property"/>
                           </operand>
                        </operand>
                     </operand>
                  </operand>
                  <operand localId="360" locator="236:88-236:180" name="CalendarDayOfOrDayAfter" libraryName="VTEICU" xsi:type="FunctionRef">
                     <operand localId="359" locator="236:121-236:179" xsi:type="Start">
                        <operand localId="358" locator="236:130-236:179" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="357" locator="236:153-236:178" path="period" scope="QualifyingEncounter" xsi:type="Property"/>
                        </operand>
                     </operand>
                  </operand>
               </operand>
            </where>
            <return localId="364" locator="237:3-237:28">
               <expression localId="363" locator="237:10-237:28" name="QualifyingEncounter" xsi:type="AliasRef"/>
            </return>
         </expression>
      </def>
      <def localId="407" locator="240:1-250:28" name="No VTE Prophylaxis Device Due to Medical Reason on Day of or Day After Procedure" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="407">
               <a:s>define &quot;No VTE Prophylaxis Device Due to Medical Reason on Day of or Day After Procedure&quot;:&#xd;
	</a:s>
               <a:s r="406">
                  <a:s>
                     <a:s>from&#xd;
		</a:s>
                     <a:s r="368">
                        <a:s r="367">
                           <a:s>
                              <a:s>&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> QualifyingEncounter</a:s>
                     </a:s>
                     <a:s>,&#xd;
		</a:s>
                     <a:s r="370">
                        <a:s r="369">
                           <a:s r="369">
                              <a:s>[&quot;Procedure&quot;: </a:s>
                              <a:s>
                                 <a:s>&quot;General or Neuraxial Anesthesia&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> AnesthesiaProcedure</a:s>
                     </a:s>
                     <a:s>,&#xd;
		</a:s>
                     <a:s r="372">
                        <a:s r="371">
                           <a:s>
                              <a:s>&quot;No VTE Prophylaxis Device Applied or Ordered&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> NoVTEDevice</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="403">
                     <a:s>where </a:s>
                     <a:s r="403">
                        <a:s r="391">
                           <a:s r="381">
                              <a:s r="376">
                                 <a:s r="374">
                                    <a:s r="373">
                                       <a:s>NoVTEDevice</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="374">
                                       <a:s>reasonCode</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> in </a:s>
                                 <a:s r="375">
                                    <a:s>&quot;Medical Reason&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>&#xd;
			and </a:s>
                              <a:s r="380">
                                 <a:s r="378">
                                    <a:s r="377">
                                       <a:s>AnesthesiaProcedure</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="378">
                                       <a:s>status</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> = </a:s>
                                 <a:s r="379">
                                    <a:s>'completed'</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>&#xd;
			// TODO: Profile of procedure to ensure performed is a Period&#xd;
			and </a:s>
                           <a:s r="390">
                              <a:s r="383">
                                 <a:s r="382">
                                    <a:s>AnesthesiaProcedure</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="383">
                                    <a:s>performed</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> </a:s>
                              <a:s r="390">
                                 <a:s>ends </a:s>
                                 <a:s r="389">
                                    <a:s>1 day</a:s>
                                 </a:s>
                                 <a:s> after day of</a:s>
                              </a:s>
                              <a:s> </a:s>
                              <a:s r="388">
                                 <a:s>start of </a:s>
                                 <a:s r="387">
                                    <a:s r="384">
                                       <a:s>FHIRHelpers</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="387">
                                       <a:s>ToInterval(</a:s>
                                       <a:s r="386">
                                          <a:s r="385">
                                             <a:s>QualifyingEncounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="386">
                                             <a:s>period</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
			and  </a:s>
                        <a:s r="402">
                           <a:s r="396">
                              <a:s>Coalesce(</a:s>
                              <a:s r="393">
                                 <a:s r="392">
                                    <a:s>NoVTEDevice</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="393">
                                    <a:s>authoredOn</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="395">
                                 <a:s r="394">
                                    <a:s>NoVTEDevice</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="395">
                                    <a:s>recordedOn</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s r="402"> during </a:s>
                           <a:s r="401">
                              <a:s r="397">
                                 <a:s>VTEICU</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="401">
                                 <a:s>&quot;CalendarDayOfOrDayAfter&quot;(</a:s>
                                 <a:s r="400">
                                    <a:s>end of </a:s>
                                    <a:s r="399">
                                       <a:s r="398">
                                          <a:s>AnesthesiaProcedure</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="399">
                                          <a:s>performed</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="405">
                     <a:s>return </a:s>
                     <a:s r="404">
                        <a:s>QualifyingEncounter</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="406" locator="241:2-250:28" xsi:type="Query">
            <source localId="368" locator="242:3-242:100" alias="QualifyingEncounter">
               <expression localId="367" locator="242:3-242:80" name="Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions" xsi:type="ExpressionRef"/>
            </source>
            <source localId="370" locator="243:3-243:70" alias="AnesthesiaProcedure">
               <expression localId="369" locator="243:3-243:50" dataType="fhir:Procedure" codeProperty="code" xsi:type="Retrieve">
                  <codes locator="243:17-243:49" name="General or Neuraxial Anesthesia" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <source localId="372" locator="244:3-244:60" alias="NoVTEDevice">
               <expression localId="371" locator="244:3-244:48" name="No VTE Prophylaxis Device Applied or Ordered" xsi:type="ExpressionRef"/>
            </source>
            <where localId="403" locator="245:3-249:142" xsi:type="And">
               <operand localId="391" locator="245:9-248:120" xsi:type="And">
                  <operand localId="381" locator="245:9-246:47" xsi:type="And">
                     <operand localId="376" locator="245:9-245:50" xsi:type="AnyInValueSet">
                        <codes xsi:type="Query">
                           <source alias="X">
                              <expression localId="374" locator="245:9-245:30" path="reasonCode" scope="NoVTEDevice" xsi:type="Property"/>
                           </source>
                           <return distinct="false">
                              <expression name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand name="X" xsi:type="AliasRef"/>
                              </expression>
                           </return>
                        </codes>
                        <valueset localId="375" locator="245:35-245:50" name="Medical Reason"/>
                     </operand>
                     <operand localId="380" locator="246:8-246:47" xsi:type="Equal">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="378" locator="246:8-246:33" path="status" scope="AnesthesiaProcedure" xsi:type="Property"/>
                        </operand>
                        <operand localId="379" locator="246:37-246:47" valueType="t:String" value="completed" xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <operand localId="390" locator="248:8-248:120" precision="Day" xsi:type="SameAs">
                     <operand locator="248:38-248:41" xsi:type="End">
                        <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:Period" xsi:type="As">
                              <operand localId="383" locator="248:8-248:36" path="performed" scope="AnesthesiaProcedure" xsi:type="Property"/>
                           </operand>
                        </operand>
                     </operand>
                     <operand locator="248:62-248:120" xsi:type="Add">
                        <operand localId="388" locator="248:62-248:120" xsi:type="Start">
                           <operand localId="387" locator="248:71-248:120" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="386" locator="248:94-248:119" path="period" scope="QualifyingEncounter" xsi:type="Property"/>
                           </operand>
                        </operand>
                        <operand localId="389" locator="248:43-248:47" value="1" unit="day" xsi:type="Quantity"/>
                     </operand>
                  </operand>
               </operand>
               <operand localId="402" locator="249:9-249:142" xsi:type="In">
                  <operand name="ToDateTime" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="396" locator="249:9-249:64" xsi:type="Coalesce">
                        <operand localId="393" locator="249:18-249:39" path="authoredOn" scope="NoVTEDevice" xsi:type="Property"/>
                        <operand localId="395" locator="249:42-249:63" path="recordedOn" scope="NoVTEDevice" xsi:type="Property"/>
                     </operand>
                  </operand>
                  <operand localId="401" locator="249:73-249:142" name="CalendarDayOfOrDayAfter" libraryName="VTEICU" xsi:type="FunctionRef">
                     <operand localId="400" locator="249:106-249:141" xsi:type="End">
                        <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:Period" xsi:type="As">
                              <operand localId="399" locator="249:113-249:141" path="performed" scope="AnesthesiaProcedure" xsi:type="Property"/>
                           </operand>
                        </operand>
                     </operand>
                  </operand>
               </operand>
            </where>
            <return localId="405" locator="250:3-250:28">
               <expression localId="404" locator="250:10-250:28" name="QualifyingEncounter" xsi:type="AliasRef"/>
            </return>
         </expression>
      </def>
      <def localId="449" locator="270:1-280:28" name="No VTE Prophylaxis Medication Due to Medical Reason on Day of or Day After Procedure" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="449">
               <a:s>define &quot;No VTE Prophylaxis Medication Due to Medical Reason on Day of or Day After Procedure&quot;:&#xd;
	</a:s>
               <a:s r="448">
                  <a:s>
                     <a:s>from&#xd;
		</a:s>
                     <a:s r="409">
                        <a:s r="408">
                           <a:s>
                              <a:s>&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> QualifyingEncounter</a:s>
                     </a:s>
                     <a:s>,&#xd;
		</a:s>
                     <a:s r="411">
                        <a:s r="410">
                           <a:s r="410">
                              <a:s>[&quot;Procedure&quot;: </a:s>
                              <a:s>
                                 <a:s>&quot;General or Neuraxial Anesthesia&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> AnesthesiaProcedure</a:s>
                     </a:s>
                     <a:s>,&#xd;
		</a:s>
                     <a:s r="413">
                        <a:s r="412">
                           <a:s>
                              <a:s>&quot;No VTE Prophylaxis Medication Administered or Ordered&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> NoVTEMedication</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="445">
                     <a:s>where </a:s>
                     <a:s r="445">
                        <a:s r="432">
                           <a:s r="422">
                              <a:s r="417">
                                 <a:s r="415">
                                    <a:s r="414">
                                       <a:s>NoVTEMedication</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="415">
                                       <a:s>reasonCode</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> in </a:s>
                                 <a:s r="416">
                                    <a:s>&quot;Medical Reason&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>&#xd;
			and </a:s>
                              <a:s r="421">
                                 <a:s r="419">
                                    <a:s r="418">
                                       <a:s>AnesthesiaProcedure</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="419">
                                       <a:s>status</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> = </a:s>
                                 <a:s r="420">
                                    <a:s>'completed'</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>&#xd;
			and </a:s>
                           <a:s r="431">
                              <a:s r="424">
                                 <a:s r="423">
                                    <a:s>AnesthesiaProcedure</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="424">
                                    <a:s>performed</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> </a:s>
                              <a:s r="431">
                                 <a:s>ends </a:s>
                                 <a:s r="430">
                                    <a:s>1 day</a:s>
                                 </a:s>
                                 <a:s> after day of</a:s>
                              </a:s>
                              <a:s> </a:s>
                              <a:s r="429">
                                 <a:s>start of </a:s>
                                 <a:s r="428">
                                    <a:s r="425">
                                       <a:s>FHIRHelpers</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="428">
                                       <a:s>ToInterval(</a:s>
                                       <a:s r="427">
                                          <a:s r="426">
                                             <a:s>QualifyingEncounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="427">
                                             <a:s>period</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
			// TODO: Profile of MedicationAdministration to ensure effective is a Period&#xd;
			and </a:s>
                        <a:s r="444">
                           <a:s r="438">
                              <a:s>Coalesce(</a:s>
                              <a:s r="434">
                                 <a:s r="433">
                                    <a:s>NoVTEMedication</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="434">
                                    <a:s>authoredOn</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="437">
                                 <a:s>start of </a:s>
                                 <a:s r="436">
                                    <a:s r="435">
                                       <a:s>NoVTEMedication</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="436">
                                       <a:s>effective</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s r="444"> during </a:s>
                           <a:s r="443">
                              <a:s r="439">
                                 <a:s>VTEICU</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="443">
                                 <a:s>&quot;CalendarDayOfOrDayAfter&quot;(</a:s>
                                 <a:s r="442">
                                    <a:s>end of </a:s>
                                    <a:s r="441">
                                       <a:s r="440">
                                          <a:s>AnesthesiaProcedure</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="441">
                                          <a:s>performed</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="447">
                     <a:s>return </a:s>
                     <a:s r="446">
                        <a:s>QualifyingEncounter</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="448" locator="271:2-280:28" xsi:type="Query">
            <source localId="409" locator="272:3-272:100" alias="QualifyingEncounter">
               <expression localId="408" locator="272:3-272:80" name="Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions" xsi:type="ExpressionRef"/>
            </source>
            <source localId="411" locator="273:3-273:70" alias="AnesthesiaProcedure">
               <expression localId="410" locator="273:3-273:50" dataType="fhir:Procedure" codeProperty="code" xsi:type="Retrieve">
                  <codes locator="273:17-273:49" name="General or Neuraxial Anesthesia" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <source localId="413" locator="274:3-274:73" alias="NoVTEMedication">
               <expression localId="412" locator="274:3-274:57" name="No VTE Prophylaxis Medication Administered or Ordered" xsi:type="ExpressionRef"/>
            </source>
            <where localId="445" locator="275:3-279:157" xsi:type="And">
               <operand localId="432" locator="275:9-277:120" xsi:type="And">
                  <operand localId="422" locator="275:9-276:47" xsi:type="And">
                     <operand localId="417" locator="275:9-275:54" xsi:type="AnyInValueSet">
                        <codes xsi:type="Query">
                           <source alias="X">
                              <expression localId="415" locator="275:9-275:34" path="reasonCode" scope="NoVTEMedication" xsi:type="Property"/>
                           </source>
                           <return distinct="false">
                              <expression name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand name="X" xsi:type="AliasRef"/>
                              </expression>
                           </return>
                        </codes>
                        <valueset localId="416" locator="275:39-275:54" name="Medical Reason"/>
                     </operand>
                     <operand localId="421" locator="276:8-276:47" xsi:type="Equal">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="419" locator="276:8-276:33" path="status" scope="AnesthesiaProcedure" xsi:type="Property"/>
                        </operand>
                        <operand localId="420" locator="276:37-276:47" valueType="t:String" value="completed" xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <operand localId="431" locator="277:8-277:120" precision="Day" xsi:type="SameAs">
                     <operand locator="277:38-277:41" xsi:type="End">
                        <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:Period" xsi:type="As">
                              <operand localId="424" locator="277:8-277:36" path="performed" scope="AnesthesiaProcedure" xsi:type="Property"/>
                           </operand>
                        </operand>
                     </operand>
                     <operand locator="277:62-277:120" xsi:type="Add">
                        <operand localId="429" locator="277:62-277:120" xsi:type="Start">
                           <operand localId="428" locator="277:71-277:120" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="427" locator="277:94-277:119" path="period" scope="QualifyingEncounter" xsi:type="Property"/>
                           </operand>
                        </operand>
                        <operand localId="430" locator="277:43-277:47" value="1" unit="day" xsi:type="Quantity"/>
                     </operand>
                  </operand>
               </operand>
               <operand localId="444" locator="279:8-279:157" xsi:type="In">
                  <operand localId="438" locator="279:8-279:79" xsi:type="Coalesce">
                     <operand name="ToDateTime" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="434" locator="279:17-279:42" path="authoredOn" scope="NoVTEMedication" xsi:type="Property"/>
                     </operand>
                     <operand localId="437" locator="279:45-279:78" xsi:type="Start">
                        <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:Period" xsi:type="As">
                              <operand localId="436" locator="279:54-279:78" path="effective" scope="NoVTEMedication" xsi:type="Property"/>
                           </operand>
                        </operand>
                     </operand>
                  </operand>
                  <operand localId="443" locator="279:88-279:157" name="CalendarDayOfOrDayAfter" libraryName="VTEICU" xsi:type="FunctionRef">
                     <operand localId="442" locator="279:121-279:156" xsi:type="End">
                        <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:Period" xsi:type="As">
                              <operand localId="441" locator="279:128-279:156" path="performed" scope="AnesthesiaProcedure" xsi:type="Property"/>
                           </operand>
                        </operand>
                     </operand>
                  </operand>
               </operand>
            </where>
            <return localId="447" locator="280:3-280:28">
               <expression localId="446" locator="280:10-280:28" name="QualifyingEncounter" xsi:type="AliasRef"/>
            </return>
         </expression>
      </def>
      <def localId="461" locator="284:1-286:84" name="Encounter Less Than 2 Days" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="461">
               <a:s>define &quot;Encounter Less Than 2 Days&quot;:&#xd;
	</a:s>
               <a:s r="460">
                  <a:s>
                     <a:s r="451">
                        <a:s r="450">
                           <a:s>
                              <a:s>&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> QualifyingEncounter</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="459">
                     <a:s>where </a:s>
                     <a:s r="459">
                        <a:s r="457">
                           <a:s r="452">
                              <a:s>Global</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="457">
                              <a:s>&quot;LengthInDays&quot;(</a:s>
                              <a:s r="456">
                                 <a:s r="453">
                                    <a:s>FHIRHelpers</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="456">
                                    <a:s>ToInterval(</a:s>
                                    <a:s r="455">
                                       <a:s r="454">
                                          <a:s>QualifyingEncounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="455">
                                          <a:s>period</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                        <a:s r="458">&lt; 2</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="460" locator="285:2-286:84" xsi:type="Query">
            <source localId="451" locator="285:2-285:99" alias="QualifyingEncounter">
               <expression localId="450" locator="285:2-285:79" name="Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions" xsi:type="ExpressionRef"/>
            </source>
            <where localId="459" locator="286:3-286:84" xsi:type="Less">
               <operand localId="457" locator="286:9-286:81" name="LengthInDays" libraryName="Global" xsi:type="FunctionRef">
                  <operand localId="456" locator="286:31-286:80" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="455" locator="286:54-286:79" path="period" scope="QualifyingEncounter" xsi:type="Property"/>
                  </operand>
               </operand>
               <operand localId="458" locator="286:84" valueType="t:Integer" value="2" xsi:type="Literal"/>
            </where>
         </expression>
      </def>
      <def localId="481" locator="290:1-298:30" name="SCIP VTE Selected Surgery" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="481">
               <a:s>define &quot;SCIP VTE Selected Surgery&quot;:&#xd;
	</a:s>
               <a:s r="480">
                  <a:s>
                     <a:s r="475">
                        <a:s r="474">
                           <a:s>(	</a:s>
                           <a:s r="474">
                              <a:s r="472">
                                 <a:s r="470">
                                    <a:s r="468">
                                       <a:s r="466">
                                          <a:s r="464">
                                             <a:s r="462">
                                                <a:s>[&quot;Procedure&quot;: </a:s>
                                                <a:s>
                                                   <a:s>&quot;General Surgery&quot;</a:s>
                                                </a:s>
                                                <a:s>]</a:s>
                                             </a:s>
                                             <a:s>&#xd;
		union </a:s>
                                             <a:s r="463">
                                                <a:s>[&quot;Procedure&quot;: </a:s>
                                                <a:s>
                                                   <a:s>&quot;Gynecological Surgery&quot;</a:s>
                                                </a:s>
                                                <a:s>]</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>&#xd;
		union </a:s>
                                          <a:s r="465">
                                             <a:s>[&quot;Procedure&quot;: </a:s>
                                             <a:s>
                                                <a:s>&quot;Hip Fracture Surgery&quot;</a:s>
                                             </a:s>
                                             <a:s>]</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>&#xd;
		union </a:s>
                                       <a:s r="467">
                                          <a:s>[&quot;Procedure&quot;: </a:s>
                                          <a:s>
                                             <a:s>&quot;Hip Replacement Surgery&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>&#xd;
		union </a:s>
                                    <a:s r="469">
                                       <a:s>[&quot;Procedure&quot;: </a:s>
                                       <a:s>
                                          <a:s>&quot;Intracranial Neurosurgery&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
		union </a:s>
                                 <a:s r="471">
                                    <a:s>[&quot;Procedure&quot;: </a:s>
                                    <a:s>
                                       <a:s>&quot;Knee Replacement Surgery&quot;</a:s>
                                    </a:s>
                                    <a:s>]</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>&#xd;
		union </a:s>
                              <a:s r="473">
                                 <a:s>[&quot;Procedure&quot;: </a:s>
                                 <a:s>
                                    <a:s>&quot;Urological Surgery&quot;</a:s>
                                 </a:s>
                                 <a:s>]</a:s>
                              </a:s>
                           </a:s>
                           <a:s> )</a:s>
                        </a:s>
                        <a:s> P</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="479">
                     <a:s>where </a:s>
                     <a:s r="479">
                        <a:s r="477">
                           <a:s r="476">
                              <a:s>P</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="477">
                              <a:s>status</a:s>
                           </a:s>
                        </a:s>
                        <a:s> = </a:s>
                        <a:s r="478">
                           <a:s>'completed'</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="480" locator="291:2-298:30" xsi:type="Query">
            <source localId="475" locator="291:2-297:47" alias="P">
               <expression localId="474" locator="291:2-297:45" xsi:type="Union">
                  <operand localId="472" locator="291:4-296:49" xsi:type="Union">
                     <operand localId="468" locator="291:4-294:48" xsi:type="Union">
                        <operand localId="464" locator="291:4-292:46" xsi:type="Union">
                           <operand localId="462" locator="291:4-291:35" dataType="fhir:Procedure" codeProperty="code" xsi:type="Retrieve">
                              <codes locator="291:18-291:34" name="General Surgery" xsi:type="ValueSetRef"/>
                           </operand>
                           <operand localId="463" locator="292:9-292:46" dataType="fhir:Procedure" codeProperty="code" xsi:type="Retrieve">
                              <codes locator="292:23-292:45" name="Gynecological Surgery" xsi:type="ValueSetRef"/>
                           </operand>
                        </operand>
                        <operand xsi:type="Union">
                           <operand localId="465" locator="293:9-293:45" dataType="fhir:Procedure" codeProperty="code" xsi:type="Retrieve">
                              <codes locator="293:23-293:44" name="Hip Fracture Surgery" xsi:type="ValueSetRef"/>
                           </operand>
                           <operand localId="467" locator="294:9-294:48" dataType="fhir:Procedure" codeProperty="code" xsi:type="Retrieve">
                              <codes locator="294:23-294:47" name="Hip Replacement Surgery" xsi:type="ValueSetRef"/>
                           </operand>
                        </operand>
                     </operand>
                     <operand xsi:type="Union">
                        <operand localId="469" locator="295:9-295:50" dataType="fhir:Procedure" codeProperty="code" xsi:type="Retrieve">
                           <codes locator="295:23-295:49" name="Intracranial Neurosurgery" xsi:type="ValueSetRef"/>
                        </operand>
                        <operand localId="471" locator="296:9-296:49" dataType="fhir:Procedure" codeProperty="code" xsi:type="Retrieve">
                           <codes locator="296:23-296:48" name="Knee Replacement Surgery" xsi:type="ValueSetRef"/>
                        </operand>
                     </operand>
                  </operand>
                  <operand localId="473" locator="297:9-297:43" dataType="fhir:Procedure" codeProperty="code" xsi:type="Retrieve">
                     <codes locator="297:23-297:42" name="Urological Surgery" xsi:type="ValueSetRef"/>
                  </operand>
               </expression>
            </source>
            <where localId="479" locator="298:3-298:30" xsi:type="Equal">
               <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                  <operand localId="477" locator="298:9-298:16" path="status" scope="P" xsi:type="Property"/>
               </operand>
               <operand localId="478" locator="298:20-298:30" valueType="t:String" value="completed" xsi:type="Literal"/>
            </where>
         </expression>
      </def>
      <def localId="497" locator="302:1-307:50" name="Intervention Comfort Measures" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="497">
               <a:s>define &quot;Intervention Comfort Measures&quot;:&#xd;
	</a:s>
               <a:s r="496">
                  <a:s r="488">
                     <a:s>(</a:s>
                     <a:s r="488">
                        <a:s>
                           <a:s r="483">
                              <a:s r="482">
                                 <a:s r="482">
                                    <a:s>[&quot;ProcedureRequest&quot;: </a:s>
                                    <a:s>
                                       <a:s>&quot;Comfort Measures&quot;</a:s>
                                    </a:s>
                                    <a:s>]</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> P</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
		</a:s>
                        <a:s r="487">
                           <a:s>where </a:s>
                           <a:s r="487">
                              <a:s r="485">
                                 <a:s r="484">
                                    <a:s>P</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="485">
                                    <a:s>intent</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> = </a:s>
                              <a:s r="486">
                                 <a:s>'order'</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
                  <a:s>&#xd;
		union&#xd;
		</a:s>
                  <a:s r="495">
                     <a:s>(</a:s>
                     <a:s r="495">
                        <a:s>
                           <a:s r="490">
                              <a:s r="489">
                                 <a:s r="489">
                                    <a:s>[&quot;Procedure&quot;: </a:s>
                                    <a:s>
                                       <a:s>&quot;Comfort Measures&quot;</a:s>
                                    </a:s>
                                    <a:s>]</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> IntervetionPerformed</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
		</a:s>
                        <a:s r="494">
                           <a:s>where </a:s>
                           <a:s r="494">
                              <a:s r="492">
                                 <a:s r="491">
                                    <a:s>IntervetionPerformed</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="492">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> = </a:s>
                              <a:s r="493">
                                 <a:s>'completed'</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="496" locator="303:2-307:50" xsi:type="Union">
            <operand xsi:type="As">
               <operand localId="488" locator="303:2-304:27" xsi:type="Query">
                  <source localId="483" locator="303:3-303:44" alias="P">
                     <expression localId="482" locator="303:3-303:42" dataType="fhir:ProcedureRequest" codeProperty="code" xsi:type="Retrieve">
                        <codes locator="303:24-303:41" name="Comfort Measures" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="487" locator="304:3-304:26" xsi:type="Equal">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="485" locator="304:9-304:16" path="intent" scope="P" xsi:type="Property"/>
                     </operand>
                     <operand localId="486" locator="304:20-304:26" valueType="t:String" value="order" xsi:type="Literal"/>
                  </where>
               </operand>
               <asTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="ChoiceTypeSpecifier">
                     <choice name="fhir:Procedure" xsi:type="NamedTypeSpecifier"/>
                     <choice name="fhir:ProcedureRequest" xsi:type="NamedTypeSpecifier"/>
                  </elementType>
               </asTypeSpecifier>
            </operand>
            <operand xsi:type="As">
               <operand localId="495" locator="306:3-307:50" xsi:type="Query">
                  <source localId="490" locator="306:4-306:57" alias="IntervetionPerformed">
                     <expression localId="489" locator="306:4-306:36" dataType="fhir:Procedure" codeProperty="code" xsi:type="Retrieve">
                        <codes locator="306:18-306:35" name="Comfort Measures" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="494" locator="307:3-307:49" xsi:type="Equal">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="492" locator="307:9-307:35" path="status" scope="IntervetionPerformed" xsi:type="Property"/>
                     </operand>
                     <operand localId="493" locator="307:39-307:49" valueType="t:String" value="completed" xsi:type="Literal"/>
                  </where>
               </operand>
               <asTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="ChoiceTypeSpecifier">
                     <choice name="fhir:Procedure" xsi:type="NamedTypeSpecifier"/>
                     <choice name="fhir:ProcedureRequest" xsi:type="NamedTypeSpecifier"/>
                  </elementType>
               </asTypeSpecifier>
            </operand>
         </expression>
      </def>
      <def localId="516" locator="310:1-314:171" name="Intervention Comfort Measures on Day of or Day After Start of Hospitalization" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="516">
               <a:s>define &quot;Intervention Comfort Measures on Day of or Day After Start of Hospitalization&quot;:&#xd;
	</a:s>
               <a:s r="515">
                  <a:s>
                     <a:s r="499">
                        <a:s r="498">
                           <a:s>
                              <a:s>&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> QualifyingEncounter</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="514">
                     <a:s>with </a:s>
                     <a:s r="501">
                        <a:s r="500">
                           <a:s>
                              <a:s>&quot;Intervention Comfort Measures&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> ComfortMeasure</a:s>
                     </a:s>
                     <a:s>&#xd;
	// TODO: Profile of procedure to ensure performed is a Period&#xd;
			such that </a:s>
                     <a:s r="513">
                        <a:s r="507">
                           <a:s>Coalesce(</a:s>
                           <a:s r="503">
                              <a:s r="502">
                                 <a:s>ComfortMeasure</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="503">
                                 <a:s>authoredOn</a:s>
                              </a:s>
                           </a:s>
                           <a:s>, </a:s>
                           <a:s r="506">
                              <a:s>start of </a:s>
                              <a:s r="505">
                                 <a:s r="504">
                                    <a:s>ComfortMeasure</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="505">
                                    <a:s>performed</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>)</a:s>
                        </a:s>
                        <a:s> </a:s>
                        <a:s r="513">
                           <a:s r="512">
                              <a:s>1 day</a:s>
                           </a:s>
                           <a:s> or less on or after day of</a:s>
                        </a:s>
                        <a:s> </a:s>
                        <a:s r="511">
                           <a:s>start of </a:s>
                           <a:s r="510">
                              <a:s r="508">
                                 <a:s>Global</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="510">
                                 <a:s>&quot;Hospitalization&quot;(</a:s>
                                 <a:s r="509">
                                    <a:s>QualifyingEncounter</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="515" locator="311:2-314:171" xsi:type="Query">
            <source localId="499" locator="311:2-311:99" alias="QualifyingEncounter">
               <expression localId="498" locator="311:2-311:79" name="Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions" xsi:type="ExpressionRef"/>
            </source>
            <relationship localId="514" locator="312:3-314:171" alias="ComfortMeasure" xsi:type="With">
               <expression localId="500" locator="312:8-312:38" name="Intervention Comfort Measures" xsi:type="ExpressionRef"/>
               <suchThat localId="513" locator="314:14-314:171" precision="Day" xsi:type="In">
                  <operand localId="507" locator="314:14-314:83" xsi:type="Coalesce">
                     <operand name="ToDateTime" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="503" locator="314:23-314:47" path="authoredOn" scope="ComfortMeasure" xsi:type="Property"/>
                     </operand>
                     <operand localId="506" locator="314:50-314:82" xsi:type="Start">
                        <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:Period" xsi:type="As">
                              <operand localId="505" locator="314:59-314:82" path="performed" scope="ComfortMeasure" xsi:type="Property"/>
                           </operand>
                        </operand>
                     </operand>
                  </operand>
                  <operand locator="314:85-314:97" lowClosed="true" highClosed="true" xsi:type="Interval">
                     <low localId="511" locator="314:118-314:171" xsi:type="Start">
                        <operand localId="510" locator="314:127-314:171" name="Hospitalization" libraryName="Global" xsi:type="FunctionRef">
                           <operand localId="509" locator="314:152-314:170" name="QualifyingEncounter" xsi:type="AliasRef"/>
                        </operand>
                     </low>
                     <high locator="314:118-314:171" xsi:type="Add">
                        <operand localId="511" locator="314:118-314:171" xsi:type="Start">
                           <operand localId="510" locator="314:127-314:171" name="Hospitalization" libraryName="Global" xsi:type="FunctionRef">
                              <operand localId="509" locator="314:152-314:170" name="QualifyingEncounter" xsi:type="AliasRef"/>
                           </operand>
                        </operand>
                        <operand localId="512" locator="314:85-314:89" value="1" unit="day" xsi:type="Quantity"/>
                     </high>
                  </operand>
               </suchThat>
            </relationship>
         </expression>
      </def>
      <def localId="550" locator="317:1-324:148" name="Intervention Comfort Measures on Day of or Day After Procedure" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="550">
               <a:s>define &quot;Intervention Comfort Measures on Day of or Day After Procedure&quot;:&#xd;
	</a:s>
               <a:s r="549">
                  <a:s>
                     <a:s>from&#xd;
		</a:s>
                     <a:s r="518">
                        <a:s r="517">
                           <a:s>
                              <a:s>&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> QualifyingEncounter</a:s>
                     </a:s>
                     <a:s>,&#xd;
		</a:s>
                     <a:s r="520">
                        <a:s r="519">
                           <a:s r="519">
                              <a:s>[&quot;Procedure&quot;: </a:s>
                              <a:s>
                                 <a:s>&quot;General or Neuraxial Anesthesia&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> AnesthesiaProcedure</a:s>
                     </a:s>
                     <a:s>,&#xd;
		</a:s>
                     <a:s r="522">
                        <a:s r="521">
                           <a:s>
                              <a:s>&quot;Intervention Comfort Measures&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> ComfortMeasure</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="548">
                     <a:s>where  </a:s>
                     <a:s r="548">
                        <a:s r="536">
                           <a:s r="526">
                              <a:s r="524">
                                 <a:s r="523">
                                    <a:s>AnesthesiaProcedure</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="524">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> = </a:s>
                              <a:s r="525">
                                 <a:s>'completed'</a:s>
                              </a:s>
                           </a:s>
                           <a:s>&#xd;
				and </a:s>
                           <a:s r="535">
                              <a:s r="528">
                                 <a:s r="527">
                                    <a:s>AnesthesiaProcedure</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="528">
                                    <a:s>performed</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> </a:s>
                              <a:s r="535">
                                 <a:s>ends </a:s>
                                 <a:s r="534">
                                    <a:s>1 day</a:s>
                                 </a:s>
                                 <a:s> after day of</a:s>
                              </a:s>
                              <a:s> </a:s>
                              <a:s r="533">
                                 <a:s>start of </a:s>
                                 <a:s r="532">
                                    <a:s r="529">
                                       <a:s>FHIRHelpers</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="532">
                                       <a:s>ToInterval(</a:s>
                                       <a:s r="531">
                                          <a:s r="530">
                                             <a:s>QualifyingEncounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="531">
                                             <a:s>period</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
				and </a:s>
                        <a:s r="547">
                           <a:s r="542">
                              <a:s>Coalesce(</a:s>
                              <a:s r="538">
                                 <a:s r="537">
                                    <a:s>ComfortMeasure</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="538">
                                    <a:s>authoredOn</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="541">
                                 <a:s>start of </a:s>
                                 <a:s r="540">
                                    <a:s r="539">
                                       <a:s>ComfortMeasure</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="540">
                                       <a:s>performed</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> </a:s>
                           <a:s r="547">
                              <a:s r="546">
                                 <a:s>1 day</a:s>
                              </a:s>
                              <a:s> or less on or after day of</a:s>
                           </a:s>
                           <a:s> </a:s>
                           <a:s r="545">
                              <a:s>end of </a:s>
                              <a:s r="544">
                                 <a:s r="543">
                                    <a:s>AnesthesiaProcedure</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="544">
                                    <a:s>performed</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="549" locator="318:2-324:148" xsi:type="Query">
            <source localId="518" locator="319:3-319:100" alias="QualifyingEncounter">
               <expression localId="517" locator="319:3-319:80" name="Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions" xsi:type="ExpressionRef"/>
            </source>
            <source localId="520" locator="320:3-320:70" alias="AnesthesiaProcedure">
               <expression localId="519" locator="320:3-320:50" dataType="fhir:Procedure" codeProperty="code" xsi:type="Retrieve">
                  <codes locator="320:17-320:49" name="General or Neuraxial Anesthesia" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <source localId="522" locator="321:3-321:48" alias="ComfortMeasure">
               <expression localId="521" locator="321:3-321:33" name="Intervention Comfort Measures" xsi:type="ExpressionRef"/>
            </source>
            <where localId="548" locator="322:3-324:148" xsi:type="And">
               <operand localId="536" locator="322:10-323:121" xsi:type="And">
                  <operand localId="526" locator="322:10-322:49" xsi:type="Equal">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="524" locator="322:10-322:35" path="status" scope="AnesthesiaProcedure" xsi:type="Property"/>
                     </operand>
                     <operand localId="525" locator="322:39-322:49" valueType="t:String" value="completed" xsi:type="Literal"/>
                  </operand>
                  <operand localId="535" locator="323:9-323:121" precision="Day" xsi:type="SameAs">
                     <operand locator="323:39-323:42" xsi:type="End">
                        <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:Period" xsi:type="As">
                              <operand localId="528" locator="323:9-323:37" path="performed" scope="AnesthesiaProcedure" xsi:type="Property"/>
                           </operand>
                        </operand>
                     </operand>
                     <operand locator="323:63-323:121" xsi:type="Add">
                        <operand localId="533" locator="323:63-323:121" xsi:type="Start">
                           <operand localId="532" locator="323:72-323:121" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="531" locator="323:95-323:120" path="period" scope="QualifyingEncounter" xsi:type="Property"/>
                           </operand>
                        </operand>
                        <operand localId="534" locator="323:44-323:48" value="1" unit="day" xsi:type="Quantity"/>
                     </operand>
                  </operand>
               </operand>
               <operand localId="547" locator="324:9-324:148" precision="Day" xsi:type="In">
                  <operand localId="542" locator="324:9-324:78" xsi:type="Coalesce">
                     <operand name="ToDateTime" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="538" locator="324:18-324:42" path="authoredOn" scope="ComfortMeasure" xsi:type="Property"/>
                     </operand>
                     <operand localId="541" locator="324:45-324:77" xsi:type="Start">
                        <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:Period" xsi:type="As">
                              <operand localId="540" locator="324:54-324:77" path="performed" scope="ComfortMeasure" xsi:type="Property"/>
                           </operand>
                        </operand>
                     </operand>
                  </operand>
                  <operand locator="324:80-324:92" lowClosed="true" highClosed="true" xsi:type="Interval">
                     <low localId="545" locator="324:113-324:148" xsi:type="End">
                        <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:Period" xsi:type="As">
                              <operand localId="544" locator="324:120-324:148" path="performed" scope="AnesthesiaProcedure" xsi:type="Property"/>
                           </operand>
                        </operand>
                     </low>
                     <high locator="324:113-324:148" xsi:type="Add">
                        <operand localId="545" locator="324:113-324:148" xsi:type="End">
                           <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand asType="fhir:Period" xsi:type="As">
                                 <operand localId="544" locator="324:120-324:148" path="performed" scope="AnesthesiaProcedure" xsi:type="Property"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="546" locator="324:80-324:84" value="1" unit="day" xsi:type="Quantity"/>
                     </high>
                  </operand>
               </operand>
            </where>
            <return distinct="true">
               <expression xsi:type="Tuple">
                  <element name="QualifyingEncounter">
                     <value name="QualifyingEncounter" xsi:type="AliasRef"/>
                  </element>
                  <element name="AnesthesiaProcedure">
                     <value name="AnesthesiaProcedure" xsi:type="AliasRef"/>
                  </element>
                  <element name="ComfortMeasure">
                     <value name="ComfortMeasure" xsi:type="AliasRef"/>
                  </element>
               </expression>
            </return>
         </expression>
      </def>
      <def localId="582" locator="327:1-341:5" name="VTE Prophylaxis by Medication Administered or Device Applied" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="582">
               <a:s>define &quot;VTE Prophylaxis by Medication Administered or Device Applied&quot;:&#xd;
	</a:s>
               <a:s r="581">
                  <a:s r="569">
                     <a:s r="567">
                        <a:s r="565">
                           <a:s r="563">
                              <a:s>( </a:s>
                              <a:s r="563">
                                 <a:s>
                                    <a:s r="552">
                                       <a:s r="551">
                                          <a:s r="551">
                                             <a:s>[&quot;MedicationAdministration&quot;: medication in </a:s>
                                             <a:s>
                                                <a:s>&quot;Low Dose Unfractionated Heparin for VTE Prophylaxis&quot;</a:s>
                                             </a:s>
                                             <a:s>]</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> VTEMedication</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
			</a:s>
                                 <a:s r="562">
                                    <a:s>where </a:s>
                                    <a:s r="562">
                                       <a:s r="556">
                                          <a:s r="554">
                                             <a:s r="553">
                                                <a:s>VTEMedication</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="554">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> = </a:s>
                                          <a:s r="555">
                                             <a:s>'completed'</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>&#xd;
						and </a:s>
                                       <a:s r="561">
                                          <a:s r="559">
                                             <a:s r="558">
                                                <a:s r="557">
                                                   <a:s>VTEMedication</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="558">
                                                   <a:s>dosage</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="559">
                                                <a:s>route</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="560">
                                             <a:s>&quot;Subcutaneous route&quot;</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>&#xd;
	)</a:s>
                           </a:s>
                           <a:s>&#xd;
		union </a:s>
                           <a:s r="564">
                              <a:s>[&quot;MedicationAdministration&quot;: medication in </a:s>
                              <a:s>
                                 <a:s>&quot;Low Molecular Weight Heparin for VTE Prophylaxis&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
		union </a:s>
                        <a:s r="566">
                           <a:s>[&quot;MedicationAdministration&quot;: medication in </a:s>
                           <a:s>
                              <a:s>&quot;Injectable Factor Xa Inhibitor for VTE Prophylaxis&quot;</a:s>
                           </a:s>
                           <a:s>]</a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
		union </a:s>
                     <a:s r="568">
                        <a:s>[&quot;MedicationAdministration&quot;: medication in </a:s>
                        <a:s>
                           <a:s>&quot;Warfarin&quot;</a:s>
                        </a:s>
                        <a:s>]</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		union </a:s>
                  <a:s r="580">
                     <a:s>(</a:s>
                     <a:s r="580">
                        <a:s>
                           <a:s r="575">
                              <a:s r="574">
                                 <a:s>(&#xd;
				</a:s>
                                 <a:s r="574">
                                    <a:s r="572">
                                       <a:s r="570">
                                          <a:s>[&quot;DeviceUseStatement&quot;: code in </a:s>
                                          <a:s>
                                             <a:s>&quot;Intermittent pneumatic compression devices (IPC)&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                       <a:s>&#xd;
				union </a:s>
                                       <a:s r="571">
                                          <a:s>[&quot;DeviceUseStatement&quot;: code in </a:s>
                                          <a:s>
                                             <a:s>&quot;Venous foot pumps (VFP)&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>&#xd;
				union </a:s>
                                    <a:s r="573">
                                       <a:s>[&quot;DeviceUseStatement&quot;: code in </a:s>
                                       <a:s>
                                          <a:s>&quot;Graduated compression stockings (GCS)&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
      )</a:s>
                              </a:s>
                              <a:s> DeviceApplied</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
				</a:s>
                        <a:s r="579">
                           <a:s>where </a:s>
                           <a:s r="579">
                              <a:s r="577">
                                 <a:s r="576">
                                    <a:s>DeviceApplied</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="577">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> = </a:s>
                              <a:s r="578">
                                 <a:s>'completed'</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
    )</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="581" locator="328:2-341:5" xsi:type="Union">
            <operand xsi:type="As">
               <operand localId="569" locator="328:2-334:62" xsi:type="Union">
                  <operand localId="565" locator="328:2-332:102" xsi:type="Union">
                     <operand localId="563" locator="328:2-331:2" xsi:type="Query">
                        <source localId="552" locator="328:4-328:114" alias="VTEMedication">
                           <expression localId="551" locator="328:4-328:100" dataType="fhir:MedicationAdministration" codeProperty="medication" xsi:type="Retrieve">
                              <codes locator="328:47-328:99" name="Low Dose Unfractionated Heparin for VTE Prophylaxis" xsi:type="ValueSetRef"/>
                           </expression>
                        </source>
                        <where localId="562" locator="329:4-330:60" xsi:type="And">
                           <operand localId="556" locator="329:10-329:43" xsi:type="Equal">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="554" locator="329:10-329:29" path="status" scope="VTEMedication" xsi:type="Property"/>
                              </operand>
                              <operand localId="555" locator="329:33-329:43" valueType="t:String" value="completed" xsi:type="Literal"/>
                           </operand>
                           <operand localId="561" locator="330:11-330:60" xsi:type="InValueSet">
                              <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="559" locator="330:11-330:36" path="route" xsi:type="Property">
                                    <source localId="558" locator="330:11-330:30" path="dosage" scope="VTEMedication" xsi:type="Property"/>
                                 </operand>
                              </code>
                              <valueset localId="560" locator="330:41-330:60" name="Subcutaneous route"/>
                           </operand>
                        </where>
                     </operand>
                     <operand localId="564" locator="332:9-332:102" dataType="fhir:MedicationAdministration" codeProperty="medication" xsi:type="Retrieve">
                        <codes locator="332:52-332:101" name="Low Molecular Weight Heparin for VTE Prophylaxis" xsi:type="ValueSetRef"/>
                     </operand>
                  </operand>
                  <operand xsi:type="Union">
                     <operand localId="566" locator="333:9-333:104" dataType="fhir:MedicationAdministration" codeProperty="medication" xsi:type="Retrieve">
                        <codes locator="333:52-333:103" name="Injectable Factor Xa Inhibitor for VTE Prophylaxis" xsi:type="ValueSetRef"/>
                     </operand>
                     <operand localId="568" locator="334:9-334:62" dataType="fhir:MedicationAdministration" codeProperty="medication" xsi:type="Retrieve">
                        <codes locator="334:52-334:61" name="Warfarin" xsi:type="ValueSetRef"/>
                     </operand>
                  </operand>
               </operand>
               <asTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="ChoiceTypeSpecifier">
                     <choice name="fhir:DeviceUseStatement" xsi:type="NamedTypeSpecifier"/>
                     <choice name="fhir:MedicationAdministration" xsi:type="NamedTypeSpecifier"/>
                  </elementType>
               </asTypeSpecifier>
            </operand>
            <operand xsi:type="As">
               <operand localId="580" locator="335:9-341:5" xsi:type="Query">
                  <source localId="575" locator="335:10-339:21" alias="DeviceApplied">
                     <expression localId="574" locator="335:10-339:7" xsi:type="Union">
                        <operand localId="572" locator="336:5-337:67" xsi:type="Union">
                           <operand localId="570" locator="336:5-336:86" dataType="fhir:DeviceUseStatement" codeProperty="code" xsi:type="Retrieve">
                              <codes locator="336:36-336:85" name="Intermittent pneumatic compression devices (IPC)" xsi:type="ValueSetRef"/>
                           </operand>
                           <operand localId="571" locator="337:11-337:67" dataType="fhir:DeviceUseStatement" codeProperty="code" xsi:type="Retrieve">
                              <codes locator="337:42-337:66" name="Venous foot pumps (VFP)" xsi:type="ValueSetRef"/>
                           </operand>
                        </operand>
                        <operand localId="573" locator="338:11-338:81" dataType="fhir:DeviceUseStatement" codeProperty="code" xsi:type="Retrieve">
                           <codes locator="338:42-338:80" name="Graduated compression stockings (GCS)" xsi:type="ValueSetRef"/>
                        </operand>
                     </expression>
                  </source>
                  <where localId="579" locator="340:5-340:44" xsi:type="Equal">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="577" locator="340:11-340:30" path="status" scope="DeviceApplied" xsi:type="Property"/>
                     </operand>
                     <operand localId="578" locator="340:34-340:44" valueType="t:String" value="completed" xsi:type="Literal"/>
                  </where>
               </operand>
               <asTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="ChoiceTypeSpecifier">
                     <choice name="fhir:DeviceUseStatement" xsi:type="NamedTypeSpecifier"/>
                     <choice name="fhir:MedicationAdministration" xsi:type="NamedTypeSpecifier"/>
                  </elementType>
               </asTypeSpecifier>
            </operand>
         </expression>
      </def>
      <def localId="636" locator="344:1-359:3" name="VTE Prophylaxis Received on Day of or Day After Admission or Procedure" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="636">
               <a:s>define &quot;VTE Prophylaxis Received on Day of or Day After Admission or Procedure&quot;:&#xd;
	</a:s>
               <a:s r="635">
                  <a:s r="603">
                     <a:s>( </a:s>
                     <a:s r="603">
                        <a:s>
                           <a:s>from&#xd;
			</a:s>
                           <a:s r="584">
                              <a:s r="583">
                                 <a:s>
                                    <a:s>&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> QualifyingEncounter</a:s>
                           </a:s>
                           <a:s>,&#xd;
			</a:s>
                           <a:s r="586">
                              <a:s r="585">
                                 <a:s>
                                    <a:s>&quot;VTE Prophylaxis by Medication Administered or Device Applied&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> HasVTEProphylaxis</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
			// TODO: Profile of MedicationAdministration to ensure effective is a Period&#xd;
			</a:s>
                        <a:s r="600">
                           <a:s>where </a:s>
                           <a:s r="600">
                              <a:s r="592">
                                 <a:s>Coalesce(</a:s>
                                 <a:s r="588">
                                    <a:s r="587">
                                       <a:s>HasVTEProphylaxis</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="588">
                                       <a:s>recordedOn</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="591">
                                    <a:s>start of </a:s>
                                    <a:s r="590">
                                       <a:s r="589">
                                          <a:s>HasVTEProphylaxis</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="590">
                                          <a:s>effective</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s r="600"> during </a:s>
                              <a:s r="599">
                                 <a:s r="593">
                                    <a:s>VTEICU</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="599">
                                    <a:s>&quot;CalendarDayOfOrDayAfter&quot;(</a:s>
                                    <a:s r="598">
                                       <a:s>start of </a:s>
                                       <a:s r="597">
                                          <a:s r="594">
                                             <a:s>FHIRHelpers</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="597">
                                             <a:s>ToInterval(</a:s>
                                             <a:s r="596">
                                                <a:s r="595">
                                                   <a:s>QualifyingEncounter</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="596">
                                                   <a:s>period</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
			</a:s>
                        <a:s r="602">
                           <a:s>return </a:s>
                           <a:s r="601">
                              <a:s>QualifyingEncounter</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
	)</a:s>
                  </a:s>
                  <a:s>&#xd;
		union </a:s>
                  <a:s r="634">
                     <a:s>( </a:s>
                     <a:s r="634">
                        <a:s>
                           <a:s>from&#xd;
				</a:s>
                           <a:s r="605">
                              <a:s r="604">
                                 <a:s>
                                    <a:s>&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> QualifyingEncounter</a:s>
                           </a:s>
                           <a:s>,&#xd;
				</a:s>
                           <a:s r="607">
                              <a:s r="606">
                                 <a:s r="606">
                                    <a:s>[&quot;Procedure&quot;: </a:s>
                                    <a:s>
                                       <a:s>&quot;General or Neuraxial Anesthesia&quot;</a:s>
                                    </a:s>
                                    <a:s>]</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> AnesthesiaProcedure</a:s>
                           </a:s>
                           <a:s>,&#xd;
				</a:s>
                           <a:s r="609">
                              <a:s r="608">
                                 <a:s>
                                    <a:s>&quot;VTE Prophylaxis by Medication Administered or Device Applied&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> HasVTEProphylaxis</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
				</a:s>
                        <a:s r="631">
                           <a:s>where </a:s>
                           <a:s r="631">
                              <a:s r="618">
                                 <a:s r="611">
                                    <a:s r="610">
                                       <a:s>AnesthesiaProcedure</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="611">
                                       <a:s>performed</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> </a:s>
                                 <a:s r="618">
                                    <a:s>ends </a:s>
                                    <a:s r="617">
                                       <a:s>1 day</a:s>
                                    </a:s>
                                    <a:s> after day of</a:s>
                                 </a:s>
                                 <a:s> </a:s>
                                 <a:s r="616">
                                    <a:s>start of </a:s>
                                    <a:s r="615">
                                       <a:s r="612">
                                          <a:s>FHIRHelpers</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="615">
                                          <a:s>ToInterval(</a:s>
                                          <a:s r="614">
                                             <a:s r="613">
                                                <a:s>QualifyingEncounter</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="614">
                                                <a:s>period</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>&#xd;
					and </a:s>
                              <a:s r="630">
                                 <a:s r="624">
                                    <a:s>Coalesce(</a:s>
                                    <a:s r="620">
                                       <a:s r="619">
                                          <a:s>HasVTEProphylaxis</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="620">
                                          <a:s>recordedOn</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>, </a:s>
                                    <a:s r="623">
                                       <a:s>start of </a:s>
                                       <a:s r="622">
                                          <a:s r="621">
                                             <a:s>HasVTEProphylaxis</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="622">
                                             <a:s>effective</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                                 <a:s r="630"> during </a:s>
                                 <a:s r="629">
                                    <a:s r="625">
                                       <a:s>VTEICU</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="629">
                                       <a:s>&quot;CalendarDayOfOrDayAfter&quot;(</a:s>
                                       <a:s r="628">
                                          <a:s>end of </a:s>
                                          <a:s r="627">
                                             <a:s r="626">
                                                <a:s>AnesthesiaProcedure</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="627">
                                                <a:s>performed</a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
				</a:s>
                        <a:s r="633">
                           <a:s>return </a:s>
                           <a:s r="632">
                              <a:s>QualifyingEncounter</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
		)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="635" locator="345:2-359:3" xsi:type="Union">
            <operand localId="603" locator="345:2-351:2" xsi:type="Query">
               <source localId="584" locator="346:4-346:101" alias="QualifyingEncounter">
                  <expression localId="583" locator="346:4-346:81" name="Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions" xsi:type="ExpressionRef"/>
               </source>
               <source localId="586" locator="347:4-347:83" alias="HasVTEProphylaxis">
                  <expression localId="585" locator="347:4-347:65" name="VTE Prophylaxis by Medication Administered or Device Applied" xsi:type="ExpressionRef"/>
               </source>
               <where localId="600" locator="349:4-349:186" xsi:type="In">
                  <operand localId="592" locator="349:10-349:85" xsi:type="Coalesce">
                     <operand name="ToDateTime" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="588" locator="349:19-349:46" path="recordedOn" scope="HasVTEProphylaxis" xsi:type="Property"/>
                     </operand>
                     <operand localId="591" locator="349:49-349:84" xsi:type="Start">
                        <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:Period" xsi:type="As">
                              <operand localId="590" locator="349:58-349:84" path="effective" scope="HasVTEProphylaxis" xsi:type="Property"/>
                           </operand>
                        </operand>
                     </operand>
                  </operand>
                  <operand localId="599" locator="349:94-349:186" name="CalendarDayOfOrDayAfter" libraryName="VTEICU" xsi:type="FunctionRef">
                     <operand localId="598" locator="349:127-349:185" xsi:type="Start">
                        <operand localId="597" locator="349:136-349:185" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="596" locator="349:159-349:184" path="period" scope="QualifyingEncounter" xsi:type="Property"/>
                        </operand>
                     </operand>
                  </operand>
               </where>
               <return localId="602" locator="350:4-350:29">
                  <expression localId="601" locator="350:11-350:29" name="QualifyingEncounter" xsi:type="AliasRef"/>
               </return>
            </operand>
            <operand localId="634" locator="352:9-359:3" xsi:type="Query">
               <source localId="605" locator="353:5-353:102" alias="QualifyingEncounter">
                  <expression localId="604" locator="353:5-353:82" name="Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions" xsi:type="ExpressionRef"/>
               </source>
               <source localId="607" locator="354:5-354:72" alias="AnesthesiaProcedure">
                  <expression localId="606" locator="354:5-354:52" dataType="fhir:Procedure" codeProperty="code" xsi:type="Retrieve">
                     <codes locator="354:19-354:51" name="General or Neuraxial Anesthesia" xsi:type="ValueSetRef"/>
                  </expression>
               </source>
               <source localId="609" locator="355:5-355:84" alias="HasVTEProphylaxis">
                  <expression localId="608" locator="355:5-355:66" name="VTE Prophylaxis by Medication Administered or Device Applied" xsi:type="ExpressionRef"/>
               </source>
               <where localId="631" locator="356:5-357:163" xsi:type="And">
                  <operand localId="618" locator="356:11-356:123" precision="Day" xsi:type="SameAs">
                     <operand locator="356:41-356:44" xsi:type="End">
                        <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:Period" xsi:type="As">
                              <operand localId="611" locator="356:11-356:39" path="performed" scope="AnesthesiaProcedure" xsi:type="Property"/>
                           </operand>
                        </operand>
                     </operand>
                     <operand locator="356:65-356:123" xsi:type="Add">
                        <operand localId="616" locator="356:65-356:123" xsi:type="Start">
                           <operand localId="615" locator="356:74-356:123" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="614" locator="356:97-356:122" path="period" scope="QualifyingEncounter" xsi:type="Property"/>
                           </operand>
                        </operand>
                        <operand localId="617" locator="356:46-356:50" value="1" unit="day" xsi:type="Quantity"/>
                     </operand>
                  </operand>
                  <operand localId="630" locator="357:10-357:163" xsi:type="In">
                     <operand localId="624" locator="357:10-357:85" xsi:type="Coalesce">
                        <operand name="ToDateTime" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="620" locator="357:19-357:46" path="recordedOn" scope="HasVTEProphylaxis" xsi:type="Property"/>
                        </operand>
                        <operand localId="623" locator="357:49-357:84" xsi:type="Start">
                           <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand asType="fhir:Period" xsi:type="As">
                                 <operand localId="622" locator="357:58-357:84" path="effective" scope="HasVTEProphylaxis" xsi:type="Property"/>
                              </operand>
                           </operand>
                        </operand>
                     </operand>
                     <operand localId="629" locator="357:94-357:163" name="CalendarDayOfOrDayAfter" libraryName="VTEICU" xsi:type="FunctionRef">
                        <operand localId="628" locator="357:127-357:162" xsi:type="End">
                           <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand asType="fhir:Period" xsi:type="As">
                                 <operand localId="627" locator="357:134-357:162" path="performed" scope="AnesthesiaProcedure" xsi:type="Property"/>
                              </operand>
                           </operand>
                        </operand>
                     </operand>
                  </operand>
               </where>
               <return localId="633" locator="358:5-358:30">
                  <expression localId="632" locator="358:12-358:30" name="QualifyingEncounter" xsi:type="AliasRef"/>
               </return>
            </operand>
         </expression>
      </def>
      <def localId="687" locator="363:1-378:3" name="Medication Oral Factor Xa Inhibitor Administered on Day of or Day After Admission or Procedure" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="687">
               <a:s>define &quot;Medication Oral Factor Xa Inhibitor Administered on Day of or Day After Admission or Procedure&quot;:&#xd;
	</a:s>
               <a:s r="686">
                  <a:s r="653">
                     <a:s>( </a:s>
                     <a:s r="653">
                        <a:s>
                           <a:s>from&#xd;
			</a:s>
                           <a:s r="638">
                              <a:s r="637">
                                 <a:s>
                                    <a:s>&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> QualifyingEncounter</a:s>
                           </a:s>
                           <a:s>,&#xd;
			</a:s>
                           <a:s r="640">
                              <a:s r="639">
                                 <a:s r="639">
                                    <a:s>[&quot;MedicationAdministration&quot;: medication in </a:s>
                                    <a:s>
                                       <a:s>&quot;Oral Factor Xa Inhibitor for VTE Prophylaxis or VTE Treatment&quot;</a:s>
                                    </a:s>
                                    <a:s>]</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> FactorXaMedication</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
			</a:s>
                        <a:s r="650">
                           <a:s>where </a:s>
                           <a:s r="650">
                              <a:s r="642">
                                 <a:s r="641">
                                    <a:s>FactorXaMedication</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="642">
                                    <a:s>effective</a:s>
                                 </a:s>
                              </a:s>
                              <a:s r="650"> starts during </a:s>
                              <a:s r="649">
                                 <a:s r="643">
                                    <a:s>VTEICU</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="649">
                                    <a:s>&quot;CalendarDayOfOrDayAfter&quot;(</a:s>
                                    <a:s r="648">
                                       <a:s>start of </a:s>
                                       <a:s r="647">
                                          <a:s r="644">
                                             <a:s>FHIRHelpers</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="647">
                                             <a:s>ToInterval(</a:s>
                                             <a:s r="646">
                                                <a:s r="645">
                                                   <a:s>QualifyingEncounter</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="646">
                                                   <a:s>period</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
			</a:s>
                        <a:s r="652">
                           <a:s>return </a:s>
                           <a:s r="651">
                              <a:s>QualifyingEncounter</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
	)</a:s>
                  </a:s>
                  <a:s>&#xd;
		union </a:s>
                  <a:s r="685">
                     <a:s>( </a:s>
                     <a:s r="685">
                        <a:s>
                           <a:s>from&#xd;
				</a:s>
                           <a:s r="655">
                              <a:s r="654">
                                 <a:s>
                                    <a:s>&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> QualifyingEncounter</a:s>
                           </a:s>
                           <a:s>,&#xd;
				</a:s>
                           <a:s r="657">
                              <a:s r="656">
                                 <a:s r="656">
                                    <a:s>[&quot;Procedure&quot;: </a:s>
                                    <a:s>
                                       <a:s>&quot;General or Neuraxial Anesthesia&quot;</a:s>
                                    </a:s>
                                    <a:s>]</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> AnesthesiaProcedure</a:s>
                           </a:s>
                           <a:s>,&#xd;
				</a:s>
                           <a:s r="659">
                              <a:s r="658">
                                 <a:s r="658">
                                    <a:s>[&quot;MedicationAdministration&quot;: medication in </a:s>
                                    <a:s>
                                       <a:s>&quot;Oral Factor Xa Inhibitor for VTE Prophylaxis or VTE Treatment&quot;</a:s>
                                    </a:s>
                                    <a:s>]</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> FactorXaMedication</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
				</a:s>
                        <a:s r="682">
                           <a:s>where </a:s>
                           <a:s r="682">
                              <a:s r="673">
                                 <a:s r="663">
                                    <a:s r="661">
                                       <a:s r="660">
                                          <a:s>AnesthesiaProcedure</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="661">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="662">
                                       <a:s>'completed'</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
				and </a:s>
                                 <a:s r="672">
                                    <a:s r="665">
                                       <a:s r="664">
                                          <a:s>AnesthesiaProcedure</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="665">
                                          <a:s>performed</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> </a:s>
                                    <a:s r="672">
                                       <a:s>ends </a:s>
                                       <a:s r="671">
                                          <a:s>1 day</a:s>
                                       </a:s>
                                       <a:s> after day of</a:s>
                                    </a:s>
                                    <a:s> </a:s>
                                    <a:s r="670">
                                       <a:s>start of </a:s>
                                       <a:s r="669">
                                          <a:s r="666">
                                             <a:s>FHIRHelpers</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="669">
                                             <a:s>ToInterval(</a:s>
                                             <a:s r="668">
                                                <a:s r="667">
                                                   <a:s>QualifyingEncounter</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="668">
                                                   <a:s>period</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>&#xd;
					and </a:s>
                              <a:s r="681">
                                 <a:s r="675">
                                    <a:s r="674">
                                       <a:s>FactorXaMedication</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="675">
                                       <a:s>effective</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s r="681"> starts during </a:s>
                                 <a:s r="680">
                                    <a:s r="676">
                                       <a:s>VTEICU</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="680">
                                       <a:s>&quot;CalendarDayOfOrDayAfter&quot;(</a:s>
                                       <a:s r="679">
                                          <a:s>end of </a:s>
                                          <a:s r="678">
                                             <a:s r="677">
                                                <a:s>AnesthesiaProcedure</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="678">
                                                <a:s>performed</a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
				</a:s>
                        <a:s r="684">
                           <a:s>return </a:s>
                           <a:s r="683">
                              <a:s>QualifyingEncounter</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
		)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="686" locator="364:2-378:3" xsi:type="Union">
            <operand localId="653" locator="364:2-369:2" xsi:type="Query">
               <source localId="638" locator="365:4-365:101" alias="QualifyingEncounter">
                  <expression localId="637" locator="365:4-365:81" name="Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions" xsi:type="ExpressionRef"/>
               </source>
               <source localId="640" locator="366:4-366:129" alias="FactorXaMedication">
                  <expression localId="639" locator="366:4-366:110" dataType="fhir:MedicationAdministration" codeProperty="medication" xsi:type="Retrieve">
                     <codes locator="366:47-366:109" name="Oral Factor Xa Inhibitor for VTE Prophylaxis or VTE Treatment" xsi:type="ValueSetRef"/>
                  </expression>
               </source>
               <where localId="650" locator="367:4-367:145" xsi:type="In">
                  <operand locator="367:39-367:44" xsi:type="Start">
                     <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand asType="fhir:Period" xsi:type="As">
                           <operand localId="642" locator="367:10-367:37" path="effective" scope="FactorXaMedication" xsi:type="Property"/>
                        </operand>
                     </operand>
                  </operand>
                  <operand localId="649" locator="367:53-367:145" name="CalendarDayOfOrDayAfter" libraryName="VTEICU" xsi:type="FunctionRef">
                     <operand localId="648" locator="367:86-367:144" xsi:type="Start">
                        <operand localId="647" locator="367:95-367:144" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="646" locator="367:118-367:143" path="period" scope="QualifyingEncounter" xsi:type="Property"/>
                        </operand>
                     </operand>
                  </operand>
               </where>
               <return localId="652" locator="368:4-368:29">
                  <expression localId="651" locator="368:11-368:29" name="QualifyingEncounter" xsi:type="AliasRef"/>
               </return>
            </operand>
            <operand localId="685" locator="370:9-378:3" xsi:type="Query">
               <source localId="655" locator="371:5-371:102" alias="QualifyingEncounter">
                  <expression localId="654" locator="371:5-371:82" name="Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions" xsi:type="ExpressionRef"/>
               </source>
               <source localId="657" locator="372:5-372:72" alias="AnesthesiaProcedure">
                  <expression localId="656" locator="372:5-372:52" dataType="fhir:Procedure" codeProperty="code" xsi:type="Retrieve">
                     <codes locator="372:19-372:51" name="General or Neuraxial Anesthesia" xsi:type="ValueSetRef"/>
                  </expression>
               </source>
               <source localId="659" locator="373:5-373:130" alias="FactorXaMedication">
                  <expression localId="658" locator="373:5-373:111" dataType="fhir:MedicationAdministration" codeProperty="medication" xsi:type="Retrieve">
                     <codes locator="373:48-373:110" name="Oral Factor Xa Inhibitor for VTE Prophylaxis or VTE Treatment" xsi:type="ValueSetRef"/>
                  </expression>
               </source>
               <where localId="682" locator="374:5-376:122" xsi:type="And">
                  <operand localId="673" locator="374:11-375:121" xsi:type="And">
                     <operand localId="663" locator="374:11-374:50" xsi:type="Equal">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="661" locator="374:11-374:36" path="status" scope="AnesthesiaProcedure" xsi:type="Property"/>
                        </operand>
                        <operand localId="662" locator="374:40-374:50" valueType="t:String" value="completed" xsi:type="Literal"/>
                     </operand>
                     <operand localId="672" locator="375:9-375:121" precision="Day" xsi:type="SameAs">
                        <operand locator="375:39-375:42" xsi:type="End">
                           <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand asType="fhir:Period" xsi:type="As">
                                 <operand localId="665" locator="375:9-375:37" path="performed" scope="AnesthesiaProcedure" xsi:type="Property"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand locator="375:63-375:121" xsi:type="Add">
                           <operand localId="670" locator="375:63-375:121" xsi:type="Start">
                              <operand localId="669" locator="375:72-375:121" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="668" locator="375:95-375:120" path="period" scope="QualifyingEncounter" xsi:type="Property"/>
                              </operand>
                           </operand>
                           <operand localId="671" locator="375:44-375:48" value="1" unit="day" xsi:type="Quantity"/>
                        </operand>
                     </operand>
                  </operand>
                  <operand localId="681" locator="376:10-376:122" xsi:type="In">
                     <operand locator="376:39-376:44" xsi:type="Start">
                        <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:Period" xsi:type="As">
                              <operand localId="675" locator="376:10-376:37" path="effective" scope="FactorXaMedication" xsi:type="Property"/>
                           </operand>
                        </operand>
                     </operand>
                     <operand localId="680" locator="376:53-376:122" name="CalendarDayOfOrDayAfter" libraryName="VTEICU" xsi:type="FunctionRef">
                        <operand localId="679" locator="376:86-376:121" xsi:type="End">
                           <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand asType="fhir:Period" xsi:type="As">
                                 <operand localId="678" locator="376:93-376:121" path="performed" scope="AnesthesiaProcedure" xsi:type="Property"/>
                              </operand>
                           </operand>
                        </operand>
                     </operand>
                  </operand>
               </where>
               <return localId="684" locator="377:5-377:30">
                  <expression localId="683" locator="377:12-377:30" name="QualifyingEncounter" xsi:type="AliasRef"/>
               </return>
            </operand>
         </expression>
      </def>
      <def localId="754" locator="381:1-396:3" name="Encounter With Prior or Present Diagnosis of Atrial Fibrillation or VTE" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="754">
               <a:s>define &quot;Encounter With Prior or Present Diagnosis of Atrial Fibrillation or VTE&quot;:&#xd;
	</a:s>
               <a:s r="753">
                  <a:s r="723">
                     <a:s r="713">
                        <a:s>( </a:s>
                        <a:s r="713">
                           <a:s>
                              <a:s r="689">
                                 <a:s r="688">
                                    <a:s>
                                       <a:s>&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot;</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> QualifyingEncounter</a:s>
                              </a:s>
                           </a:s>
                           <a:s>&#xd;
			</a:s>
                           <a:s r="712">
                              <a:s>with </a:s>
                              <a:s r="691">
                                 <a:s r="690">
                                    <a:s r="690">
                                       <a:s>[&quot;Condition&quot;: code in </a:s>
                                       <a:s>
                                          <a:s>&quot;Atrial Fibrillation/Flutter&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> AtrialFibrillation</a:s>
                              </a:s>
                              <a:s>&#xd;
				such that </a:s>
                              <a:s r="711">
                                 <a:s r="700">
                                    <a:s r="695">
                                       <a:s r="693">
                                          <a:s r="692">
                                             <a:s>AtrialFibrillation</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="693">
                                             <a:s>clinicalStatus</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="694">
                                          <a:s>'active'</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>&#xd;
				and </a:s>
                                    <a:s r="699">
                                       <a:s r="697">
                                          <a:s r="696">
                                             <a:s>AtrialFibrillation</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="697">
                                             <a:s>verificationStatus</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="698">
                                          <a:s>'confirmed'</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
				and </a:s>
                                 <a:s r="710">
                                    <a:s r="704">
                                       <a:s r="701">
                                          <a:s>Global</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="704">
                                          <a:s>&quot;Normalize Onset&quot;(</a:s>
                                          <a:s r="703">
                                             <a:s r="702">
                                                <a:s>AtrialFibrillation</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="703">
                                                <a:s>onset</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s r="710"> on or before </a:s>
                                    <a:s r="709">
                                       <a:s>end of </a:s>
                                       <a:s r="708">
                                          <a:s r="705">
                                             <a:s>FHIRHelpers</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="708">
                                             <a:s>ToInterval(</a:s>
                                             <a:s r="707">
                                                <a:s r="706">
                                                   <a:s>QualifyingEncounter</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="707">
                                                   <a:s>period</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
	)</a:s>
                     </a:s>
                     <a:s>&#xd;
		union </a:s>
                     <a:s r="722">
                        <a:s>( </a:s>
                        <a:s r="722">
                           <a:s>
                              <a:s r="715">
                                 <a:s r="714">
                                    <a:s>
                                       <a:s>&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot;</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> QualifyingEncounter</a:s>
                              </a:s>
                           </a:s>
                           <a:s>&#xd;
				</a:s>
                           <a:s r="721">
                              <a:s>where </a:s>
                              <a:s r="721">
                                 <a:s r="719">
                                    <a:s r="718">
                                       <a:s r="716">
                                          <a:s>Global</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="718">
                                          <a:s>EncounterDiagnosis(</a:s>
                                          <a:s r="717">
                                             <a:s>QualifyingEncounter</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="719">
                                       <a:s>code</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> in </a:s>
                                 <a:s r="720">
                                    <a:s>&quot;Atrial Fibrillation/Flutter&quot;</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
			)</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		union </a:s>
                  <a:s r="752">
                     <a:s>( </a:s>
                     <a:s r="752">
                        <a:s>
                           <a:s r="725">
                              <a:s r="724">
                                 <a:s>
                                    <a:s>&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> QualifyingEncounter</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
				</a:s>
                        <a:s r="751">
                           <a:s>with </a:s>
                           <a:s r="727">
                              <a:s r="726">
                                 <a:s r="726">
                                    <a:s>[&quot;Condition&quot;: code in </a:s>
                                    <a:s>
                                       <a:s>&quot;Venous Thromboembolism&quot;</a:s>
                                    </a:s>
                                    <a:s>]</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> VTEDiagnosis</a:s>
                           </a:s>
                           <a:s>&#xd;
					such that  </a:s>
                           <a:s r="750">
                              <a:s r="739">
                                 <a:s r="734">
                                    <a:s r="729">
                                       <a:s r="728">
                                          <a:s>VTEDiagnosis</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="729">
                                          <a:s>clinicalStatus</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="733">
                                       <a:s>{ </a:s>
                                       <a:s r="730">
                                          <a:s>'inactive'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="731">
                                          <a:s>'remission'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="732">
                                          <a:s>'resolved'</a:s>
                                       </a:s>
                                       <a:s> }</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
					and </a:s>
                                 <a:s r="738">
                                    <a:s r="736">
                                       <a:s r="735">
                                          <a:s>VTEDiagnosis</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="736">
                                          <a:s>verificationStatus</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="737">
                                       <a:s>'confirmed'</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>&#xd;
					and </a:s>
                              <a:s r="749">
                                 <a:s r="743">
                                    <a:s r="740">
                                       <a:s>Global</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="743">
                                       <a:s>&quot;Normalize Onset&quot;(</a:s>
                                       <a:s r="742">
                                          <a:s r="741">
                                             <a:s>VTEDiagnosis</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="742">
                                             <a:s>onset</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s r="749"> before </a:s>
                                 <a:s r="748">
                                    <a:s>start of </a:s>
                                    <a:s r="747">
                                       <a:s r="744">
                                          <a:s>FHIRHelpers</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="747">
                                          <a:s>ToInterval(</a:s>
                                          <a:s r="746">
                                             <a:s r="745">
                                                <a:s>QualifyingEncounter</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="746">
                                                <a:s>period</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
		)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="753" locator="382:2-396:3" xsi:type="Union">
            <operand localId="723" locator="382:2-390:4" xsi:type="Union">
               <operand localId="713" locator="382:2-387:2" xsi:type="Query">
                  <source localId="689" locator="382:4-382:101" alias="QualifyingEncounter">
                     <expression localId="688" locator="382:4-382:81" name="Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions" xsi:type="ExpressionRef"/>
                  </source>
                  <relationship localId="712" locator="383:4-386:129" alias="AtrialFibrillation" xsi:type="With">
                     <expression localId="690" locator="383:9-383:60" dataType="fhir:Condition" codeProperty="code" xsi:type="Retrieve">
                        <codes locator="383:31-383:59" name="Atrial Fibrillation/Flutter" xsi:type="ValueSetRef"/>
                     </expression>
                     <suchThat localId="711" locator="384:15-386:129" xsi:type="And">
                        <operand localId="700" locator="384:15-385:59" xsi:type="And">
                           <operand localId="695" locator="384:15-384:58" xsi:type="Equal">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="693" locator="384:15-384:47" path="clinicalStatus" scope="AtrialFibrillation" xsi:type="Property"/>
                              </operand>
                              <operand localId="694" locator="384:51-384:58" valueType="t:String" value="active" xsi:type="Literal"/>
                           </operand>
                           <operand localId="699" locator="385:9-385:59" xsi:type="Equal">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="697" locator="385:9-385:45" path="verificationStatus" scope="AtrialFibrillation" xsi:type="Property"/>
                              </operand>
                              <operand localId="698" locator="385:49-385:59" valueType="t:String" value="confirmed" xsi:type="Literal"/>
                           </operand>
                        </operand>
                        <operand localId="710" locator="386:9-386:129" xsi:type="SameOrBefore">
                           <operand localId="704" locator="386:9-386:58" name="Normalize Onset" libraryName="Global" xsi:type="FunctionRef">
                              <operand localId="703" locator="386:34-386:57" path="onset" scope="AtrialFibrillation" xsi:type="Property"/>
                           </operand>
                           <operand lowClosed="true" highClosed="true" xsi:type="Interval">
                              <low xsi:type="As">
                                 <operand localId="709" locator="386:73-386:129" xsi:type="End">
                                    <operand localId="708" locator="386:80-386:129" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                       <operand localId="707" locator="386:103-386:128" path="period" scope="QualifyingEncounter" xsi:type="Property"/>
                                    </operand>
                                 </operand>
                                 <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                    <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    <choice name="fhir:decimal" xsi:type="NamedTypeSpecifier"/>
                                    <choice name="t:String" xsi:type="NamedTypeSpecifier"/>
                                 </asTypeSpecifier>
                              </low>
                              <high xsi:type="As">
                                 <operand localId="709" locator="386:73-386:129" xsi:type="End">
                                    <operand localId="708" locator="386:80-386:129" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                       <operand localId="707" locator="386:103-386:128" path="period" scope="QualifyingEncounter" xsi:type="Property"/>
                                    </operand>
                                 </operand>
                                 <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                    <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    <choice name="fhir:decimal" xsi:type="NamedTypeSpecifier"/>
                                    <choice name="t:String" xsi:type="NamedTypeSpecifier"/>
                                 </asTypeSpecifier>
                              </high>
                           </operand>
                        </operand>
                     </suchThat>
                  </relationship>
               </operand>
               <operand localId="722" locator="388:9-390:4" xsi:type="Query">
                  <source localId="715" locator="388:11-388:108" alias="QualifyingEncounter">
                     <expression localId="714" locator="388:11-388:88" name="Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions" xsi:type="ExpressionRef"/>
                  </source>
                  <where localId="721" locator="389:5-389:94" xsi:type="AnyInValueSet">
                     <codes xsi:type="Query">
                        <source alias="X">
                           <expression localId="719" locator="389:11-389:61" xsi:type="Query">
                              <source alias="$this">
                                 <expression localId="718" locator="389:11-389:56" name="EncounterDiagnosis" libraryName="Global" xsi:type="FunctionRef">
                                    <operand localId="717" locator="389:37-389:55" name="QualifyingEncounter" xsi:type="AliasRef"/>
                                 </expression>
                              </source>
                              <where xsi:type="Not">
                                 <operand xsi:type="IsNull">
                                    <operand path="code" xsi:type="Property">
                                       <source name="$this" xsi:type="AliasRef"/>
                                    </operand>
                                 </operand>
                              </where>
                              <return>
                                 <expression path="code" xsi:type="Property">
                                    <source name="$this" xsi:type="AliasRef"/>
                                 </expression>
                              </return>
                           </expression>
                        </source>
                        <return distinct="false">
                           <expression name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand name="X" xsi:type="AliasRef"/>
                           </expression>
                        </return>
                     </codes>
                     <valueset localId="720" locator="389:66-389:94" name="Atrial Fibrillation/Flutter"/>
                  </where>
               </operand>
            </operand>
            <operand localId="752" locator="391:9-396:3" xsi:type="Query">
               <source localId="725" locator="391:11-391:108" alias="QualifyingEncounter">
                  <expression localId="724" locator="391:11-391:88" name="Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions" xsi:type="ExpressionRef"/>
               </source>
               <relationship localId="751" locator="392:5-395:120" alias="VTEDiagnosis" xsi:type="With">
                  <expression localId="726" locator="392:10-392:56" dataType="fhir:Condition" codeProperty="code" xsi:type="Retrieve">
                     <codes locator="392:32-392:55" name="Venous Thromboembolism" xsi:type="ValueSetRef"/>
                  </expression>
                  <suchThat localId="750" locator="393:17-395:120" xsi:type="And">
                     <operand localId="739" locator="393:17-394:54" xsi:type="And">
                        <operand localId="734" locator="393:17-393:86" xsi:type="In">
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="729" locator="393:17-393:43" path="clinicalStatus" scope="VTEDiagnosis" xsi:type="Property"/>
                           </operand>
                           <operand localId="733" locator="393:48-393:86" xsi:type="List">
                              <element localId="730" locator="393:50-393:59" valueType="t:String" value="inactive" xsi:type="Literal"/>
                              <element localId="731" locator="393:62-393:72" valueType="t:String" value="remission" xsi:type="Literal"/>
                              <element localId="732" locator="393:75-393:84" valueType="t:String" value="resolved" xsi:type="Literal"/>
                           </operand>
                        </operand>
                        <operand localId="738" locator="394:10-394:54" xsi:type="Equal">
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="736" locator="394:10-394:40" path="verificationStatus" scope="VTEDiagnosis" xsi:type="Property"/>
                           </operand>
                           <operand localId="737" locator="394:44-394:54" valueType="t:String" value="confirmed" xsi:type="Literal"/>
                        </operand>
                     </operand>
                     <operand localId="749" locator="395:10-395:120" xsi:type="Before">
                        <operand localId="743" locator="395:10-395:53" name="Normalize Onset" libraryName="Global" xsi:type="FunctionRef">
                           <operand localId="742" locator="395:35-395:52" path="onset" scope="VTEDiagnosis" xsi:type="Property"/>
                        </operand>
                        <operand lowClosed="true" highClosed="true" xsi:type="Interval">
                           <low xsi:type="As">
                              <operand localId="748" locator="395:62-395:120" xsi:type="Start">
                                 <operand localId="747" locator="395:71-395:120" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="746" locator="395:94-395:119" path="period" scope="QualifyingEncounter" xsi:type="Property"/>
                                 </operand>
                              </operand>
                              <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                 <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 <choice name="fhir:decimal" xsi:type="NamedTypeSpecifier"/>
                                 <choice name="t:String" xsi:type="NamedTypeSpecifier"/>
                              </asTypeSpecifier>
                           </low>
                           <high xsi:type="As">
                              <operand localId="748" locator="395:62-395:120" xsi:type="Start">
                                 <operand localId="747" locator="395:71-395:120" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="746" locator="395:94-395:119" path="period" scope="QualifyingEncounter" xsi:type="Property"/>
                                 </operand>
                              </operand>
                              <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                 <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 <choice name="fhir:decimal" xsi:type="NamedTypeSpecifier"/>
                                 <choice name="t:String" xsi:type="NamedTypeSpecifier"/>
                              </asTypeSpecifier>
                           </high>
                        </operand>
                     </operand>
                  </suchThat>
               </relationship>
            </operand>
         </expression>
      </def>
      <def localId="787" locator="399:1-405:3" name="Encounter With ICU Location Stay 1 Day or More" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="787">
               <a:s>define &quot;Encounter With ICU Location Stay 1 Day or More&quot;:&#xd;
	</a:s>
               <a:s r="786">
                  <a:s>
                     <a:s r="756">
                        <a:s r="755">
                           <a:s>
                              <a:s>&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> QualifyingEncounter</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="785">
                     <a:s>where </a:s>
                     <a:s r="785">
                        <a:s>exists </a:s>
                        <a:s r="784">
                           <a:s>( </a:s>
                           <a:s r="784">
                              <a:s>
                                 <a:s r="758">
                                    <a:s r="757">
                                       <a:s>
                                          <a:s>QualifyingEncounter.location</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> Location</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>&#xd;
				</a:s>
                              <a:s r="783">
                                 <a:s>where </a:s>
                                 <a:s r="783">
                                    <a:s r="772">
                                       <a:s r="765">
                                          <a:s r="763">
                                             <a:s r="762">
                                                <a:s r="759">
                                                   <a:s>Global</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="762">
                                                   <a:s>GetLocation(</a:s>
                                                   <a:s r="761">
                                                      <a:s r="760">
                                                         <a:s>Location</a:s>
                                                      </a:s>
                                                      <a:s>.</a:s>
                                                      <a:s r="761">
                                                         <a:s>location</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s>)</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="763">
                                                <a:s>type</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="764">
                                             <a:s>&quot;Intensive Care Unit&quot;</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>&#xd;
					and </a:s>
                                       <a:s r="771">
                                          <a:s r="769">
                                             <a:s r="766">
                                                <a:s>Global</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="769">
                                                <a:s>&quot;LengthInDays&quot;(</a:s>
                                                <a:s r="768">
                                                   <a:s r="767">
                                                      <a:s>Location</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="768">
                                                      <a:s>period</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>)</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s r="770">>= 1</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>&#xd;
					and </a:s>
                                    <a:s r="782">
                                       <a:s r="774">
                                          <a:s r="773">
                                             <a:s>Location</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="774">
                                             <a:s>period</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s r="782"> starts during </a:s>
                                       <a:s r="781">
                                          <a:s r="775">
                                             <a:s>VTEICU</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="781">
                                             <a:s>&quot;CalendarDayOfOrDayAfter&quot;(</a:s>
                                             <a:s r="780">
                                                <a:s>start of </a:s>
                                                <a:s r="779">
                                                   <a:s r="776">
                                                      <a:s>FHIRHelpers</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="779">
                                                      <a:s>ToInterval(</a:s>
                                                      <a:s r="778">
                                                         <a:s r="777">
                                                            <a:s>QualifyingEncounter</a:s>
                                                         </a:s>
                                                         <a:s>.</a:s>
                                                         <a:s r="778">
                                                            <a:s>period</a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>&#xd;
		)</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="786" locator="400:2-405:3" xsi:type="Query">
            <source localId="756" locator="400:2-400:99" alias="QualifyingEncounter">
               <expression localId="755" locator="400:2-400:79" name="Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions" xsi:type="ExpressionRef"/>
            </source>
            <where localId="785" locator="401:3-405:3" xsi:type="Exists">
               <operand localId="784" locator="401:16-405:3" xsi:type="Query">
                  <source localId="758" locator="401:18-401:54" alias="Location">
                     <expression localId="757" locator="401:18-401:45" path="location" scope="QualifyingEncounter" xsi:type="Property"/>
                  </source>
                  <where localId="783" locator="402:5-404:132" xsi:type="And">
                     <operand localId="772" locator="402:11-403:51" xsi:type="And">
                        <operand localId="765" locator="402:11-402:77" xsi:type="InValueSet">
                           <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="763" locator="402:11-402:52" path="type" xsi:type="Property">
                                 <source localId="762" locator="402:11-402:47" name="GetLocation" libraryName="Global" xsi:type="FunctionRef">
                                    <operand localId="761" locator="402:30-402:46" path="location" scope="Location" xsi:type="Property"/>
                                 </source>
                              </operand>
                           </code>
                           <valueset localId="764" locator="402:57-402:77" name="Intensive Care Unit"/>
                        </operand>
                        <operand localId="771" locator="403:10-403:51" xsi:type="GreaterOrEqual">
                           <operand localId="769" locator="403:10-403:47" name="LengthInDays" libraryName="Global" xsi:type="FunctionRef">
                              <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="768" locator="403:32-403:46" path="period" scope="Location" xsi:type="Property"/>
                              </operand>
                           </operand>
                           <operand localId="770" locator="403:51" valueType="t:Integer" value="1" xsi:type="Literal"/>
                        </operand>
                     </operand>
                     <operand localId="782" locator="404:10-404:132" xsi:type="In">
                        <operand locator="404:26-404:31" xsi:type="Start">
                           <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="774" locator="404:10-404:24" path="period" scope="Location" xsi:type="Property"/>
                           </operand>
                        </operand>
                        <operand localId="781" locator="404:40-404:132" name="CalendarDayOfOrDayAfter" libraryName="VTEICU" xsi:type="FunctionRef">
                           <operand localId="780" locator="404:73-404:131" xsi:type="Start">
                              <operand localId="779" locator="404:82-404:131" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="778" locator="404:105-404:130" path="period" scope="QualifyingEncounter" xsi:type="Property"/>
                              </operand>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="811" locator="409:1-413:80" name="Encounter With Principal Diagnosis of Mental Disorder or Stroke" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="811">
               <a:s>define &quot;Encounter With Principal Diagnosis of Mental Disorder or Stroke&quot;:&#xd;
	</a:s>
               <a:s r="810">
                  <a:s>
                     <a:s r="789">
                        <a:s r="788">
                           <a:s>
                              <a:s>&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> QualifyingEncounter</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="809">
                     <a:s>where </a:s>
                     <a:s r="809">
                        <a:s r="802">
                           <a:s r="795">
                              <a:s r="793">
                                 <a:s r="792">
                                    <a:s r="790">
                                       <a:s>Global</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="792">
                                       <a:s>&quot;PrincipalDiagnosis&quot;(</a:s>
                                       <a:s r="791">
                                          <a:s>QualifyingEncounter</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="793">
                                    <a:s>code</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="794">
                                 <a:s>&quot;Mental Health Diagnoses&quot;</a:s>
                              </a:s>
                           </a:s>
                           <a:s>&#xd;
			or </a:s>
                           <a:s r="801">
                              <a:s r="799">
                                 <a:s r="798">
                                    <a:s r="796">
                                       <a:s>Global</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="798">
                                       <a:s>&quot;PrincipalDiagnosis&quot;(</a:s>
                                       <a:s r="797">
                                          <a:s>QualifyingEncounter</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="799">
                                    <a:s>code</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="800">
                                 <a:s>&quot;Hemorrhagic Stroke&quot;</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
			or </a:s>
                        <a:s r="808">
                           <a:s r="806">
                              <a:s r="805">
                                 <a:s r="803">
                                    <a:s>Global</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="805">
                                    <a:s>&quot;PrincipalDiagnosis&quot;(</a:s>
                                    <a:s r="804">
                                       <a:s>QualifyingEncounter</a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="806">
                                 <a:s>code</a:s>
                              </a:s>
                           </a:s>
                           <a:s> in </a:s>
                           <a:s r="807">
                              <a:s>&quot;Ischemic Stroke&quot;</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="810" locator="410:2-413:80" xsi:type="Query">
            <source localId="789" locator="410:2-410:99" alias="QualifyingEncounter">
               <expression localId="788" locator="410:2-410:79" name="Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions" xsi:type="ExpressionRef"/>
            </source>
            <where localId="809" locator="411:3-413:80" xsi:type="Or">
               <operand localId="802" locator="411:9-412:83" xsi:type="Or">
                  <operand localId="795" locator="411:9-411:90" xsi:type="InValueSet">
                     <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="793" locator="411:9-411:61" path="code" xsi:type="Property">
                           <source localId="792" locator="411:9-411:56" name="PrincipalDiagnosis" libraryName="Global" xsi:type="FunctionRef">
                              <operand localId="791" locator="411:37-411:55" name="QualifyingEncounter" xsi:type="AliasRef"/>
                           </source>
                        </operand>
                     </code>
                     <valueset localId="794" locator="411:66-411:90" name="Mental Health Diagnoses"/>
                  </operand>
                  <operand localId="801" locator="412:7-412:83" xsi:type="InValueSet">
                     <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="799" locator="412:7-412:59" path="code" xsi:type="Property">
                           <source localId="798" locator="412:7-412:54" name="PrincipalDiagnosis" libraryName="Global" xsi:type="FunctionRef">
                              <operand localId="797" locator="412:35-412:53" name="QualifyingEncounter" xsi:type="AliasRef"/>
                           </source>
                        </operand>
                     </code>
                     <valueset localId="800" locator="412:64-412:83" name="Hemorrhagic Stroke"/>
                  </operand>
               </operand>
               <operand localId="808" locator="413:7-413:80" xsi:type="InValueSet">
                  <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="806" locator="413:7-413:59" path="code" xsi:type="Property">
                        <source localId="805" locator="413:7-413:54" name="PrincipalDiagnosis" libraryName="Global" xsi:type="FunctionRef">
                           <operand localId="804" locator="413:35-413:53" name="QualifyingEncounter" xsi:type="AliasRef"/>
                        </source>
                     </operand>
                  </code>
                  <valueset localId="807" locator="413:64-413:80" name="Ischemic Stroke"/>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="834" locator="417:1-421:99" name="Encounter With Principal Procedure of SCIP VTE Selected Surgery" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="834">
               <a:s>define &quot;Encounter With Principal Procedure of SCIP VTE Selected Surgery&quot;:&#xd;
	</a:s>
               <a:s r="833">
                  <a:s>
                     <a:s r="813">
                        <a:s r="812">
                           <a:s>
                              <a:s>&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> QualifyingEncounter</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="832">
                     <a:s>with </a:s>
                     <a:s r="824">
                        <a:s r="823">
                           <a:s>( </a:s>
                           <a:s r="823">
                              <a:s>
                                 <a:s r="815">
                                    <a:s r="814">
                                       <a:s>
                                          <a:s>&quot;SCIP VTE Selected Surgery&quot;</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> Procedure</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>&#xd;
			</a:s>
                              <a:s r="822">
                                 <a:s>where </a:s>
                                 <a:s r="822">
                                    <a:s r="820">
                                       <a:s r="819">
                                          <a:s>GetExtension(</a:s>
                                          <a:s r="817">
                                             <a:s r="816">
                                                <a:s>Procedure</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="817">
                                                <a:s>extension</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="818">
                                             <a:s>'http://example.org/StructureDefinition/ordinality'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="820">
                                          <a:s>value</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> ~ </a:s>
                                    <a:s r="821">
                                       <a:s>&quot;Principal&quot;</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s> )</a:s>
                        </a:s>
                        <a:s> SelectedProcedure</a:s>
                     </a:s>
                     <a:s>&#xd;
			such that </a:s>
                     <a:s r="831">
                        <a:s r="826">
                           <a:s r="825">
                              <a:s>SelectedProcedure</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="826">
                              <a:s>performed</a:s>
                           </a:s>
                        </a:s>
                        <a:s r="831"> during </a:s>
                        <a:s r="830">
                           <a:s r="827">
                              <a:s>FHIRHelpers</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="830">
                              <a:s>ToInterval( </a:s>
                              <a:s r="829">
                                 <a:s r="828">
                                    <a:s>QualifyingEncounter</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="829">
                                    <a:s>period</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="833" locator="418:2-421:99" xsi:type="Query">
            <source localId="813" locator="418:2-418:99" alias="QualifyingEncounter">
               <expression localId="812" locator="418:2-418:79" name="Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions" xsi:type="ExpressionRef"/>
            </source>
            <relationship localId="832" locator="419:3-421:99" alias="SelectedProcedure" xsi:type="With">
               <expression localId="823" locator="419:8-420:117" xsi:type="Query">
                  <source localId="815" locator="419:10-419:46" alias="Procedure">
                     <expression localId="814" locator="419:10-419:36" name="SCIP VTE Selected Surgery" xsi:type="ExpressionRef"/>
                  </source>
                  <where localId="822" locator="420:4-420:115" xsi:type="Equivalent">
                     <operand name="ToCode" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand asType="fhir:Coding" xsi:type="As">
                           <operand localId="820" locator="420:10-420:101" path="value" xsi:type="Property">
                              <source localId="819" locator="420:10-420:95" name="GetExtension" xsi:type="FunctionRef">
                                 <operand localId="817" locator="420:23-420:41" path="extension" scope="Procedure" xsi:type="Property"/>
                                 <operand localId="818" locator="420:44-420:94" valueType="t:String" value="http://example.org/StructureDefinition/ordinality" xsi:type="Literal"/>
                              </source>
                           </operand>
                        </operand>
                     </operand>
                     <operand localId="821" locator="420:105-420:115" name="Principal" xsi:type="CodeRef"/>
                  </where>
               </expression>
               <suchThat localId="831" locator="421:14-421:99" xsi:type="IncludedIn">
                  <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand asType="fhir:Period" xsi:type="As">
                        <operand localId="826" locator="421:14-421:40" path="performed" scope="SelectedProcedure" xsi:type="Property"/>
                     </operand>
                  </operand>
                  <operand localId="830" locator="421:49-421:99" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="829" locator="421:73-421:98" path="period" scope="QualifyingEncounter" xsi:type="Property"/>
                  </operand>
               </suchThat>
            </relationship>
         </expression>
      </def>
      <def localId="846" locator="424:1-430:72" name="Denominator Exclusions" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="846">
               <a:s>define &quot;Denominator Exclusions&quot;:&#xd;
	</a:s>
               <a:s r="845">
                  <a:s r="843">
                     <a:s r="841">
                        <a:s r="839">
                           <a:s r="837">
                              <a:s r="835">
                                 <a:s>&quot;Encounter Less Than 2 Days&quot;</a:s>
                              </a:s>
                              <a:s>&#xd;
		union </a:s>
                              <a:s r="836">
                                 <a:s>&quot;Encounter With ICU Location Stay 1 Day or More&quot;</a:s>
                              </a:s>
                           </a:s>
                           <a:s>&#xd;
		union </a:s>
                           <a:s r="838">
                              <a:s>&quot;Encounter With Principal Diagnosis of Mental Disorder or Stroke&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
		union </a:s>
                        <a:s r="840">
                           <a:s>&quot;Encounter With Principal Procedure of SCIP VTE Selected Surgery&quot;</a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
		union </a:s>
                     <a:s r="842">
                        <a:s>&quot;Intervention Comfort Measures on Day of or Day After Start of Hospitalization&quot;</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		union </a:s>
                  <a:s r="844">
                     <a:s>&quot;Intervention Comfort Measures on Day of or Day After Procedure&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="845" locator="425:2-430:72" xsi:type="Union">
            <operand xsi:type="As">
               <operand localId="841" locator="425:2-428:73" xsi:type="Union">
                  <operand localId="837" locator="425:2-426:56" xsi:type="Union">
                     <operand localId="835" locator="425:2-425:29" name="Encounter Less Than 2 Days" xsi:type="ExpressionRef"/>
                     <operand localId="836" locator="426:9-426:56" name="Encounter With ICU Location Stay 1 Day or More" xsi:type="ExpressionRef"/>
                  </operand>
                  <operand xsi:type="Union">
                     <operand localId="838" locator="427:9-427:73" name="Encounter With Principal Diagnosis of Mental Disorder or Stroke" xsi:type="ExpressionRef"/>
                     <operand localId="840" locator="428:9-428:73" name="Encounter With Principal Procedure of SCIP VTE Selected Surgery" xsi:type="ExpressionRef"/>
                  </operand>
               </operand>
               <asTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="ChoiceTypeSpecifier">
                     <choice name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                     <choice xsi:type="TupleTypeSpecifier">
                        <element name="QualifyingEncounter">
                           <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="AnesthesiaProcedure">
                           <type name="fhir:Procedure" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="ComfortMeasure">
                           <type xsi:type="ChoiceTypeSpecifier">
                              <choice name="fhir:Procedure" xsi:type="NamedTypeSpecifier"/>
                              <choice name="fhir:ProcedureRequest" xsi:type="NamedTypeSpecifier"/>
                           </type>
                        </element>
                     </choice>
                  </elementType>
               </asTypeSpecifier>
            </operand>
            <operand xsi:type="As">
               <operand xsi:type="Union">
                  <operand xsi:type="As">
                     <operand localId="842" locator="429:9-429:87" name="Intervention Comfort Measures on Day of or Day After Start of Hospitalization" xsi:type="ExpressionRef"/>
                     <asTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="ChoiceTypeSpecifier">
                           <choice name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                           <choice xsi:type="TupleTypeSpecifier">
                              <element name="QualifyingEncounter">
                                 <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="AnesthesiaProcedure">
                                 <type name="fhir:Procedure" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="ComfortMeasure">
                                 <type xsi:type="ChoiceTypeSpecifier">
                                    <choice name="fhir:Procedure" xsi:type="NamedTypeSpecifier"/>
                                    <choice name="fhir:ProcedureRequest" xsi:type="NamedTypeSpecifier"/>
                                 </type>
                              </element>
                           </choice>
                        </elementType>
                     </asTypeSpecifier>
                  </operand>
                  <operand xsi:type="As">
                     <operand localId="844" locator="430:9-430:72" name="Intervention Comfort Measures on Day of or Day After Procedure" xsi:type="ExpressionRef"/>
                     <asTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="ChoiceTypeSpecifier">
                           <choice name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                           <choice xsi:type="TupleTypeSpecifier">
                              <element name="QualifyingEncounter">
                                 <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="AnesthesiaProcedure">
                                 <type name="fhir:Procedure" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="ComfortMeasure">
                                 <type xsi:type="ChoiceTypeSpecifier">
                                    <choice name="fhir:Procedure" xsi:type="NamedTypeSpecifier"/>
                                    <choice name="fhir:ProcedureRequest" xsi:type="NamedTypeSpecifier"/>
                                 </type>
                              </element>
                           </choice>
                        </elementType>
                     </asTypeSpecifier>
                  </operand>
               </operand>
               <asTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="ChoiceTypeSpecifier">
                     <choice name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                     <choice xsi:type="TupleTypeSpecifier">
                        <element name="QualifyingEncounter">
                           <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="AnesthesiaProcedure">
                           <type name="fhir:Procedure" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="ComfortMeasure">
                           <type xsi:type="ChoiceTypeSpecifier">
                              <choice name="fhir:Procedure" xsi:type="NamedTypeSpecifier"/>
                              <choice name="fhir:ProcedureRequest" xsi:type="NamedTypeSpecifier"/>
                           </type>
                        </element>
                     </choice>
                  </elementType>
               </asTypeSpecifier>
            </operand>
         </expression>
      </def>
      <def localId="868" locator="441:1-446:112" name="Encounter With Prior or Present Procedure of Hip or Knee Replacement Surgery" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="868">
               <a:s>define &quot;Encounter With Prior or Present Procedure of Hip or Knee Replacement Surgery&quot;:&#xd;
	</a:s>
               <a:s r="867">
                  <a:s>
                     <a:s r="848">
                        <a:s r="847">
                           <a:s>
                              <a:s>&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> QualifyingEncounter</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="866">
                     <a:s>with </a:s>
                     <a:s r="852">
                        <a:s r="851">
                           <a:s>( </a:s>
                           <a:s r="851">
                              <a:s r="849">
                                 <a:s>[&quot;Procedure&quot;: </a:s>
                                 <a:s>
                                    <a:s>&quot;Hip Replacement Surgery&quot;</a:s>
                                 </a:s>
                                 <a:s>]</a:s>
                              </a:s>
                              <a:s>&#xd;
			union </a:s>
                              <a:s r="850">
                                 <a:s>[&quot;Procedure&quot;: </a:s>
                                 <a:s>
                                    <a:s>&quot;Knee Replacement Surgery&quot;</a:s>
                                 </a:s>
                                 <a:s>]</a:s>
                              </a:s>
                           </a:s>
                           <a:s> )</a:s>
                        </a:s>
                        <a:s> HipKneeProcedure</a:s>
                     </a:s>
                     <a:s>&#xd;
			such that </a:s>
                     <a:s r="865">
                        <a:s r="856">
                           <a:s r="854">
                              <a:s r="853">
                                 <a:s>HipKneeProcedure</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="854">
                                 <a:s>status</a:s>
                              </a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="855">
                              <a:s>'completed'</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
				and </a:s>
                        <a:s r="864">
                           <a:s r="858">
                              <a:s r="857">
                                 <a:s>HipKneeProcedure</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="858">
                                 <a:s>performed</a:s>
                              </a:s>
                           </a:s>
                           <a:s r="864"> starts on or before </a:s>
                           <a:s r="863">
                              <a:s>end of </a:s>
                              <a:s r="862">
                                 <a:s r="859">
                                    <a:s>FHIRHelpers</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="862">
                                    <a:s>ToInterval(</a:s>
                                    <a:s r="861">
                                       <a:s r="860">
                                          <a:s>QualifyingEncounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="861">
                                          <a:s>period</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="867" locator="442:2-446:112" xsi:type="Query">
            <source localId="848" locator="442:2-442:99" alias="QualifyingEncounter">
               <expression localId="847" locator="442:2-442:79" name="Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions" xsi:type="ExpressionRef"/>
            </source>
            <relationship localId="866" locator="443:3-446:112" alias="HipKneeProcedure" xsi:type="With">
               <expression localId="851" locator="443:8-444:52" xsi:type="Union">
                  <operand localId="849" locator="443:10-443:49" dataType="fhir:Procedure" codeProperty="code" xsi:type="Retrieve">
                     <codes locator="443:24-443:48" name="Hip Replacement Surgery" xsi:type="ValueSetRef"/>
                  </operand>
                  <operand localId="850" locator="444:10-444:50" dataType="fhir:Procedure" codeProperty="code" xsi:type="Retrieve">
                     <codes locator="444:24-444:49" name="Knee Replacement Surgery" xsi:type="ValueSetRef"/>
                  </operand>
               </expression>
               <suchThat localId="865" locator="445:14-446:112" xsi:type="And">
                  <operand localId="856" locator="445:14-445:50" xsi:type="Equal">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="854" locator="445:14-445:36" path="status" scope="HipKneeProcedure" xsi:type="Property"/>
                     </operand>
                     <operand localId="855" locator="445:40-445:50" valueType="t:String" value="completed" xsi:type="Literal"/>
                  </operand>
                  <operand localId="864" locator="446:9-446:112" xsi:type="SameOrBefore">
                     <operand locator="446:36-446:41" xsi:type="Start">
                        <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:Period" xsi:type="As">
                              <operand localId="858" locator="446:9-446:34" path="performed" scope="HipKneeProcedure" xsi:type="Property"/>
                           </operand>
                        </operand>
                     </operand>
                     <operand localId="863" locator="446:56-446:112" xsi:type="End">
                        <operand localId="862" locator="446:63-446:112" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="861" locator="446:86-446:111" path="period" scope="QualifyingEncounter" xsi:type="Property"/>
                        </operand>
                     </operand>
                  </operand>
               </suchThat>
            </relationship>
         </expression>
      </def>
      <def localId="880" locator="521:1-524:2" name="Is In Low Risk for VTE or On Anticoagulant" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="880">
               <a:s>define &quot;Is In Low Risk for VTE or On Anticoagulant&quot;:&#xd;
	</a:s>
               <a:s r="879">
                  <a:s>( </a:s>
                  <a:s r="879">
                     <a:s>
                        <a:s r="874">
                           <a:s r="873">
                              <a:s r="873">
                                 <a:s>[&quot;Observation&quot;: </a:s>
                                 <a:s>
                                    <a:s>&quot;Risk for venous thromboembolism&quot;</a:s>
                                 </a:s>
                                 <a:s>]</a:s>
                              </a:s>
                           </a:s>
                           <a:s> VTERiskAssessment</a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
			</a:s>
                     <a:s r="878">
                        <a:s>where </a:s>
                        <a:s r="878">
                           <a:s r="876">
                              <a:s r="875">
                                 <a:s>VTERiskAssessment</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="876">
                                 <a:s>value</a:s>
                              </a:s>
                           </a:s>
                           <a:s> in </a:s>
                           <a:s r="877">
                              <a:s>&quot;Low Risk&quot;</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
	)</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="879" locator="522:2-524:2" xsi:type="Query">
            <source localId="874" locator="522:4-522:71" alias="VTERiskAssessment">
               <expression localId="873" locator="522:4-522:53" dataType="fhir:Observation" codeProperty="code" xsi:type="Retrieve">
                  <codes xsi:type="ToList">
                     <operand locator="522:20-522:52" name="Risk for venous thromboembolism" xsi:type="CodeRef"/>
                  </codes>
               </expression>
            </source>
            <where localId="878" locator="523:4-523:46" xsi:type="InValueSet">
               <code name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                  <operand asType="fhir:string" xsi:type="As">
                     <operand localId="876" locator="523:10-523:32" path="value" scope="VTERiskAssessment" xsi:type="Property"/>
                  </operand>
               </code>
               <valueset localId="877" locator="523:37-523:46" name="Low Risk"/>
            </where>
         </expression>
      </def>
      <def localId="905" locator="541:1-548:28" name="Low Risk for VTE or Anticoagulant Administered During ED Visit" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="905">
               <a:s>define &quot;Low Risk for VTE or Anticoagulant Administered During ED Visit&quot;:&#xd;
	</a:s>
               <a:s r="904">
                  <a:s>
                     <a:s>from&#xd;
		</a:s>
                     <a:s r="870">
                        <a:s r="869">
                           <a:s>
                              <a:s>&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> QualifyingEncounter</a:s>
                     </a:s>
                     <a:s>,&#xd;
		</a:s>
                     <a:s r="872">
                        <a:s r="871">
                           <a:s>
                              <a:s>&quot;ED Visit&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> EDVisit</a:s>
                     </a:s>
                     <a:s>,&#xd;
		</a:s>
                     <a:s r="882">
                        <a:s r="881">
                           <a:s>
                              <a:s>&quot;Is In Low Risk for VTE or On Anticoagulant&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> VTERiskAssessment</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="901">
                     <a:s>where </a:s>
                     <a:s r="901">
                        <a:s r="893">
                           <a:s r="886">
                              <a:s r="883">
                                 <a:s>FHIRHelpers</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="886">
                                 <a:s>ToInterval(</a:s>
                                 <a:s r="885">
                                    <a:s r="884">
                                       <a:s>EDVisit</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="885">
                                       <a:s>period</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                           </a:s>
                           <a:s> </a:s>
                           <a:s r="893">
                              <a:s>ends </a:s>
                              <a:s r="892">
                                 <a:s>1 hour</a:s>
                              </a:s>
                              <a:s> or less on or before</a:s>
                           </a:s>
                           <a:s> </a:s>
                           <a:s r="891">
                              <a:s>start of </a:s>
                              <a:s r="890">
                                 <a:s r="887">
                                    <a:s>FHIRHelpers</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="890">
                                    <a:s>ToInterval(</a:s>
                                    <a:s r="889">
                                       <a:s r="888">
                                          <a:s>QualifyingEncounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="889">
                                          <a:s>period</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
			and </a:s>
                        <a:s r="900">
                           <a:s r="895">
                              <a:s r="894">
                                 <a:s>VTERiskAssessment</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="895">
                                 <a:s>issued</a:s>
                              </a:s>
                           </a:s>
                           <a:s r="900"> during </a:s>
                           <a:s r="899">
                              <a:s r="896">
                                 <a:s>FHIRHelpers</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="899">
                                 <a:s>ToInterval(</a:s>
                                 <a:s r="898">
                                    <a:s r="897">
                                       <a:s>EDVisit</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="898">
                                       <a:s>period</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="903">
                     <a:s>return </a:s>
                     <a:s r="902">
                        <a:s>QualifyingEncounter</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="904" locator="542:2-548:28" xsi:type="Query">
            <source localId="870" locator="543:3-543:100" alias="QualifyingEncounter">
               <expression localId="869" locator="543:3-543:80" name="Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions" xsi:type="ExpressionRef"/>
            </source>
            <source localId="872" locator="544:3-544:20" alias="EDVisit">
               <expression localId="871" locator="544:3-544:12" name="ED Visit" xsi:type="ExpressionRef"/>
            </source>
            <source localId="882" locator="545:3-545:64" alias="VTERiskAssessment">
               <expression localId="881" locator="545:3-545:46" name="Is In Low Risk for VTE or On Anticoagulant" xsi:type="ExpressionRef"/>
            </source>
            <where localId="901" locator="546:3-547:77" xsi:type="And">
               <operand localId="893" locator="546:9-546:139" xsi:type="In">
                  <operand locator="546:48-546:51" xsi:type="End">
                     <operand localId="886" locator="546:9-546:46" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="885" locator="546:32-546:45" path="period" scope="EDVisit" xsi:type="Property"/>
                     </operand>
                  </operand>
                  <operand locator="546:53-546:66" lowClosed="true" highClosed="true" xsi:type="Interval">
                     <low locator="546:81-546:139" xsi:type="Subtract">
                        <operand localId="891" locator="546:81-546:139" xsi:type="Start">
                           <operand localId="890" locator="546:90-546:139" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="889" locator="546:113-546:138" path="period" scope="QualifyingEncounter" xsi:type="Property"/>
                           </operand>
                        </operand>
                        <operand localId="892" locator="546:53-546:58" value="1" unit="hour" xsi:type="Quantity"/>
                     </low>
                     <high localId="891" locator="546:81-546:139" xsi:type="Start">
                        <operand localId="890" locator="546:90-546:139" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="889" locator="546:113-546:138" path="period" scope="QualifyingEncounter" xsi:type="Property"/>
                        </operand>
                     </high>
                  </operand>
               </operand>
               <operand localId="900" locator="547:8-547:77" xsi:type="In">
                  <operand name="ToDateTime" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="895" locator="547:8-547:31" path="issued" scope="VTERiskAssessment" xsi:type="Property"/>
                  </operand>
                  <operand localId="899" locator="547:40-547:77" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="898" locator="547:63-547:76" path="period" scope="EDVisit" xsi:type="Property"/>
                  </operand>
               </operand>
            </where>
            <return localId="903" locator="548:3-548:28">
               <expression localId="902" locator="548:10-548:28" name="QualifyingEncounter" xsi:type="AliasRef"/>
            </return>
         </expression>
      </def>
      <def localId="923" locator="551:1-554:138" name="Low Risk for VTE or Anticoagulant Administered on Day of or Day After Admission" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="923">
               <a:s>define &quot;Low Risk for VTE or Anticoagulant Administered on Day of or Day After Admission&quot;:&#xd;
	</a:s>
               <a:s r="922">
                  <a:s>
                     <a:s r="908">
                        <a:s r="907">
                           <a:s>
                              <a:s>&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> QualifyingEncounter</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="921">
                     <a:s>with </a:s>
                     <a:s r="910">
                        <a:s r="909">
                           <a:s>
                              <a:s>&quot;Is In Low Risk for VTE or On Anticoagulant&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> VTERiskAssessment</a:s>
                     </a:s>
                     <a:s>&#xd;
			such that </a:s>
                     <a:s r="920">
                        <a:s r="912">
                           <a:s r="911">
                              <a:s>VTERiskAssessment</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="912">
                              <a:s>issued</a:s>
                           </a:s>
                        </a:s>
                        <a:s r="920"> during </a:s>
                        <a:s r="919">
                           <a:s r="913">
                              <a:s>VTEICU</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="919">
                              <a:s>&quot;CalendarDayOfOrDayAfter&quot;(</a:s>
                              <a:s r="918">
                                 <a:s>start of </a:s>
                                 <a:s r="917">
                                    <a:s r="914">
                                       <a:s>FHIRHelpers</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="917">
                                       <a:s>ToInterval(</a:s>
                                       <a:s r="916">
                                          <a:s r="915">
                                             <a:s>QualifyingEncounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="916">
                                             <a:s>period</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="922" locator="552:2-554:138" xsi:type="Query">
            <source localId="908" locator="552:2-552:99" alias="QualifyingEncounter">
               <expression localId="907" locator="552:2-552:79" name="Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions" xsi:type="ExpressionRef"/>
            </source>
            <relationship localId="921" locator="553:3-554:138" alias="VTERiskAssessment" xsi:type="With">
               <expression localId="909" locator="553:8-553:51" name="Is In Low Risk for VTE or On Anticoagulant" xsi:type="ExpressionRef"/>
               <suchThat localId="920" locator="554:14-554:138" xsi:type="In">
                  <operand name="ToDateTime" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="912" locator="554:14-554:37" path="issued" scope="VTERiskAssessment" xsi:type="Property"/>
                  </operand>
                  <operand localId="919" locator="554:46-554:138" name="CalendarDayOfOrDayAfter" libraryName="VTEICU" xsi:type="FunctionRef">
                     <operand localId="918" locator="554:79-554:137" xsi:type="Start">
                        <operand localId="917" locator="554:88-554:137" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="916" locator="554:111-554:136" path="period" scope="QualifyingEncounter" xsi:type="Property"/>
                        </operand>
                     </operand>
                  </operand>
               </suchThat>
            </relationship>
         </expression>
      </def>
      <def localId="955" locator="557:1-564:28" name="Low Risk for VTE or Anticoagulant Administered on Day of or Day After Procedure" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="955">
               <a:s>define &quot;Low Risk for VTE or Anticoagulant Administered on Day of or Day After Procedure&quot;:&#xd;
	</a:s>
               <a:s r="954">
                  <a:s>
                     <a:s>from&#xd;
		</a:s>
                     <a:s r="927">
                        <a:s r="926">
                           <a:s>
                              <a:s>&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> QualifyingEncounter</a:s>
                     </a:s>
                     <a:s>,&#xd;
		</a:s>
                     <a:s r="929">
                        <a:s r="928">
                           <a:s r="928">
                              <a:s>[&quot;Procedure&quot;: </a:s>
                              <a:s>
                                 <a:s>&quot;General or Neuraxial Anesthesia&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> AnesthesiaProcedure</a:s>
                     </a:s>
                     <a:s>,&#xd;
		</a:s>
                     <a:s r="931">
                        <a:s r="930">
                           <a:s>
                              <a:s>&quot;Is In Low Risk for VTE or On Anticoagulant&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> VTERiskAssessment</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="951">
                     <a:s>where </a:s>
                     <a:s r="951">
                        <a:s r="940">
                           <a:s r="933">
                              <a:s r="932">
                                 <a:s>AnesthesiaProcedure</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="933">
                                 <a:s>performed</a:s>
                              </a:s>
                           </a:s>
                           <a:s> </a:s>
                           <a:s r="940">
                              <a:s>ends </a:s>
                              <a:s r="939">
                                 <a:s>1 day</a:s>
                              </a:s>
                              <a:s> after day of</a:s>
                           </a:s>
                           <a:s> </a:s>
                           <a:s r="938">
                              <a:s>start of </a:s>
                              <a:s r="937">
                                 <a:s r="934">
                                    <a:s>FHIRHelpers</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="937">
                                    <a:s>ToInterval(</a:s>
                                    <a:s r="936">
                                       <a:s r="935">
                                          <a:s>QualifyingEncounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="936">
                                          <a:s>period</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
			and </a:s>
                        <a:s r="950">
                           <a:s r="942">
                              <a:s r="941">
                                 <a:s>VTERiskAssessment</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="942">
                                 <a:s>issued</a:s>
                              </a:s>
                           </a:s>
                           <a:s r="950"> during </a:s>
                           <a:s r="949">
                              <a:s r="943">
                                 <a:s>VTEICU</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="949">
                                 <a:s>&quot;CalendarDayOfOrDayAfter&quot;(</a:s>
                                 <a:s r="948">
                                    <a:s>end of </a:s>
                                    <a:s r="947">
                                       <a:s r="944">
                                          <a:s>FHIRHelpers</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="947">
                                          <a:s>ToInterval(</a:s>
                                          <a:s r="946">
                                             <a:s r="945">
                                                <a:s>AnesthesiaProcedure</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="946">
                                                <a:s>performed</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="953">
                     <a:s>return </a:s>
                     <a:s r="952">
                        <a:s>QualifyingEncounter</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="954" locator="558:2-564:28" xsi:type="Query">
            <source localId="927" locator="559:3-559:100" alias="QualifyingEncounter">
               <expression localId="926" locator="559:3-559:80" name="Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions" xsi:type="ExpressionRef"/>
            </source>
            <source localId="929" locator="560:3-560:70" alias="AnesthesiaProcedure">
               <expression localId="928" locator="560:3-560:50" dataType="fhir:Procedure" codeProperty="code" xsi:type="Retrieve">
                  <codes locator="560:17-560:49" name="General or Neuraxial Anesthesia" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <source localId="931" locator="561:3-561:64" alias="VTERiskAssessment">
               <expression localId="930" locator="561:3-561:46" name="Is In Low Risk for VTE or On Anticoagulant" xsi:type="ExpressionRef"/>
            </source>
            <where localId="951" locator="562:3-563:133" xsi:type="And">
               <operand localId="940" locator="562:9-562:121" precision="Day" xsi:type="SameAs">
                  <operand locator="562:39-562:42" xsi:type="End">
                     <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand asType="fhir:Period" xsi:type="As">
                           <operand localId="933" locator="562:9-562:37" path="performed" scope="AnesthesiaProcedure" xsi:type="Property"/>
                        </operand>
                     </operand>
                  </operand>
                  <operand locator="562:63-562:121" xsi:type="Add">
                     <operand localId="938" locator="562:63-562:121" xsi:type="Start">
                        <operand localId="937" locator="562:72-562:121" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="936" locator="562:95-562:120" path="period" scope="QualifyingEncounter" xsi:type="Property"/>
                        </operand>
                     </operand>
                     <operand localId="939" locator="562:44-562:48" value="1" unit="day" xsi:type="Quantity"/>
                  </operand>
               </operand>
               <operand localId="950" locator="563:8-563:133" xsi:type="In">
                  <operand name="ToDateTime" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="942" locator="563:8-563:31" path="issued" scope="VTERiskAssessment" xsi:type="Property"/>
                  </operand>
                  <operand localId="949" locator="563:40-563:133" name="CalendarDayOfOrDayAfter" libraryName="VTEICU" xsi:type="FunctionRef">
                     <operand localId="948" locator="563:73-563:132" xsi:type="End">
                        <operand localId="947" locator="563:80-563:132" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:Period" xsi:type="As">
                              <operand localId="946" locator="563:103-563:131" path="performed" scope="AnesthesiaProcedure" xsi:type="Property"/>
                           </operand>
                        </operand>
                     </operand>
                  </operand>
               </operand>
            </where>
            <return localId="953" locator="564:3-564:28">
               <expression localId="952" locator="564:10-564:28" name="QualifyingEncounter" xsi:type="AliasRef"/>
            </return>
         </expression>
      </def>
      <def localId="958" locator="449:1-452:89" name="Low Risk for VTE or Anticoagulant Administered" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="958">
               <a:s>define &quot;Low Risk for VTE or Anticoagulant Administered&quot;:&#xd;
	</a:s>
               <a:s r="957">
                  <a:s r="925">
                     <a:s r="906">
                        <a:s>&quot;Low Risk for VTE or Anticoagulant Administered During ED Visit&quot;</a:s>
                     </a:s>
                     <a:s>&#xd;
		union </a:s>
                     <a:s r="924">
                        <a:s>&quot;Low Risk for VTE or Anticoagulant Administered on Day of or Day After Admission&quot;</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		union </a:s>
                  <a:s r="956">
                     <a:s>&quot;Low Risk for VTE or Anticoagulant Administered on Day of or Day After Procedure&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="957" locator="450:2-452:89" xsi:type="Union">
            <operand localId="925" locator="450:2-451:89" xsi:type="Union">
               <operand localId="906" locator="450:2-450:65" name="Low Risk for VTE or Anticoagulant Administered During ED Visit" xsi:type="ExpressionRef"/>
               <operand localId="924" locator="451:9-451:89" name="Low Risk for VTE or Anticoagulant Administered on Day of or Day After Admission" xsi:type="ExpressionRef"/>
            </operand>
            <operand localId="956" locator="452:9-452:89" name="Low Risk for VTE or Anticoagulant Administered on Day of or Day After Procedure" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="970" locator="455:1-464:3" name="No VTE Prophylaxis Due to Medical Reason" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="970">
               <a:s>define &quot;No VTE Prophylaxis Due to Medical Reason&quot;:&#xd;
	</a:s>
               <a:s r="969">
                  <a:s r="965">
                     <a:s r="961">
                        <a:s>( </a:s>
                        <a:s r="961">
                           <a:s r="959">
                              <a:s>&quot;No VTE Prophylaxis Medication Due to Medical Reason During ED Visit&quot;</a:s>
                           </a:s>
                           <a:s>&#xd;
			intersect </a:s>
                           <a:s r="960">
                              <a:s>&quot;No VTE Prophylaxis Device Due to Medical Reason During ED Visit&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
	)</a:s>
                     </a:s>
                     <a:s>&#xd;
		union </a:s>
                     <a:s r="964">
                        <a:s>( </a:s>
                        <a:s r="964">
                           <a:s r="962">
                              <a:s>&quot;No VTE Prophylaxis Medication Due to Medical Reason on Day of or Day After Admission&quot;</a:s>
                           </a:s>
                           <a:s>&#xd;
				intersect </a:s>
                           <a:s r="963">
                              <a:s>&quot;No VTE Prophylaxis Device Due to Medical Reason on Day of or Day After Admission&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
		)</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		union </a:s>
                  <a:s r="968">
                     <a:s>( </a:s>
                     <a:s r="968">
                        <a:s r="966">
                           <a:s>&quot;No VTE Prophylaxis Medication Due to Medical Reason on Day of or Day After Procedure&quot;</a:s>
                        </a:s>
                        <a:s>&#xd;
				intersect </a:s>
                        <a:s r="967">
                           <a:s>&quot;No VTE Prophylaxis Device Due to Medical Reason on Day of or Day After Procedure&quot;</a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
		)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="969" locator="456:2-464:3" xsi:type="Union">
            <operand xsi:type="As">
               <operand localId="965" locator="456:2-461:3" xsi:type="Union">
                  <operand xsi:type="As">
                     <operand localId="961" locator="456:2-458:2" xsi:type="Intersect">
                        <operand xsi:type="As">
                           <operand localId="959" locator="456:4-456:72" name="No VTE Prophylaxis Medication Due to Medical Reason During ED Visit" xsi:type="ExpressionRef"/>
                           <asTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="ChoiceTypeSpecifier">
                                 <choice xsi:type="TupleTypeSpecifier">
                                    <element name="QualifyingEncounter">
                                       <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                                    </element>
                                    <element name="EDVisit">
                                       <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                                    </element>
                                    <element name="NoVTEDevice">
                                       <type xsi:type="ChoiceTypeSpecifier">
                                          <choice name="fhir:DeviceRequest" xsi:type="NamedTypeSpecifier"/>
                                          <choice name="fhir:DeviceUseStatement" xsi:type="NamedTypeSpecifier"/>
                                       </type>
                                    </element>
                                 </choice>
                                 <choice name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                              </elementType>
                           </asTypeSpecifier>
                        </operand>
                        <operand xsi:type="As">
                           <operand localId="960" locator="457:14-457:78" name="No VTE Prophylaxis Device Due to Medical Reason During ED Visit" xsi:type="ExpressionRef"/>
                           <asTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="ChoiceTypeSpecifier">
                                 <choice xsi:type="TupleTypeSpecifier">
                                    <element name="QualifyingEncounter">
                                       <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                                    </element>
                                    <element name="EDVisit">
                                       <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                                    </element>
                                    <element name="NoVTEDevice">
                                       <type xsi:type="ChoiceTypeSpecifier">
                                          <choice name="fhir:DeviceRequest" xsi:type="NamedTypeSpecifier"/>
                                          <choice name="fhir:DeviceUseStatement" xsi:type="NamedTypeSpecifier"/>
                                       </type>
                                    </element>
                                 </choice>
                                 <choice name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                              </elementType>
                           </asTypeSpecifier>
                        </operand>
                     </operand>
                     <asTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="ChoiceTypeSpecifier">
                           <choice xsi:type="TupleTypeSpecifier">
                              <element name="QualifyingEncounter">
                                 <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="EDVisit">
                                 <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="NoVTEDevice">
                                 <type xsi:type="ChoiceTypeSpecifier">
                                    <choice name="fhir:DeviceRequest" xsi:type="NamedTypeSpecifier"/>
                                    <choice name="fhir:DeviceUseStatement" xsi:type="NamedTypeSpecifier"/>
                                 </type>
                              </element>
                           </choice>
                           <choice name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                           <choice xsi:type="TupleTypeSpecifier">
                              <element name="QualifyingEncounter">
                                 <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="NoVTEDevice">
                                 <type xsi:type="ChoiceTypeSpecifier">
                                    <choice name="fhir:DeviceRequest" xsi:type="NamedTypeSpecifier"/>
                                    <choice name="fhir:DeviceUseStatement" xsi:type="NamedTypeSpecifier"/>
                                 </type>
                              </element>
                           </choice>
                        </elementType>
                     </asTypeSpecifier>
                  </operand>
                  <operand xsi:type="As">
                     <operand localId="964" locator="459:9-461:3" xsi:type="Intersect">
                        <operand xsi:type="As">
                           <operand localId="962" locator="459:11-459:96" name="No VTE Prophylaxis Medication Due to Medical Reason on Day of or Day After Admission" xsi:type="ExpressionRef"/>
                           <asTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="ChoiceTypeSpecifier">
                                 <choice name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                                 <choice xsi:type="TupleTypeSpecifier">
                                    <element name="QualifyingEncounter">
                                       <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                                    </element>
                                    <element name="NoVTEDevice">
                                       <type xsi:type="ChoiceTypeSpecifier">
                                          <choice name="fhir:DeviceRequest" xsi:type="NamedTypeSpecifier"/>
                                          <choice name="fhir:DeviceUseStatement" xsi:type="NamedTypeSpecifier"/>
                                       </type>
                                    </element>
                                 </choice>
                              </elementType>
                           </asTypeSpecifier>
                        </operand>
                        <operand xsi:type="As">
                           <operand localId="963" locator="460:15-460:96" name="No VTE Prophylaxis Device Due to Medical Reason on Day of or Day After Admission" xsi:type="ExpressionRef"/>
                           <asTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="ChoiceTypeSpecifier">
                                 <choice name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                                 <choice xsi:type="TupleTypeSpecifier">
                                    <element name="QualifyingEncounter">
                                       <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                                    </element>
                                    <element name="NoVTEDevice">
                                       <type xsi:type="ChoiceTypeSpecifier">
                                          <choice name="fhir:DeviceRequest" xsi:type="NamedTypeSpecifier"/>
                                          <choice name="fhir:DeviceUseStatement" xsi:type="NamedTypeSpecifier"/>
                                       </type>
                                    </element>
                                 </choice>
                              </elementType>
                           </asTypeSpecifier>
                        </operand>
                     </operand>
                     <asTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="ChoiceTypeSpecifier">
                           <choice xsi:type="TupleTypeSpecifier">
                              <element name="QualifyingEncounter">
                                 <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="EDVisit">
                                 <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="NoVTEDevice">
                                 <type xsi:type="ChoiceTypeSpecifier">
                                    <choice name="fhir:DeviceRequest" xsi:type="NamedTypeSpecifier"/>
                                    <choice name="fhir:DeviceUseStatement" xsi:type="NamedTypeSpecifier"/>
                                 </type>
                              </element>
                           </choice>
                           <choice name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                           <choice xsi:type="TupleTypeSpecifier">
                              <element name="QualifyingEncounter">
                                 <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="NoVTEDevice">
                                 <type xsi:type="ChoiceTypeSpecifier">
                                    <choice name="fhir:DeviceRequest" xsi:type="NamedTypeSpecifier"/>
                                    <choice name="fhir:DeviceUseStatement" xsi:type="NamedTypeSpecifier"/>
                                 </type>
                              </element>
                           </choice>
                        </elementType>
                     </asTypeSpecifier>
                  </operand>
               </operand>
               <asTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="ChoiceTypeSpecifier">
                     <choice xsi:type="TupleTypeSpecifier">
                        <element name="QualifyingEncounter">
                           <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="EDVisit">
                           <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="NoVTEDevice">
                           <type xsi:type="ChoiceTypeSpecifier">
                              <choice name="fhir:DeviceRequest" xsi:type="NamedTypeSpecifier"/>
                              <choice name="fhir:DeviceUseStatement" xsi:type="NamedTypeSpecifier"/>
                           </type>
                        </element>
                     </choice>
                     <choice name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                     <choice xsi:type="TupleTypeSpecifier">
                        <element name="QualifyingEncounter">
                           <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="NoVTEDevice">
                           <type xsi:type="ChoiceTypeSpecifier">
                              <choice name="fhir:DeviceRequest" xsi:type="NamedTypeSpecifier"/>
                              <choice name="fhir:DeviceUseStatement" xsi:type="NamedTypeSpecifier"/>
                           </type>
                        </element>
                     </choice>
                  </elementType>
               </asTypeSpecifier>
            </operand>
            <operand xsi:type="As">
               <operand localId="968" locator="462:9-464:3" xsi:type="Intersect">
                  <operand localId="966" locator="462:11-462:96" name="No VTE Prophylaxis Medication Due to Medical Reason on Day of or Day After Procedure" xsi:type="ExpressionRef"/>
                  <operand localId="967" locator="463:15-463:96" name="No VTE Prophylaxis Device Due to Medical Reason on Day of or Day After Procedure" xsi:type="ExpressionRef"/>
               </operand>
               <asTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="ChoiceTypeSpecifier">
                     <choice xsi:type="TupleTypeSpecifier">
                        <element name="QualifyingEncounter">
                           <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="EDVisit">
                           <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="NoVTEDevice">
                           <type xsi:type="ChoiceTypeSpecifier">
                              <choice name="fhir:DeviceRequest" xsi:type="NamedTypeSpecifier"/>
                              <choice name="fhir:DeviceUseStatement" xsi:type="NamedTypeSpecifier"/>
                           </type>
                        </element>
                     </choice>
                     <choice name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                     <choice xsi:type="TupleTypeSpecifier">
                        <element name="QualifyingEncounter">
                           <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="NoVTEDevice">
                           <type xsi:type="ChoiceTypeSpecifier">
                              <choice name="fhir:DeviceRequest" xsi:type="NamedTypeSpecifier"/>
                              <choice name="fhir:DeviceUseStatement" xsi:type="NamedTypeSpecifier"/>
                           </type>
                        </element>
                     </choice>
                  </elementType>
               </asTypeSpecifier>
            </operand>
         </expression>
      </def>
      <def localId="987" locator="497:1-500:131" name="No VTE Prophylaxis Medication or Device Due to Patient Refusal" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="987">
               <a:s>define &quot;No VTE Prophylaxis Medication or Device Due to Patient Refusal&quot;:&#xd;
	</a:s>
               <a:s r="986">
                  <a:s>
                     <a:s r="978">
                        <a:s r="977">
                           <a:s>( </a:s>
                           <a:s r="977">
                              <a:s r="975">
                                 <a:s>&quot;No VTE Prophylaxis Medication Administered or Ordered&quot;</a:s>
                              </a:s>
                              <a:s>&#xd;
		union </a:s>
                              <a:s r="976">
                                 <a:s>&quot;No VTE Prophylaxis Device Applied or Ordered&quot;</a:s>
                              </a:s>
                           </a:s>
                           <a:s> )</a:s>
                        </a:s>
                        <a:s> NoVTEProphylaxis</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="985">
                     <a:s>where </a:s>
                     <a:s r="985">
                        <a:s r="983">
                           <a:s r="982">
                              <a:s>GetExtension(</a:s>
                              <a:s r="980">
                                 <a:s r="979">
                                    <a:s>NoVTEProphylaxis</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="980">
                                    <a:s>extension</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="981">
                                 <a:s>'http://example.org/StructureDefinition/notDoneReason'</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="983">
                              <a:s>value</a:s>
                           </a:s>
                        </a:s>
                        <a:s> in </a:s>
                        <a:s r="984">
                           <a:s>&quot;Patient Refusal&quot;</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="986" locator="498:2-500:131" xsi:type="Query">
            <source localId="978" locator="498:2-499:73" alias="NoVTEProphylaxis">
               <expression localId="977" locator="498:2-499:56" xsi:type="Union">
                  <operand xsi:type="As">
                     <operand localId="975" locator="498:4-498:58" name="No VTE Prophylaxis Medication Administered or Ordered" xsi:type="ExpressionRef"/>
                     <asTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="ChoiceTypeSpecifier">
                           <choice name="fhir:DeviceRequest" xsi:type="NamedTypeSpecifier"/>
                           <choice name="fhir:MedicationRequest" xsi:type="NamedTypeSpecifier"/>
                           <choice name="fhir:DeviceUseStatement" xsi:type="NamedTypeSpecifier"/>
                           <choice name="fhir:MedicationAdministration" xsi:type="NamedTypeSpecifier"/>
                        </elementType>
                     </asTypeSpecifier>
                  </operand>
                  <operand xsi:type="As">
                     <operand localId="976" locator="499:9-499:54" name="No VTE Prophylaxis Device Applied or Ordered" xsi:type="ExpressionRef"/>
                     <asTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="ChoiceTypeSpecifier">
                           <choice name="fhir:DeviceRequest" xsi:type="NamedTypeSpecifier"/>
                           <choice name="fhir:MedicationRequest" xsi:type="NamedTypeSpecifier"/>
                           <choice name="fhir:DeviceUseStatement" xsi:type="NamedTypeSpecifier"/>
                           <choice name="fhir:MedicationAdministration" xsi:type="NamedTypeSpecifier"/>
                        </elementType>
                     </asTypeSpecifier>
                  </operand>
               </expression>
            </source>
            <where localId="985" locator="500:3-500:131" xsi:type="InValueSet">
               <code xsi:type="Case">
                  <caseItem>
                     <when isType="fhir:base64Binary" xsi:type="Is">
                        <operand localId="983" locator="500:9-500:110" path="value" xsi:type="Property">
                           <source localId="982" locator="500:9-500:104" name="GetExtension" xsi:type="FunctionRef">
                              <operand localId="980" locator="500:22-500:47" path="extension" scope="NoVTEProphylaxis" xsi:type="Property"/>
                              <operand localId="981" locator="500:50-500:103" valueType="t:String" value="http://example.org/StructureDefinition/notDoneReason" xsi:type="Literal"/>
                           </source>
                        </operand>
                     </when>
                     <then name="Tobase64Binary" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand asType="fhir:base64Binary" xsi:type="As">
                           <operand localId="983" locator="500:9-500:110" path="value" xsi:type="Property">
                              <source localId="982" locator="500:9-500:104" name="GetExtension" xsi:type="FunctionRef">
                                 <operand localId="980" locator="500:22-500:47" path="extension" scope="NoVTEProphylaxis" xsi:type="Property"/>
                                 <operand localId="981" locator="500:50-500:103" valueType="t:String" value="http://example.org/StructureDefinition/notDoneReason" xsi:type="Literal"/>
                              </source>
                           </operand>
                        </operand>
                     </then>
                  </caseItem>
                  <caseItem>
                     <when isType="fhir:code" xsi:type="Is">
                        <operand localId="983" locator="500:9-500:110" path="value" xsi:type="Property">
                           <source localId="982" locator="500:9-500:104" name="GetExtension" xsi:type="FunctionRef">
                              <operand localId="980" locator="500:22-500:47" path="extension" scope="NoVTEProphylaxis" xsi:type="Property"/>
                              <operand localId="981" locator="500:50-500:103" valueType="t:String" value="http://example.org/StructureDefinition/notDoneReason" xsi:type="Literal"/>
                           </source>
                        </operand>
                     </when>
                     <then name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand asType="fhir:code" xsi:type="As">
                           <operand localId="983" locator="500:9-500:110" path="value" xsi:type="Property">
                              <source localId="982" locator="500:9-500:104" name="GetExtension" xsi:type="FunctionRef">
                                 <operand localId="980" locator="500:22-500:47" path="extension" scope="NoVTEProphylaxis" xsi:type="Property"/>
                                 <operand localId="981" locator="500:50-500:103" valueType="t:String" value="http://example.org/StructureDefinition/notDoneReason" xsi:type="Literal"/>
                              </source>
                           </operand>
                        </operand>
                     </then>
                  </caseItem>
                  <caseItem>
                     <when isType="fhir:id" xsi:type="Is">
                        <operand localId="983" locator="500:9-500:110" path="value" xsi:type="Property">
                           <source localId="982" locator="500:9-500:104" name="GetExtension" xsi:type="FunctionRef">
                              <operand localId="980" locator="500:22-500:47" path="extension" scope="NoVTEProphylaxis" xsi:type="Property"/>
                              <operand localId="981" locator="500:50-500:103" valueType="t:String" value="http://example.org/StructureDefinition/notDoneReason" xsi:type="Literal"/>
                           </source>
                        </operand>
                     </when>
                     <then name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand asType="fhir:id" xsi:type="As">
                           <operand localId="983" locator="500:9-500:110" path="value" xsi:type="Property">
                              <source localId="982" locator="500:9-500:104" name="GetExtension" xsi:type="FunctionRef">
                                 <operand localId="980" locator="500:22-500:47" path="extension" scope="NoVTEProphylaxis" xsi:type="Property"/>
                                 <operand localId="981" locator="500:50-500:103" valueType="t:String" value="http://example.org/StructureDefinition/notDoneReason" xsi:type="Literal"/>
                              </source>
                           </operand>
                        </operand>
                     </then>
                  </caseItem>
                  <caseItem>
                     <when isType="fhir:markdown" xsi:type="Is">
                        <operand localId="983" locator="500:9-500:110" path="value" xsi:type="Property">
                           <source localId="982" locator="500:9-500:104" name="GetExtension" xsi:type="FunctionRef">
                              <operand localId="980" locator="500:22-500:47" path="extension" scope="NoVTEProphylaxis" xsi:type="Property"/>
                              <operand localId="981" locator="500:50-500:103" valueType="t:String" value="http://example.org/StructureDefinition/notDoneReason" xsi:type="Literal"/>
                           </source>
                        </operand>
                     </when>
                     <then name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand asType="fhir:markdown" xsi:type="As">
                           <operand localId="983" locator="500:9-500:110" path="value" xsi:type="Property">
                              <source localId="982" locator="500:9-500:104" name="GetExtension" xsi:type="FunctionRef">
                                 <operand localId="980" locator="500:22-500:47" path="extension" scope="NoVTEProphylaxis" xsi:type="Property"/>
                                 <operand localId="981" locator="500:50-500:103" valueType="t:String" value="http://example.org/StructureDefinition/notDoneReason" xsi:type="Literal"/>
                              </source>
                           </operand>
                        </operand>
                     </then>
                  </caseItem>
                  <caseItem>
                     <when isType="fhir:oid" xsi:type="Is">
                        <operand localId="983" locator="500:9-500:110" path="value" xsi:type="Property">
                           <source localId="982" locator="500:9-500:104" name="GetExtension" xsi:type="FunctionRef">
                              <operand localId="980" locator="500:22-500:47" path="extension" scope="NoVTEProphylaxis" xsi:type="Property"/>
                              <operand localId="981" locator="500:50-500:103" valueType="t:String" value="http://example.org/StructureDefinition/notDoneReason" xsi:type="Literal"/>
                           </source>
                        </operand>
                     </when>
                     <then name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand asType="fhir:oid" xsi:type="As">
                           <operand localId="983" locator="500:9-500:110" path="value" xsi:type="Property">
                              <source localId="982" locator="500:9-500:104" name="GetExtension" xsi:type="FunctionRef">
                                 <operand localId="980" locator="500:22-500:47" path="extension" scope="NoVTEProphylaxis" xsi:type="Property"/>
                                 <operand localId="981" locator="500:50-500:103" valueType="t:String" value="http://example.org/StructureDefinition/notDoneReason" xsi:type="Literal"/>
                              </source>
                           </operand>
                        </operand>
                     </then>
                  </caseItem>
                  <caseItem>
                     <when isType="fhir:string" xsi:type="Is">
                        <operand localId="983" locator="500:9-500:110" path="value" xsi:type="Property">
                           <source localId="982" locator="500:9-500:104" name="GetExtension" xsi:type="FunctionRef">
                              <operand localId="980" locator="500:22-500:47" path="extension" scope="NoVTEProphylaxis" xsi:type="Property"/>
                              <operand localId="981" locator="500:50-500:103" valueType="t:String" value="http://example.org/StructureDefinition/notDoneReason" xsi:type="Literal"/>
                           </source>
                        </operand>
                     </when>
                     <then name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand asType="fhir:string" xsi:type="As">
                           <operand localId="983" locator="500:9-500:110" path="value" xsi:type="Property">
                              <source localId="982" locator="500:9-500:104" name="GetExtension" xsi:type="FunctionRef">
                                 <operand localId="980" locator="500:22-500:47" path="extension" scope="NoVTEProphylaxis" xsi:type="Property"/>
                                 <operand localId="981" locator="500:50-500:103" valueType="t:String" value="http://example.org/StructureDefinition/notDoneReason" xsi:type="Literal"/>
                              </source>
                           </operand>
                        </operand>
                     </then>
                  </caseItem>
                  <caseItem>
                     <when isType="fhir:uri" xsi:type="Is">
                        <operand localId="983" locator="500:9-500:110" path="value" xsi:type="Property">
                           <source localId="982" locator="500:9-500:104" name="GetExtension" xsi:type="FunctionRef">
                              <operand localId="980" locator="500:22-500:47" path="extension" scope="NoVTEProphylaxis" xsi:type="Property"/>
                              <operand localId="981" locator="500:50-500:103" valueType="t:String" value="http://example.org/StructureDefinition/notDoneReason" xsi:type="Literal"/>
                           </source>
                        </operand>
                     </when>
                     <then name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand asType="fhir:uri" xsi:type="As">
                           <operand localId="983" locator="500:9-500:110" path="value" xsi:type="Property">
                              <source localId="982" locator="500:9-500:104" name="GetExtension" xsi:type="FunctionRef">
                                 <operand localId="980" locator="500:22-500:47" path="extension" scope="NoVTEProphylaxis" xsi:type="Property"/>
                                 <operand localId="981" locator="500:50-500:103" valueType="t:String" value="http://example.org/StructureDefinition/notDoneReason" xsi:type="Literal"/>
                              </source>
                           </operand>
                        </operand>
                     </then>
                  </caseItem>
                  <else resultTypeName="t:String" xsi:type="Null"/>
               </code>
               <valueset localId="984" locator="500:115-500:131" name="Patient Refusal"/>
            </where>
         </expression>
      </def>
      <def localId="1011" locator="467:1-474:28" name="No VTE Prophylaxis Due to Patient Refusal During ED Visit" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1011">
               <a:s>define &quot;No VTE Prophylaxis Due to Patient Refusal During ED Visit&quot;:&#xd;
	</a:s>
               <a:s r="1010">
                  <a:s>
                     <a:s>from&#xd;
		</a:s>
                     <a:s r="972">
                        <a:s r="971">
                           <a:s>
                              <a:s>&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> QualifyingEncounter</a:s>
                     </a:s>
                     <a:s>,&#xd;
		</a:s>
                     <a:s r="974">
                        <a:s r="973">
                           <a:s>
                              <a:s>&quot;ED Visit&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> EDVisit</a:s>
                     </a:s>
                     <a:s>,&#xd;
		</a:s>
                     <a:s r="989">
                        <a:s r="988">
                           <a:s>
                              <a:s>&quot;No VTE Prophylaxis Medication or Device Due to Patient Refusal&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> PatientRefusal</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="1007">
                     <a:s>where </a:s>
                     <a:s r="1007">
                        <a:s r="996">
                           <a:s r="991">
                              <a:s r="990">
                                 <a:s>EDVisit</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="991">
                                 <a:s>period</a:s>
                              </a:s>
                           </a:s>
                           <a:s> </a:s>
                           <a:s r="996">
                              <a:s>ends </a:s>
                              <a:s r="995">
                                 <a:s>1 hour</a:s>
                              </a:s>
                              <a:s> or less on or before</a:s>
                           </a:s>
                           <a:s> </a:s>
                           <a:s r="994">
                              <a:s>start of </a:s>
                              <a:s r="993">
                                 <a:s r="992">
                                    <a:s>QualifyingEncounter</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="993">
                                    <a:s>period</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
			and </a:s>
                        <a:s r="1006">
                           <a:s r="1003">
                              <a:s>Coalesce(</a:s>
                              <a:s r="998">
                                 <a:s r="997">
                                    <a:s>PatientRefusal</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="998">
                                    <a:s>effective</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="1000">
                                 <a:s r="999">
                                    <a:s>PatientRefusal</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="1000">
                                    <a:s>authoredOn</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="1002">
                                 <a:s r="1001">
                                    <a:s>PatientRefusal</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="1002">
                                    <a:s>recordedOn</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s r="1006"> during </a:s>
                           <a:s r="1005">
                              <a:s r="1004">
                                 <a:s>EDVisit</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="1005">
                                 <a:s>period</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="1009">
                     <a:s>return </a:s>
                     <a:s r="1008">
                        <a:s>QualifyingEncounter</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1010" locator="468:2-474:28" xsi:type="Query">
            <source localId="972" locator="469:3-469:100" alias="QualifyingEncounter">
               <expression localId="971" locator="469:3-469:80" name="Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions" xsi:type="ExpressionRef"/>
            </source>
            <source localId="974" locator="470:3-470:20" alias="EDVisit">
               <expression localId="973" locator="470:3-470:12" name="ED Visit" xsi:type="ExpressionRef"/>
            </source>
            <source localId="989" locator="471:3-471:81" alias="PatientRefusal">
               <expression localId="988" locator="471:3-471:66" name="No VTE Prophylaxis Medication or Device Due to Patient Refusal" xsi:type="ExpressionRef"/>
            </source>
            <where localId="1007" locator="472:3-473:117" xsi:type="And">
               <operand localId="996" locator="472:9-472:91" xsi:type="In">
                  <operand locator="472:24-472:27" xsi:type="End">
                     <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="991" locator="472:9-472:22" path="period" scope="EDVisit" xsi:type="Property"/>
                     </operand>
                  </operand>
                  <operand locator="472:29-472:42" lowClosed="true" highClosed="true" xsi:type="Interval">
                     <low locator="472:57-472:91" xsi:type="Subtract">
                        <operand localId="994" locator="472:57-472:91" xsi:type="Start">
                           <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="993" locator="472:66-472:91" path="period" scope="QualifyingEncounter" xsi:type="Property"/>
                           </operand>
                        </operand>
                        <operand localId="995" locator="472:29-472:34" value="1" unit="hour" xsi:type="Quantity"/>
                     </low>
                     <high localId="994" locator="472:57-472:91" xsi:type="Start">
                        <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="993" locator="472:66-472:91" path="period" scope="QualifyingEncounter" xsi:type="Property"/>
                        </operand>
                     </high>
                  </operand>
               </operand>
               <operand localId="1006" locator="473:8-473:117" xsi:type="In">
                  <operand name="ToDateTime" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="1003" locator="473:8-473:95" xsi:type="Coalesce">
                        <operand asType="fhir:dateTime" xsi:type="As">
                           <operand localId="998" locator="473:17-473:40" path="effective" scope="PatientRefusal" xsi:type="Property"/>
                        </operand>
                        <operand localId="1000" locator="473:43-473:67" path="authoredOn" scope="PatientRefusal" xsi:type="Property"/>
                        <operand localId="1002" locator="473:70-473:94" path="recordedOn" scope="PatientRefusal" xsi:type="Property"/>
                     </operand>
                  </operand>
                  <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="1005" locator="473:104-473:117" path="period" scope="EDVisit" xsi:type="Property"/>
                  </operand>
               </operand>
            </where>
            <return localId="1009" locator="474:3-474:28">
               <expression localId="1008" locator="474:10-474:28" name="QualifyingEncounter" xsi:type="AliasRef"/>
            </return>
         </expression>
      </def>
      <def localId="1033" locator="477:1-483:28" name="No VTE Prophylaxis Due to Patient Refusal on Day of or Day After Admission" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1033">
               <a:s>define &quot;No VTE Prophylaxis Due to Patient Refusal on Day of or Day After Admission&quot;:&#xd;
	</a:s>
               <a:s r="1032">
                  <a:s>
                     <a:s>from&#xd;
		</a:s>
                     <a:s r="1013">
                        <a:s r="1012">
                           <a:s>
                              <a:s>&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> QualifyingEncounter</a:s>
                     </a:s>
                     <a:s>,&#xd;
		</a:s>
                     <a:s r="1015">
                        <a:s r="1014">
                           <a:s>
                              <a:s>&quot;No VTE Prophylaxis Medication or Device Due to Patient Refusal&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> PatientRefusal</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="1029">
                     <a:s>where </a:s>
                     <a:s r="1029">
                        <a:s r="1023">
                           <a:s>Coalesce(</a:s>
                           <a:s r="1018">
                              <a:s>start of </a:s>
                              <a:s r="1017">
                                 <a:s r="1016">
                                    <a:s>PatientRefusal</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="1017">
                                    <a:s>effective</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>, </a:s>
                           <a:s r="1020">
                              <a:s r="1019">
                                 <a:s>PatientRefusal</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="1020">
                                 <a:s>authoredOn</a:s>
                              </a:s>
                           </a:s>
                           <a:s>, </a:s>
                           <a:s r="1022">
                              <a:s r="1021">
                                 <a:s>PatientRefusal</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="1022">
                                 <a:s>recordedOn</a:s>
                              </a:s>
                           </a:s>
                           <a:s>)</a:s>
                        </a:s>
                        <a:s r="1029">&#xd;
      during </a:s>
                        <a:s r="1028">
                           <a:s r="1024">
                              <a:s>VTEICU</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="1028">
                              <a:s>&quot;CalendarDayOfOrDayAfter&quot;(</a:s>
                              <a:s r="1027">
                                 <a:s>start of </a:s>
                                 <a:s r="1026">
                                    <a:s r="1025">
                                       <a:s>QualifyingEncounter</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="1026">
                                       <a:s>period</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="1031">
                     <a:s>return </a:s>
                     <a:s r="1030">
                        <a:s>QualifyingEncounter</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1032" locator="478:2-483:28" xsi:type="Query">
            <source localId="1013" locator="479:3-479:100" alias="QualifyingEncounter">
               <expression localId="1012" locator="479:3-479:80" name="Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions" xsi:type="ExpressionRef"/>
            </source>
            <source localId="1015" locator="480:3-480:81" alias="PatientRefusal">
               <expression localId="1014" locator="480:3-480:66" name="No VTE Prophylaxis Medication or Device Due to Patient Refusal" xsi:type="ExpressionRef"/>
            </source>
            <where localId="1029" locator="481:3-482:82" xsi:type="In">
               <operand localId="1023" locator="481:9-481:105" xsi:type="Coalesce">
                  <operand localId="1018" locator="481:18-481:50" xsi:type="Start">
                     <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand asType="fhir:Period" xsi:type="As">
                           <operand localId="1017" locator="481:27-481:50" path="effective" scope="PatientRefusal" xsi:type="Property"/>
                        </operand>
                     </operand>
                  </operand>
                  <operand name="ToDateTime" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="1020" locator="481:53-481:77" path="authoredOn" scope="PatientRefusal" xsi:type="Property"/>
                  </operand>
                  <operand name="ToDateTime" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="1022" locator="481:80-481:104" path="recordedOn" scope="PatientRefusal" xsi:type="Property"/>
                  </operand>
               </operand>
               <operand localId="1028" locator="482:14-482:82" name="CalendarDayOfOrDayAfter" libraryName="VTEICU" xsi:type="FunctionRef">
                  <operand localId="1027" locator="482:47-482:81" xsi:type="Start">
                     <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="1026" locator="482:56-482:81" path="period" scope="QualifyingEncounter" xsi:type="Property"/>
                     </operand>
                  </operand>
               </operand>
            </where>
            <return localId="1031" locator="483:3-483:28">
               <expression localId="1030" locator="483:10-483:28" name="QualifyingEncounter" xsi:type="AliasRef"/>
            </return>
         </expression>
      </def>
      <def localId="1065" locator="486:1-494:28" name="No VTE Prophylaxis Due to Patient Refusal on Day of or Day After Procedure" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1065">
               <a:s>define &quot;No VTE Prophylaxis Due to Patient Refusal on Day of or Day After Procedure&quot;:&#xd;
	</a:s>
               <a:s r="1064">
                  <a:s>
                     <a:s>from&#xd;
		</a:s>
                     <a:s r="1035">
                        <a:s r="1034">
                           <a:s>
                              <a:s>&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> QualifyingEncounter</a:s>
                     </a:s>
                     <a:s>,&#xd;
		</a:s>
                     <a:s r="1037">
                        <a:s r="1036">
                           <a:s r="1036">
                              <a:s>[&quot;Procedure&quot;: </a:s>
                              <a:s>
                                 <a:s>&quot;General or Neuraxial Anesthesia&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> AnesthesiaProcedure</a:s>
                     </a:s>
                     <a:s>,&#xd;
		</a:s>
                     <a:s r="1039">
                        <a:s r="1038">
                           <a:s>
                              <a:s>&quot;No VTE Prophylaxis Medication or Device Due to Patient Refusal&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> PatientRefusal</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="1061">
                     <a:s>where </a:s>
                     <a:s r="1061">
                        <a:s r="1046">
                           <a:s r="1041">
                              <a:s r="1040">
                                 <a:s>AnesthesiaProcedure</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="1041">
                                 <a:s>performed</a:s>
                              </a:s>
                           </a:s>
                           <a:s> </a:s>
                           <a:s r="1046">
                              <a:s>ends </a:s>
                              <a:s r="1045">
                                 <a:s>1 day</a:s>
                              </a:s>
                              <a:s> after day of</a:s>
                           </a:s>
                           <a:s> </a:s>
                           <a:s r="1044">
                              <a:s>start of </a:s>
                              <a:s r="1043">
                                 <a:s r="1042">
                                    <a:s>QualifyingEncounter</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="1043">
                                    <a:s>period</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
			and </a:s>
                        <a:s r="1060">
                           <a:s r="1054">
                              <a:s>Coalesce(</a:s>
                              <a:s r="1049">
                                 <a:s>start of </a:s>
                                 <a:s r="1048">
                                    <a:s r="1047">
                                       <a:s>PatientRefusal</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="1048">
                                       <a:s>effective</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="1051">
                                 <a:s r="1050">
                                    <a:s>PatientRefusal</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="1051">
                                    <a:s>authoredOn</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="1053">
                                 <a:s r="1052">
                                    <a:s>PatientRefusal</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="1053">
                                    <a:s>recordedOn</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s r="1060">&#xd;
        during </a:s>
                           <a:s r="1059">
                              <a:s r="1055">
                                 <a:s>VTEICU</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="1059">
                                 <a:s>&quot;CalendarDayOfOrDayAfter&quot;(</a:s>
                                 <a:s r="1058">
                                    <a:s>end of </a:s>
                                    <a:s r="1057">
                                       <a:s r="1056">
                                          <a:s>AnesthesiaProcedure</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="1057">
                                          <a:s>performed</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="1063">
                     <a:s>return </a:s>
                     <a:s r="1062">
                        <a:s>QualifyingEncounter</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1064" locator="487:2-494:28" xsi:type="Query">
            <source localId="1035" locator="488:3-488:100" alias="QualifyingEncounter">
               <expression localId="1034" locator="488:3-488:80" name="Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions" xsi:type="ExpressionRef"/>
            </source>
            <source localId="1037" locator="489:3-489:70" alias="AnesthesiaProcedure">
               <expression localId="1036" locator="489:3-489:50" dataType="fhir:Procedure" codeProperty="code" xsi:type="Retrieve">
                  <codes locator="489:17-489:49" name="General or Neuraxial Anesthesia" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <source localId="1039" locator="490:3-490:81" alias="PatientRefusal">
               <expression localId="1038" locator="490:3-490:66" name="No VTE Prophylaxis Medication or Device Due to Patient Refusal" xsi:type="ExpressionRef"/>
            </source>
            <where localId="1061" locator="491:3-493:85" xsi:type="And">
               <operand localId="1046" locator="491:9-491:97" precision="Day" xsi:type="SameAs">
                  <operand locator="491:39-491:42" xsi:type="End">
                     <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand asType="fhir:Period" xsi:type="As">
                           <operand localId="1041" locator="491:9-491:37" path="performed" scope="AnesthesiaProcedure" xsi:type="Property"/>
                        </operand>
                     </operand>
                  </operand>
                  <operand locator="491:63-491:97" xsi:type="Add">
                     <operand localId="1044" locator="491:63-491:97" xsi:type="Start">
                        <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="1043" locator="491:72-491:97" path="period" scope="QualifyingEncounter" xsi:type="Property"/>
                        </operand>
                     </operand>
                     <operand localId="1045" locator="491:44-491:48" value="1" unit="day" xsi:type="Quantity"/>
                  </operand>
               </operand>
               <operand localId="1060" locator="492:8-493:85" xsi:type="In">
                  <operand localId="1054" locator="492:8-492:104" xsi:type="Coalesce">
                     <operand localId="1049" locator="492:17-492:49" xsi:type="Start">
                        <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:Period" xsi:type="As">
                              <operand localId="1048" locator="492:26-492:49" path="effective" scope="PatientRefusal" xsi:type="Property"/>
                           </operand>
                        </operand>
                     </operand>
                     <operand name="ToDateTime" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="1051" locator="492:52-492:76" path="authoredOn" scope="PatientRefusal" xsi:type="Property"/>
                     </operand>
                     <operand name="ToDateTime" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="1053" locator="492:79-492:103" path="recordedOn" scope="PatientRefusal" xsi:type="Property"/>
                     </operand>
                  </operand>
                  <operand localId="1059" locator="493:16-493:85" name="CalendarDayOfOrDayAfter" libraryName="VTEICU" xsi:type="FunctionRef">
                     <operand localId="1058" locator="493:49-493:84" xsi:type="End">
                        <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:Period" xsi:type="As">
                              <operand localId="1057" locator="493:56-493:84" path="performed" scope="AnesthesiaProcedure" xsi:type="Property"/>
                           </operand>
                        </operand>
                     </operand>
                  </operand>
               </operand>
            </where>
            <return localId="1063" locator="494:3-494:28">
               <expression localId="1062" locator="494:10-494:28" name="QualifyingEncounter" xsi:type="AliasRef"/>
            </return>
         </expression>
      </def>
      <def localId="1071" locator="503:1-506:84" name="No VTE Prophylaxis Due to Patient Refusal" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1071">
               <a:s>define &quot;No VTE Prophylaxis Due to Patient Refusal&quot;:&#xd;
	</a:s>
               <a:s r="1070">
                  <a:s r="1068">
                     <a:s r="1066">
                        <a:s>&quot;No VTE Prophylaxis Due to Patient Refusal During ED Visit&quot;</a:s>
                     </a:s>
                     <a:s>&#xd;
		union </a:s>
                     <a:s r="1067">
                        <a:s>&quot;No VTE Prophylaxis Due to Patient Refusal on Day of or Day After Admission&quot;</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		union </a:s>
                  <a:s r="1069">
                     <a:s>&quot;No VTE Prophylaxis Due to Patient Refusal on Day of or Day After Procedure&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1070" locator="504:2-506:84" xsi:type="Union">
            <operand localId="1068" locator="504:2-505:84" xsi:type="Union">
               <operand localId="1066" locator="504:2-504:60" name="No VTE Prophylaxis Due to Patient Refusal During ED Visit" xsi:type="ExpressionRef"/>
               <operand localId="1067" locator="505:9-505:84" name="No VTE Prophylaxis Due to Patient Refusal on Day of or Day After Admission" xsi:type="ExpressionRef"/>
            </operand>
            <operand localId="1069" locator="506:9-506:84" name="No VTE Prophylaxis Due to Patient Refusal on Day of or Day After Procedure" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="1085" locator="509:1-518:51" name="Numerator" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1085">
               <a:s>define &quot;Numerator&quot;:&#xd;
	</a:s>
               <a:s r="1084">
                  <a:s r="1082">
                     <a:s r="1080">
                        <a:s r="1078">
                           <a:s r="1072">
                              <a:s>&quot;VTE Prophylaxis Received on Day of or Day After Admission or Procedure&quot;</a:s>
                           </a:s>
                           <a:s>&#xd;
		union </a:s>
                           <a:s r="1077">
                              <a:s>( </a:s>
                              <a:s r="1077">
                                 <a:s r="1073">
                                    <a:s>&quot;Medication Oral Factor Xa Inhibitor Administered on Day of or Day After Admission or Procedure&quot;</a:s>
                                 </a:s>
                                 <a:s>&#xd;
				intersect </a:s>
                                 <a:s r="1076">
                                    <a:s>( </a:s>
                                    <a:s r="1076">
                                       <a:s r="1074">
                                          <a:s>&quot;Encounter With Prior or Present Diagnosis of Atrial Fibrillation or VTE&quot;</a:s>
                                       </a:s>
                                       <a:s>&#xd;
						union </a:s>
                                       <a:s r="1075">
                                          <a:s>&quot;Encounter With Prior or Present Procedure of Hip or Knee Replacement Surgery&quot;</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>&#xd;
				)</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>&#xd;
		)</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
		union </a:s>
                        <a:s r="1079">
                           <a:s>&quot;Low Risk for VTE or Anticoagulant Administered&quot;</a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
		union </a:s>
                     <a:s r="1081">
                        <a:s>&quot;No VTE Prophylaxis Due to Medical Reason&quot;</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		union </a:s>
                  <a:s r="1083">
                     <a:s>&quot;No VTE Prophylaxis Due to Patient Refusal&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1084" locator="510:2-518:51" xsi:type="Union">
            <operand xsi:type="As">
               <operand localId="1082" locator="510:2-517:50" xsi:type="Union">
                  <operand xsi:type="As">
                     <operand localId="1078" locator="510:2-515:3" xsi:type="Union">
                        <operand localId="1072" locator="510:2-510:73" name="VTE Prophylaxis Received on Day of or Day After Admission or Procedure" xsi:type="ExpressionRef"/>
                        <operand localId="1077" locator="511:9-515:3" xsi:type="Intersect">
                           <operand localId="1073" locator="511:11-511:106" name="Medication Oral Factor Xa Inhibitor Administered on Day of or Day After Admission or Procedure" xsi:type="ExpressionRef"/>
                           <operand localId="1076" locator="512:15-514:5" xsi:type="Union">
                              <operand localId="1074" locator="512:17-512:89" name="Encounter With Prior or Present Diagnosis of Atrial Fibrillation or VTE" xsi:type="ExpressionRef"/>
                              <operand localId="1075" locator="513:13-513:90" name="Encounter With Prior or Present Procedure of Hip or Knee Replacement Surgery" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                     <asTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="ChoiceTypeSpecifier">
                           <choice xsi:type="TupleTypeSpecifier">
                              <element name="QualifyingEncounter">
                                 <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="EDVisit">
                                 <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="NoVTEDevice">
                                 <type xsi:type="ChoiceTypeSpecifier">
                                    <choice name="fhir:DeviceRequest" xsi:type="NamedTypeSpecifier"/>
                                    <choice name="fhir:DeviceUseStatement" xsi:type="NamedTypeSpecifier"/>
                                 </type>
                              </element>
                           </choice>
                           <choice name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                           <choice xsi:type="TupleTypeSpecifier">
                              <element name="QualifyingEncounter">
                                 <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="NoVTEDevice">
                                 <type xsi:type="ChoiceTypeSpecifier">
                                    <choice name="fhir:DeviceRequest" xsi:type="NamedTypeSpecifier"/>
                                    <choice name="fhir:DeviceUseStatement" xsi:type="NamedTypeSpecifier"/>
                                 </type>
                              </element>
                           </choice>
                        </elementType>
                     </asTypeSpecifier>
                  </operand>
                  <operand xsi:type="As">
                     <operand xsi:type="Union">
                        <operand xsi:type="As">
                           <operand localId="1079" locator="516:9-516:56" name="Low Risk for VTE or Anticoagulant Administered" xsi:type="ExpressionRef"/>
                           <asTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="ChoiceTypeSpecifier">
                                 <choice xsi:type="TupleTypeSpecifier">
                                    <element name="QualifyingEncounter">
                                       <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                                    </element>
                                    <element name="EDVisit">
                                       <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                                    </element>
                                    <element name="NoVTEDevice">
                                       <type xsi:type="ChoiceTypeSpecifier">
                                          <choice name="fhir:DeviceRequest" xsi:type="NamedTypeSpecifier"/>
                                          <choice name="fhir:DeviceUseStatement" xsi:type="NamedTypeSpecifier"/>
                                       </type>
                                    </element>
                                 </choice>
                                 <choice name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                                 <choice xsi:type="TupleTypeSpecifier">
                                    <element name="QualifyingEncounter">
                                       <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                                    </element>
                                    <element name="NoVTEDevice">
                                       <type xsi:type="ChoiceTypeSpecifier">
                                          <choice name="fhir:DeviceRequest" xsi:type="NamedTypeSpecifier"/>
                                          <choice name="fhir:DeviceUseStatement" xsi:type="NamedTypeSpecifier"/>
                                       </type>
                                    </element>
                                 </choice>
                              </elementType>
                           </asTypeSpecifier>
                        </operand>
                        <operand xsi:type="As">
                           <operand localId="1081" locator="517:9-517:50" name="No VTE Prophylaxis Due to Medical Reason" xsi:type="ExpressionRef"/>
                           <asTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="ChoiceTypeSpecifier">
                                 <choice xsi:type="TupleTypeSpecifier">
                                    <element name="QualifyingEncounter">
                                       <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                                    </element>
                                    <element name="EDVisit">
                                       <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                                    </element>
                                    <element name="NoVTEDevice">
                                       <type xsi:type="ChoiceTypeSpecifier">
                                          <choice name="fhir:DeviceRequest" xsi:type="NamedTypeSpecifier"/>
                                          <choice name="fhir:DeviceUseStatement" xsi:type="NamedTypeSpecifier"/>
                                       </type>
                                    </element>
                                 </choice>
                                 <choice name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                                 <choice xsi:type="TupleTypeSpecifier">
                                    <element name="QualifyingEncounter">
                                       <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                                    </element>
                                    <element name="NoVTEDevice">
                                       <type xsi:type="ChoiceTypeSpecifier">
                                          <choice name="fhir:DeviceRequest" xsi:type="NamedTypeSpecifier"/>
                                          <choice name="fhir:DeviceUseStatement" xsi:type="NamedTypeSpecifier"/>
                                       </type>
                                    </element>
                                 </choice>
                              </elementType>
                           </asTypeSpecifier>
                        </operand>
                     </operand>
                     <asTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="ChoiceTypeSpecifier">
                           <choice xsi:type="TupleTypeSpecifier">
                              <element name="QualifyingEncounter">
                                 <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="EDVisit">
                                 <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="NoVTEDevice">
                                 <type xsi:type="ChoiceTypeSpecifier">
                                    <choice name="fhir:DeviceRequest" xsi:type="NamedTypeSpecifier"/>
                                    <choice name="fhir:DeviceUseStatement" xsi:type="NamedTypeSpecifier"/>
                                 </type>
                              </element>
                           </choice>
                           <choice name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                           <choice xsi:type="TupleTypeSpecifier">
                              <element name="QualifyingEncounter">
                                 <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="NoVTEDevice">
                                 <type xsi:type="ChoiceTypeSpecifier">
                                    <choice name="fhir:DeviceRequest" xsi:type="NamedTypeSpecifier"/>
                                    <choice name="fhir:DeviceUseStatement" xsi:type="NamedTypeSpecifier"/>
                                 </type>
                              </element>
                           </choice>
                        </elementType>
                     </asTypeSpecifier>
                  </operand>
               </operand>
               <asTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="ChoiceTypeSpecifier">
                     <choice xsi:type="TupleTypeSpecifier">
                        <element name="QualifyingEncounter">
                           <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="EDVisit">
                           <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="NoVTEDevice">
                           <type xsi:type="ChoiceTypeSpecifier">
                              <choice name="fhir:DeviceRequest" xsi:type="NamedTypeSpecifier"/>
                              <choice name="fhir:DeviceUseStatement" xsi:type="NamedTypeSpecifier"/>
                           </type>
                        </element>
                     </choice>
                     <choice name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                     <choice xsi:type="TupleTypeSpecifier">
                        <element name="QualifyingEncounter">
                           <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="NoVTEDevice">
                           <type xsi:type="ChoiceTypeSpecifier">
                              <choice name="fhir:DeviceRequest" xsi:type="NamedTypeSpecifier"/>
                              <choice name="fhir:DeviceUseStatement" xsi:type="NamedTypeSpecifier"/>
                           </type>
                        </element>
                     </choice>
                  </elementType>
               </asTypeSpecifier>
            </operand>
            <operand xsi:type="As">
               <operand localId="1083" locator="518:9-518:51" name="No VTE Prophylaxis Due to Patient Refusal" xsi:type="ExpressionRef"/>
               <asTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="ChoiceTypeSpecifier">
                     <choice xsi:type="TupleTypeSpecifier">
                        <element name="QualifyingEncounter">
                           <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="EDVisit">
                           <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="NoVTEDevice">
                           <type xsi:type="ChoiceTypeSpecifier">
                              <choice name="fhir:DeviceRequest" xsi:type="NamedTypeSpecifier"/>
                              <choice name="fhir:DeviceUseStatement" xsi:type="NamedTypeSpecifier"/>
                           </type>
                        </element>
                     </choice>
                     <choice name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                     <choice xsi:type="TupleTypeSpecifier">
                        <element name="QualifyingEncounter">
                           <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="NoVTEDevice">
                           <type xsi:type="ChoiceTypeSpecifier">
                              <choice name="fhir:DeviceRequest" xsi:type="NamedTypeSpecifier"/>
                              <choice name="fhir:DeviceUseStatement" xsi:type="NamedTypeSpecifier"/>
                           </type>
                        </element>
                     </choice>
                  </elementType>
               </asTypeSpecifier>
            </operand>
         </expression>
      </def>
   </statements>
</library>


